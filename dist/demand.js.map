{"version":3,"sources":["demand.js","constants.js","shortcuts.js","class/descriptor.js","validator/isTypeOf.js","validator/isObject.js","validator/isPositive.js","validator/isInstanceOf.js","function/iterate.js","inheritance.js","function/merge.js","function/defer.js","function/uuid.js","function/toArray.js","singleton/event.js","function/getTimestamp.js","function/escapeRegex.js","function/resolveUrl.js","variables.js","function/resolvePath.js","function/resolveId.js","singleton/cache.js","class/weakmap.js","class/pledge.js","class/registry.js","class/failure.js","class/dependency.js","class/pattern.js","class/xhr.js","validator/isArray.js","function/hash.js","abstract/uuid.js","function/demand.js","class/loader.js","function/provide.js","class/queue.js","class/processor.js","function/resolveSourcemaps.js","abstract/handler.js","handler/module.js","class/Failure.js","handler/bundle.js","handler/component.js","plugin/genie.js"],"names":["global","setTimeout","clearTimeout","demand","provide","queue","processor","document","options","settings","version","cache","timeout","pattern","modules","handler","DEMAND_ID","MODULE_PREFIX","MODULE_PREFIX_ABSTRACT","MODULE_PREFIX_HANDLER","MODULE_PREFIX_PLUGIN","MODULE_PREFIX_FUNCTION","MODULE_PREFIX_VALIDATOR","MOCK_PREFIX","NULL","UNDEFINED","undefined","FALSE","TRUE","STRING_UNDEFINED","STRING_STRING","STRING_OBJECT","STRING_FUNCTION","STRING_NUMBER","FUNCTION_EMPTY","EVENT_PRE_CONFIGURE","EVENT_PREFIX","EVENT_POST_CONFIGURE","EVENT_POSTFIX","EVENT_CACHE","EVENT_CACHE_MISS","EVENT_CACHE_EXCEED","EVENT_PRE_RESOLVE","EVENT_POST_RESOLVE","EVENT_PRE_REQUEST","EVENT_POST_REQUEST","EVENT_PRE_PROCESS","EVENT_POST_PROCESS","EVENT_QUEUE_ENQUEUE","EVENT_QUEUE","ERROR_LOAD","ERROR_RESOLVE","arrayPrototype","Array","prototype","arrayPrototypeSlice","slice","arrayPrototypeConcat","concat","object","Object","objectPrototypeToString","toString","objectCreate","create","objectDefineProperty","defineProperty","objectGetOwnPropertyNames","getOwnPropertyNames","objectGetOwnPropertyDescriptor","getOwnPropertyDescriptor","linkElement","createElement","ClassDescriptor","value","writable","configurable","enumerable","__proto__","validatorIsTypeOf","type","validatorIsObject","validatorIsPositive","isFinite","Math","floor","validatorIsInstanceOf","module","functionIterate","source","callback","context","property","properties","keys","i","call","strPrototype","objectDefine","name","this","functionExtends","names","constructor","e","TypeError","Function","define","storage","element","fallback","hasSetImmediate","functionMerge","mergeProperties","targetPropertyIsObject","targetProperty","length","target","arguments","functionUuid","regex","RegExp","randomize","character","r","random","replace","functionDefer","fn","MutationObserver","observe","attributes","setAttribute","addEventListener","event","data","uuid","postMessage","onreadystatechange","parentNode","removeChild","body","appendChild","setImmediate","functionToArray","arrayLikeObject","start","end","singletonEvent","TYPE_ON","regexMatchEvent","listener","addListener","events","pointer","split","shift","test","on","after","push","filter","Event","emit","parameter","item","apply","functionGetTimestamp","Date","regexMatchRegex","functionEscapeRegex","functionResolveUrl","url","href","regexIsAbsoluteUri","regexIsAbsolutePath","regexMatchSourcemap","regexMatchBaseUrl","regexMatchInternal","regexMatchParameter","functionResolvePath","uri","path","functionResolveId","match","singletonCache","STORAGE_PREFIX","STORAGE_SUFFIX_STATE","regexMatchState","regexMatchProperties","supportsLocalStorage","localStorage","exception","supportsRemainingSpace","enabled","dependency","indexOf","weight","state","getKey","key","getItem","setKey","getState","matches","setState","join","id","Cache","clear","expired","bind","then","cacheDispose","set","get","lifetime","invalid","resolve","spaceBefore","remainingSpace","Error","error","ClassDependency","all","self","ClassWeakmap","WeakMap","prefix","getEntry","entry","delete","has","ClassPledge","PLEDGE_PENDING","PLEDGE_RESOLVED","PLEDGE_REJECTED","pledge","index","resolved","count","check","rejected","total","dfd","reject","executor","handle","result","catch","always","alwaysListener","resolveListener","rejectListener","defer","isPending","isResolved","isRejected","pledges","race","ClassRegistry","remove","ClassFailure","message","stack","traverse","depth","indention","registry","placeholder","setProperty","addPending","addResolved","addRejected","register","mock","enqueue","isInternal","node","querySelector","list","pending","ClassPattern","regexMatchTrailingSlash","location","process","current","ClassXhr","XMLHttpRequest","XDomainRequest","xhr","boundCheckState","readyState","abort","ontimeout","onerror","onabort","status","onprogress","onload","responseText","getResponseHeader","open","send","validatorIsArray","functionHash","input","charCodeAt","AbstractUuid","updateCacheSettings","updatePatternSettings","updateModuleSettings","temp","dependencies","configure","base","min","max","regexMatchEmptySearch","response","validate","load","search","onPostRequest","EVENT_CACHE_HIT","onPreRequest","onPreProcess","isFunction","definition","console","/demand","ClassQueue","dequeue","extends","ClassProcessor","functionResolveSourcemaps","replacement","exec","protocol","host","pathname","abstractHandler","handlerModule","getElementsByTagName","regexMatchType","HandlerModule","script","async","text","handlerBundle","updateDependencies","HandlerBundle","getType","handlerComponent","HandlerComponent","container","innerHTML","firstElementChild","getAttribute","textContent","pluginGenie","matchPattern","addPattern","resolveBundles","JSON","stringify","bundle","configuration","/demand/handler/bundle","generateConfiguration","bundles","assignModule","main","parent"],"mappings":"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","file":"demand.js","sourcesContent":["/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tMODULE_PREFIX, MODULE_PREFIX_HANDLER, MODULE_PREFIX_VALIDATOR, MODULE_PREFIX_PLUGIN, MODULE_PREFIX_FUNCTION, MODULE_PREFIX_ABSTRACT, STRING_STRING, STRING_FUNCTION, TRUE,\n\tvalidatorIsTypeOf, validatorIsArray, validatorIsObject, validatorIsInstanceOf,\n\tfunctionResolveUrl, functionResolveSourcemaps, functionMerge, functionIterate, functionDefer, functionHash, functionUuid,\n\tAbstractUuid, abstractHandler,\n\tClassDependency, ClassQueue, ClassProcessor, ClassPledge, ClassXhr, ClassFailure, ClassDescriptor, ClassWeakmap,\n\thandlerModule, handlerBundle, handlerComponent,\n \tpluginGenie\n*/\n\n/*eslint no-unused-vars: [2, { \"vars\": \"local\", \"args\": \"none\" }]*/\n(function(global, setTimeout, clearTimeout) {\n\t'use strict';\n\n\t/* eslint-disable no-unused-vars */\n\tvar document = global.document,\n\t\toptions  = 'demand' in global && global.demand,\n\t\tsettings = { version: '1.0.0', cache: {}, timeout: 8000, pattern: {}, modules: {}, handler: 'module' },\n\t\tdemand, provide, queue, processor;\n\t/* eslint-enable no-unused-vars */\n\n\t// include inheritance\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tTRUE,\n\t\t\tobjectCreate, objectDefineProperty, objectGetOwnPropertyNames, objectGetOwnPropertyDescriptor,\n\t\t\tClassDescriptor\n\t\t*/\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n\t\t*/\n\t\t\n\t\tvar DEMAND_ID               = 'demand',\n\t\t\tPROVIDE_ID              = 'provide',\n\t\t\tPATH_ID                 = 'path',\n\t\t\tMODULE_PREFIX           = '/' + DEMAND_ID + '/',\n\t\t\tMODULE_PREFIX_ABSTRACT  = MODULE_PREFIX + 'abstract/',\n\t\t\tMODULE_PREFIX_HANDLER   = MODULE_PREFIX + 'handler/',\n\t\t\tMODULE_PREFIX_PLUGIN    = MODULE_PREFIX + 'plugin/',\n\t\t\tMODULE_PREFIX_FUNCTION  = MODULE_PREFIX + 'function/',\n\t\t\tMODULE_PREFIX_VALIDATOR = MODULE_PREFIX + 'validator/',\n\t\t\tMOCK_PREFIX             = 'mock:',\n\t\t\tNULL                    = null,\n\t\t\tUNDEFINED               = undefined,\n\t\t\tFALSE                   = false,\n\t\t\tTRUE                    = true,\n\t\t\tSTRING_UNDEFINED        = 'undefined',\n\t\t\tSTRING_STRING           = 'string',\n\t\t\tSTRING_BOOLEAN          = 'boolean',\n\t\t\tSTRING_OBJECT           = 'object',\n\t\t\tSTRING_FUNCTION         = 'function',\n\t\t\tSTRING_NUMBER           = 'number',\n\t\t\tFUNCTION_EMPTY          = function() {},\n\t\t\tEVENT_PREFIX            = 'pre',\n\t\t\tEVENT_POSTFIX           = 'post',\n\t\t\tEVENT_CONFIGURE         = 'Configure',\n\t\t\tEVENT_PRE_CONFIGURE     = EVENT_PREFIX + EVENT_CONFIGURE,\n\t\t\tEVENT_POST_CONFIGURE    = EVENT_POSTFIX + EVENT_CONFIGURE,\n\t\t\tEVENT_CACHE             = 'cache',\n\t\t\tEVENT_CACHE_MISS        = EVENT_CACHE + 'Miss',\n\t\t\tEVENT_CACHE_HIT         = EVENT_CACHE + 'Hit',\n\t\t\tEVENT_CACHE_CLEAR       = EVENT_CACHE + 'Clear',\n\t\t\tEVENT_CACHE_EXCEED      = EVENT_CACHE + 'Exceed',\n\t\t\tEVENT_PRE_CACHE         = EVENT_PREFIX + 'Cache',\n\t\t\tEVENT_POST_CACHE        = EVENT_POSTFIX + 'Cache',\n\t\t\tEVENT_RESOLVE           = 'Resolve',\n\t\t\tEVENT_PRE_RESOLVE       = EVENT_PREFIX + EVENT_RESOLVE,\n\t\t\tEVENT_POST_RESOLVE      = EVENT_POSTFIX + EVENT_RESOLVE,\n\t\t\tEVENT_REQUEST           = 'Request',\n\t\t\tEVENT_PRE_REQUEST       = EVENT_PREFIX + EVENT_REQUEST,\n\t\t\tEVENT_POST_REQUEST      = EVENT_POSTFIX + EVENT_REQUEST,\n\t\t\tEVENT_PROCESS           = 'Process',\n\t\t\tEVENT_PRE_PROCESS       = EVENT_PREFIX + EVENT_PROCESS,\n\t\t\tEVENT_POST_PROCESS      = EVENT_POSTFIX + EVENT_PROCESS,\n\t\t\tEVENT_QUEUE             = 'queue',\n\t\t\tEVENT_QUEUE_ENQUEUE     = EVENT_QUEUE + 'Enqueue',\n\t\t\tEVENT_QUEUE_DEQUEUE     = EVENT_QUEUE + 'Dequeue',\n\t\t\tERROR_LOAD              = 'error loading',\n\t\t\tERROR_PROVIDE           = 'error providing',\n\t\t\tERROR_RESOLVE           = 'error resolving',\n\t\t\tERROR_PROVIDE_ANONYMOUS = 'unspecified anonymous provide';\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n\t\t*/\n\t\t\n\t\tvar arrayPrototype                 = Array.prototype,\n\t\t\tarrayPrototypeSlice            = arrayPrototype.slice,\n\t\t\tarrayPrototypeConcat           = arrayPrototype.concat,\n\t\t\tobject                         = Object,\n\t\t\tobjectPrototype                = object.prototype,\n\t\t\tobjectPrototypeToString        = objectPrototype.toString,\n\t\t\tobjectCreate                   = object.create,\n\t\t\tobjectDefineProperty           = object.defineProperty,\n\t\t\tobjectGetOwnPropertyNames      = object.getOwnPropertyNames,\n\t\t\tobjectGetOwnPropertyDescriptor = object.getOwnPropertyDescriptor,\n\t\t\tlinkElement                    = document.createElement('a');\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tNULL\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t\n\t\tfunction ClassDescriptor(value, writable, configurable, enumerable) {\n\t\t\treturn {\n\t\t\t\t__proto__:    NULL,\n\t\t\t\tvalue:        value,\n\t\t\t\tenumerable:   !!enumerable,\n\t\t\t\tconfigurable: !!configurable,\n\t\t\t\twritable:     !!writable\n\t\t\t};\n\t\t}\n\t\t\n\t\t\n\t\t(function(strPrototype) {\n\t\t\tfunction objectDefine(name, value, writable, configurable, enumerable) {\n\t\t\t\tobjectDefineProperty(this, name, new ClassDescriptor(value, writable, configurable, enumerable));\n\t\t\t}\n\t\t\n\t\t\tfunction functionExtends(source) {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tprototype  = self[strPrototype],\n\t\t\t\t\tnames      = objectGetOwnPropertyNames(prototype),\n\t\t\t\t\tproperties = { constructor:  new ClassDescriptor(self, TRUE, TRUE)},\n\t\t\t\t\ti = 0, property;\n\t\t\n\t\t\t\tfor(; (property = names[i]) && !properties[property]; i++) {\n\t\t\t\t\tproperties[property] = objectGetOwnPropertyDescriptor(prototype, property);\n\t\t\t\t}\n\t\t\n\t\t\t\ttry {\n\t\t\t\t\tself[strPrototype] = objectCreate(source[strPrototype] || source, properties);\n\t\t\t\t} catch(e) {\n\t\t\t\t\t// ES6 class prototypes are readonly at least in Chrome\n\t\t\t\t\t// (and assignment throws an error in strict mode) ...\n\t\t\t\t}\n\t\t\n\t\t\t\t// ... which is handled here\n\t\t\t\tif(self[strPrototype] === prototype) {\n\t\t\t\t\tthrow new TypeError('Unable to extend, prototype is not writable');\n\t\t\t\t}\n\t\t\n\t\t\t\treturn self;\n\t\t\t}\n\t\t\n\t\t\tobjectDefine.call(Object.prototype, 'define', objectDefine);\n\t\t\tobjectDefine.call(global.Object.prototype, 'define', objectDefine);\n\t\t\n\t\t\tFunction.prototype.define('extends', functionExtends);\n\t\t\tglobal.Function.prototype.define('extends', functionExtends);\n\t\t}('prototype'));\n\t\t\n\n\t// include main components\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tSTRING_BOOLEAN, STRING_STRING, EVENT_PRE_RESOLVE, EVENT_POST_RESOLVE, EVENT_PRE_CONFIGURE, EVENT_POST_CONFIGURE, EVENT_CACHE_MISS, EVENT_CACHE_HIT, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, EVENT_PRE_PROCESS, EVENT_POST_PROCESS, NULL, FALSE,\n\t\t\tvalidatorIsTypeOf, validatorIsObject, validatorIsPositive, validatorIsInstanceOf,\n\t\t\tfunctionIterate, functionMerge, functionDefer, functionToArray,\n\t\t\tClassPledge, ClassDependency, ClassPattern, ClassLoader,\n\t\t\tsingletonEvent, singletonCache\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n\t\t*/\n\t\t\n\t\t/**\n\t\t * isTypeOf\n\t\t *\n\t\t * Check whether a given object is of specified type\n\t\t *\n\t\t * @param object\n\t\t * @param {string} type\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\t\n\t\tfunction validatorIsTypeOf(object, type) {\n\t\t\treturn typeof object === type;\n\t\t}\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tSTRING_OBJECT,\n\t\t\tvalidatorIsTypeOf\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require validator/isTypeOf.js\n\t\t\n\t\t/**\n\t\t * isObject\n\t\t *\n\t\t * Check whether a given object is of type object\n\t\t *\n\t\t * @param object\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\t\n\t\tfunction validatorIsObject(object) {\n\t\t\treturn object && validatorIsTypeOf(object, STRING_OBJECT);\n\t\t}\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tSTRING_NUMBER,\n\t\t\tvalidatorIsTypeOf\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require validator/isTypeOf.js\n\t\t\n\t\t/**\n\t\t * isPositive\n\t\t *\n\t\t * Check whether a given value is a positive integer\n\t\t *\n\t\t * @param value\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\t\n\t\tfunction validatorIsPositive(value) {\n\t\t\treturn validatorIsTypeOf(value, STRING_NUMBER) && isFinite(value) && Math.floor(value) === value && value >= 0;\n\t\t}\n\t\t\n\t\t/**\n\t\t * isInstanceOf\n\t\t *\n\t\t * Check whether a given object is an instance of specified type\n\t\t *\n\t\t * @param object\n\t\t * @param module\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tfunction validatorIsInstanceOf(object, module) {\n\t\t\treturn object instanceof module;\n\t\t}\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tUNDEFINED, FALSE,\n\t\t\tobject\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require shortcuts.js\n\t\t\n\t\t/**\n\t\t * iterate\n\t\t *\n\t\t * Iterate over enumerable & own properties of a given\n\t\t * object and pass current property as well as its value\n\t\t * to a callback function\n\t\t *\n\t\t * @param {object} object\n\t\t * @param {function} callback\n\t\t * @param context\n\t\t *\n\t\t * @return mixed\n\t\t */\n\t\t\n\t\tfunction functionIterate(source, callback, context) {\n\t\t\tvar properties = object.keys(source),\n\t\t\t\ti = 0, property;\n\t\t\n\t\t\tfor(; (property = properties[i]) !== UNDEFINED; i++) {\n\t\t\t\tif(callback.call(context, property, source[property]) === FALSE) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn context;\n\t\t}\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tUNDEFINED,\n\t\t\tvalidatorIsObject,\n\t\t\tfunctionIterate\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require validator/isObject.js\n\t\t//=require function/iterate.js\n\t\t\n\t\t/**\n\t\t * merge\n\t\t *\n\t\t * Merge two or more objects into the first one passed in\n\t\t *\n\t\t * @param {...object} object\n\t\t *\n\t\t * @return {object}\n\t\t */\n\t\tvar functionMerge = (function() {\n\t\t\tfunction mergeProperties(property, value) {\n\t\t\t\tvar targetProperty = this[property],\n\t\t\t\t\ttargetPropertyIsObject;\n\t\t\n\t\t\t\tif(value !== UNDEFINED) {\n\t\t\t\t\tif(validatorIsObject(value)) {\n\t\t\t\t\t\ttargetPropertyIsObject = validatorIsObject(targetProperty);\n\t\t\n\t\t\t\t\t\tif(value.length !== UNDEFINED) {\n\t\t\t\t\t\t\ttargetProperty = (targetPropertyIsObject && targetProperty.length !== UNDEFINED) ? targetProperty : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttargetProperty = (targetPropertyIsObject && targetProperty.length === UNDEFINED) ? targetProperty : {};\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tthis[property] = functionMerge(targetProperty, value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis[property] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn function functionMerge() {\n\t\t\t\tvar target = arguments[0],\n\t\t\t\t\ti = 1, properties;\n\t\t\n\t\t\t\tfor(; (properties = arguments[i]) !== UNDEFINED; i++) {\n\t\t\t\t\tfunctionIterate(properties, mergeProperties, target);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn target;\n\t\t\t};\n\t\t}());\n\t\t\n\t\t/**\n\t\t * Based on setAsap:\n\t\t *   Repo:    https://github.com/taylorhakes/setAsap\n\t\t *   License: https://github.com/taylorhakes/setAsap/blob/master/LICENSE\n\t\t */\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tNULL, TRUE, FALSE,\n\t\t\tfunctionUuid\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require shortcuts.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n\t\t*/\n\t\t\n\t\tvar functionUuid = (function() {\n\t\t\tvar regex = new RegExp('[xy]', 'g');\n\t\t\n\t\t\tfunction randomize(character) {\n\t\t\t\tvar r = Math.random() * 16 | 0;\n\t\t\n\t\t\t\treturn ((character === 'x') ? r : (r & 0x3 | 0x8)).toString(16);\n\t\t\t}\n\t\t\n\t\t\treturn function functionUuid() {\n\t\t\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(regex, randomize);\n\t\t\t};\n\t\t}());\n\t\t\n\t\t\n\t\t/**\n\t\t * defer\n\t\t *\n\t\t * delay function execution like setImmediate does\n\t\t *\n\t\t * @param {function} function\n\t\t */\n\t\tvar functionDefer = (function() {\n\t\t\tvar hasSetImmediate = 'setImmediate' in global,\n\t\t\t\telement, fallback;\n\t\t\n\t\t\tif('MutationObserver' in global) {\n\t\t\t\treturn function functionDefer(fn) {\n\t\t\t\t\telement = document.createElement('div');\n\t\t\n\t\t\t\t\tnew MutationObserver(function() { fn(); })\n\t\t\t\t\t\t.observe(element, { attributes: TRUE });\n\t\t\n\t\t\t\t\telement.setAttribute('i', '1');\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tif(!hasSetImmediate && 'postMessage' in global && !('importScripts' in global) && 'addEventListener' in global) {\n\t\t\t\treturn (function() {\n\t\t\t\t\tvar storage = {};\n\t\t\n\t\t\t\t\tfunction onMessage(event) {\n\t\t\t\t\t\tvar fn;\n\t\t\n\t\t\t\t\t\tif(event.source === global && event.data && (fn = storage[event.data])) {\n\t\t\t\t\t\t\tfn();\n\t\t\n\t\t\t\t\t\t\tdelete storage[event.data];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tglobal.addEventListener('message', onMessage, FALSE);\n\t\t\n\t\t\t\t\treturn function functionDefer(fn) {\n\t\t\t\t\t\tvar uuid = functionUuid();\n\t\t\n\t\t\t\t\t\tstorage[uuid] = fn;\n\t\t\n\t\t\t\t\t\tglobal.postMessage(uuid, '*');\n\t\t\t\t\t};\n\t\t\t\t}());\n\t\t\t}\n\t\t\n\t\t\tif(!hasSetImmediate && 'onreadystatechange' in (element = document.createElement('script'))) {\n\t\t\t\treturn function functionDefer(fn) {\n\t\t\t\t\telement.onreadystatechange = function onreadystatechange() {\n\t\t\t\t\t\telement.onreadystatechange = NULL;\n\t\t\t\t\t\telement.parentNode.removeChild(element);\n\t\t\n\t\t\t\t\t\tfn();\n\t\t\t\t\t};\n\t\t\n\t\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tfallback = hasSetImmediate ? setImmediate : setTimeout; // eslint-disable-line no-undef\n\t\t\n\t\t\treturn function functionDefer(fn) {\n\t\t\t\tfallback(fn);\n\t\t\t};\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tarrayPrototypeSlice\n\t\t*/\n\t\t\n\t\t//=require shortcuts.js\n\t\t\n\t\tfunction functionToArray(arrayLikeObject, start, end) {\n\t\t\treturn arrayPrototypeSlice.call(arrayLikeObject, start, end);\n\t\t}\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tNULL, STRING_STRING, STRING_FUNCTION, EVENT_POST_CONFIGURE,\n\t\t\tvalidatorIsTypeOf,\n\t\t\tfunctionToArray\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require validator/isTypeOf.js\n\t\t//=require function/toArray.js\n\t\t\n\t\tvar singletonEvent = (function() {\n\t\t\tvar TYPE_ON         = 'on',\n\t\t\t\tTYPE_AFTER      = 'after',\n\t\t\t\tregexMatchEvent = /^cache(Miss|Hit|Clear|Exceed)|queue(En|De)queue|(pre|post)(Resolve|Configure|Request|Process|Cache)$/,\n\t\t\t\tlistener        = {};\n\t\t\n\t\t\tfunction addListener(type, events, callback) {\n\t\t\t\tvar event, pointer;\n\t\t\n\t\t\t\tif(validatorIsTypeOf(events, STRING_STRING) && validatorIsTypeOf(callback, STRING_FUNCTION)) {\n\t\t\t\t\tevents = events.split(' ');\n\t\t\n\t\t\t\t\twhile(event = events.shift()) {\n\t\t\t\t\t\tevent = event.split(':');\n\t\t\n\t\t\t\t\t\tif(regexMatchEvent.test(event[0])) {\n\t\t\t\t\t\t\t(listener[event[0]] || (listener[event[0]] = { on: [], after: [] }))[type].push({ callback: callback, filter: event[1] });\n\t\t\n\t\t\t\t\t\t\tif(type === TYPE_ON && event[0] === EVENT_POST_CONFIGURE && (pointer = settings.modules[event[1]])) {\n\t\t\t\t\t\t\t\tcallback(pointer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction Event() {}\n\t\t\n\t\t\tEvent.prototype = {\n\t\t\t\temit: function (event, filter) {\n\t\t\t\t\tvar pointer = listener[event],\n\t\t\t\t\t\tparameter, i, item;\n\t\t\n\t\t\t\t\tif(pointer) {\n\t\t\t\t\t\tparameter = functionToArray(arguments, 2);\n\t\t\n\t\t\t\t\t\tfor(i = 0; (item = pointer[TYPE_ON][i]); i++) {\n\t\t\t\t\t\t\tif(!item.filter || item.filter === filter) {\n\t\t\t\t\t\t\t\titem.callback.apply(NULL, parameter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tfor(i = 0; (item = pointer[TYPE_AFTER][i]); i++) {\n\t\t\t\t\t\t\tif(!item.filter || item.filter === filter) {\n\t\t\t\t\t\t\t\titem.callback.apply(NULL, parameter);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\ton: function(events, callback) {\n\t\t\t\t\taddListener(TYPE_ON, events, callback);\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tafter: function(events, callback) {\n\t\t\t\t\taddListener(TYPE_AFTER, events, callback);\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn new Event();\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tDEMAND_ID, FUNCTION_EMPTY, EVENT_POST_REQUEST, EVENT_POST_PROCESS, EVENT_CACHE_HIT, EVENT_CACHE_MISS, EVENT_CACHE_EXCEED, EVENT_CACHE_CLEAR, EVENT_PRE_CACHE, EVENT_PRE_CACHE, EVENT_POST_CACHE, STRING_STRING, NULL, FALSE, TRUE,\n\t\t\tvalidatorIsTypeOf,\n\t\t\tfunctionGetTimestamp, functionEscapeRegex, functionIterate, functionDefer, functionResolveId, functionToArray,\n\t\t\tClassDependency,\n\t\t\tsingletonEvent\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require validator/isTypeOf.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n\t\t*/\n\t\t\n\t\tfunction functionGetTimestamp() {\n\t\t\treturn +new Date();\n\t\t}\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n\t\t*/\n\t\t\n\t\tvar functionEscapeRegex = (function() {\n\t\t\tvar regexMatchRegex = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g; // eslint-disable-line no-useless-escape\n\t\t\n\t\t\treturn function functionEscapeRegex(value) {\n\t\t\t\treturn value.replace(regexMatchRegex, '\\\\$&');\n\t\t\t};\n\t\t}());\n\t\t\n\t\t//=require function/iterate.js\n\t\t//=require function/defer.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tregexMatchParameter,\n\t\t\tfunctionResolvePath\n\t\t*/\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tDEMAND_ID, PROVIDE_ID, PATH_ID,\n\t\t\tfunctionEscapeRegex, functionResolveUrl\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require function/escapeRegex.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tlinkElement\n\t\t*/\n\t\t\n\t\t//=require shortcuts.js\n\t\t\n\t\tfunction functionResolveUrl(url) {\n\t\t\tlinkElement.href = url;\n\t\t\n\t\t\treturn linkElement.href;\n\t\t}\n\t\t\n\t\t\n\t\tvar regexIsAbsoluteUri      = /^(http(s?):)?\\/\\//i,\n\t\t\tregexIsAbsolutePath     = /^\\//,\n\t\t\tregexMatchSourcemap     = /((?:\\/\\/|\\/\\*)#)\\s*(sourceMappingURL)\\s*=\\s*(?!(?:http[s]?:)?\\/\\/)(.+?)\\.map(?:\\s+)?(\\*\\/)?/g,\n\t\t\tregexMatchBaseUrl       = new RegExp('^' + functionEscapeRegex(functionResolveUrl('/'))),\n\t\t\tregexMatchInternal      = new RegExp('^' + DEMAND_ID + '|' + PROVIDE_ID + '|' + PATH_ID + '$'),\n\t\t\tregexMatchParameter     = /^(mock:)?([+-])?((?:[-\\w]+\\/?)+)?(?:@(.+?))?(?:#(\\d+))?!/;\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tregexMatchParameter, regexMatchBaseUrl, regexIsAbsolutePath, regexIsAbsoluteUri,\n\t\t\tfunctionResolveUrl\n\t\t*/\n\t\t\n\t\t//=require variables.js\n\t\t//=require function/resolveUrl.js\n\t\t\n\t\tfunction functionResolvePath(uri, context) {\n\t\t\tvar path = uri.replace(regexMatchParameter, '');\n\t\t\n\t\t\tif(!regexIsAbsolutePath.test(path) && !regexIsAbsoluteUri.test(path)) {\n\t\t\t\tpath = '/' + functionResolveUrl(((context && functionResolveUrl(context + '/../')) || '/') + path).replace(regexMatchBaseUrl, '');\n\t\t\t}\n\t\t\n\t\t\treturn path;\n\t\t}\n\t\t\n\t\t\n\t\tfunction functionResolveId(uri, context) {\n\t\t\tvar parameter = uri.match(regexMatchParameter);\n\t\t\n\t\t\treturn ((parameter && parameter[1]) ? 'mock:' : '') + ((parameter && parameter[3]) || settings.handler) + '!' + functionResolvePath(uri, context);\n\t\t}\n\t\t\n\t\t//=require function/toArray.js\n\t\t//=require singleton/event.js\n\t\t\n\t\tvar singletonCache = (function() {\n\t\t\tvar STORAGE_PREFIX         = '[' + DEMAND_ID + ']',\n\t\t\t\tSTORAGE_SUFFIX_STATE   = '[state]',\n\t\t\t\tSTORAGE_SUFFIX_VALUE   = '[value]',\n\t\t\t\tregexMatchState        = new RegExp('^' + functionEscapeRegex(STORAGE_PREFIX) + '\\\\[(.+?)\\\\]' + functionEscapeRegex(STORAGE_SUFFIX_STATE) + '$'),\n\t\t\t\tregexMatchProperties   = /^(.+?),(\\d+),(\\d*),(.+?),(\\d+)$/,\n\t\t\t\tsupportsLocalStorage   = (function() { try { return 'localStorage' in global && global.localStorage; } catch(exception) { return FALSE; } }()),\n\t\t\t\tlocalStorage           = supportsLocalStorage ? global.localStorage : NULL,\n\t\t\t\tsupportsRemainingSpace = supportsLocalStorage && 'remainingSpace' in localStorage,\n\t\t\t\tstorage                = {},\n\t\t\t\tcache;\n\t\t\n\t\t\tsingletonEvent\n\t\t\t\t.on(EVENT_CACHE_MISS, function(dependency) {\n\t\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\t\tcache.clear.path(dependency.id);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.on(EVENT_CACHE_EXCEED, function(dependency) {\n\t\t\t\t\tdemand('-!/' + DEMAND_ID + '/cache/dispose').then(function(cacheDispose) {\n\t\t\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\t\t\tcacheDispose(dependency.source.length);\n\t\t\n\t\t\t\t\t\t\tcache.set(dependency);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.on(EVENT_POST_REQUEST, function(dependency) {\n\t\t\t\t\tif(dependency.source && enabled(dependency)) {\n\t\t\t\t\t\tstorage[dependency.id] = TRUE;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.after(EVENT_POST_PROCESS, function(dependency) {\n\t\t\t\t\tif(storage[dependency.id]) {\n\t\t\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\t\t\tcache.set(dependency);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\tfunction enabled(dependency) {\n\t\t\t\tvar match;\n\t\t\n\t\t\t\tif(dependency.cache !== NULL) {\n\t\t\t\t\treturn dependency.cache;\n\t\t\t\t}\n\t\t\n\t\t\t\tfunctionIterate(settings.cache, function(property, value) {\n\t\t\t\t\tif(dependency.path.indexOf(property) === 0 && (!match || value.weight > match.weight)) {\n\t\t\t\t\t\tmatch = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\t\treturn match ? match.state : FALSE;\n\t\t\t}\n\t\t\n\t\t\tfunction getKey(key) {\n\t\t\t\treturn localStorage.getItem(key);\n\t\t\t}\n\t\t\n\t\t\tfunction setKey(key, value) {\n\t\t\t\tlocalStorage[value ? 'setItem' : 'removeItem'](key, value);\n\t\t\t}\n\t\t\n\t\t\tfunction getState(key) {\n\t\t\t\tvar state = getKey(key),\n\t\t\t\t\tmatches;\n\t\t\n\t\t\t\tif(state && (matches = state.match(regexMatchProperties))) {\n\t\t\t\t\treturn functionToArray(matches, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction setState(key, state) {\n\t\t\t\tstate[4] = functionGetTimestamp();\n\t\t\n\t\t\t\tsetKey(key, state.join(','));\n\t\t\t}\n\t\t\n\t\t\tfunction emit(event, dependency, state) {\n\t\t\t\tsingletonEvent.emit(event, dependency.id, dependency, state);\n\t\t\t}\n\t\t\n\t\t\tfunction Cache() {\n\t\t\t\tfunctionDefer(this.clear.expired.bind(this.clear));\n\t\t\t}\n\t\t\n\t\t\tCache.prototype = {\n\t\t\t\tget:     supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar id, state;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(enabled(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid    = STORAGE_PREFIX + '[' + dependency.id + ']';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate = getState(id + STORAGE_SUFFIX_STATE);\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!state) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(state[0] !== dependency.version || (state[2] && dependency.lifetime && state[2] <= functionGetTimestamp())) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdependency.invalid = true;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdependency.source = getKey(id + STORAGE_SUFFIX_VALUE);\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetState(id + STORAGE_SUFFIX_STATE, state);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn TRUE;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\t\t\tresolve: supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar self = this;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(self.get(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_HIT, dependency);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_MISS, dependency);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} : function(dependency) { emit(EVENT_CACHE_MISS, dependency); },\n\t\t\t\tset:     supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar state, id, spaceBefore;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(enabled(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate = [ dependency.version, dependency.source.length, dependency.lifetime ? functionGetTimestamp() + dependency.lifetime : NULL, demand.version ];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid    = STORAGE_PREFIX + '[' + dependency.id + ']';\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_PRE_CACHE, dependency, state);\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tspaceBefore = supportsRemainingSpace ? localStorage.remainingSpace : NULL;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(id + STORAGE_SUFFIX_VALUE, dependency.source);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetState(id + STORAGE_SUFFIX_STATE, state);\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// strict equality check with \"===\" is required due to spaceBefore might be \"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(spaceBefore !== NULL && localStorage.remainingSpace === spaceBefore) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_POST_CACHE, dependency, state);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_EXCEED, dependency);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\t\t\tclear: {\n\t\t\t\t\tpath:    supportsLocalStorage ? function(path) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar id  = functionResolveId(path),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey = STORAGE_PREFIX + '[' + id + ']';\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(getKey(key + STORAGE_SUFFIX_STATE)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(key + STORAGE_SUFFIX_STATE);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(key + STORAGE_SUFFIX_VALUE);\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_CLEAR, ClassDependency.get(id) || new ClassDependency(id, NULL, FALSE));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\t\t\t\tall:     supportsLocalStorage ? function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar match;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfunctionIterate(localStorage, function(property) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatch = property.match(regexMatchState);\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatch && this.path(match[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\t\t\t\texpired: supportsLocalStorage ? function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatch, state;\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfunctionIterate(localStorage, function(property) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmatch = property.match(regexMatchState);\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(match) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate = getState(STORAGE_PREFIX + '[' + match[1] + ']' + STORAGE_SUFFIX_STATE);\n\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(state && state[2] > 0 && state[2] <= functionGetTimestamp()) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.path(match[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn (cache = new Cache());\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t \tFUNCTION_EMPTY, NULL,\n\t\t\tarrayPrototypeConcat,\n\t\t\tfunctionDefer, functionToArray,\n\t\t\tClassWeakmap\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require shortcuts.js\n\t\t//=require function/defer.js\n\t\t//=require function/toArray.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tfunctionUuid,\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require function/uuid.js\n\t\t\n\t\tvar ClassWeakmap = 'WeakMap' in global ? global.WeakMap : (function() {\n\t\t\tvar prefix = 'weakmap-';\n\t\t\n\t\t\tfunction getEntry(context, key) {\n\t\t\t\tvar entry;\n\t\t\n\t\t\t\tif((entry = key[context.id]) && entry[0] === key) {\n\t\t\t\t\treturn entry;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction ClassWeakmap() {\n\t\t\t\tthis.define('id', prefix + functionUuid());\n\t\t\t}\n\t\t\n\t\t\tClassWeakmap.prototype = {\n\t\t\t\tset: function(key, value) {\n\t\t\t\t\tvar entry = getEntry(this, key);\n\t\t\n\t\t\t\t\tif(entry) {\n\t\t\t\t\t\tentry[1] = value;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tkey.define(this.id, [ key, value ]);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tget: function(key) {\n\t\t\t\t\tvar entry = getEntry(this, key);\n\t\t\n\t\t\t\t\tif(entry) {\n\t\t\t\t\t\treturn entry[1];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdelete: function(key) {\n\t\t\t\t\tvar entry = getEntry(this, key);\n\t\t\n\t\t\t\t\tif(entry) {\n\t\t\t\t\t\tentry.length = 0;\n\t\t\n\t\t\t\t\t\tdelete key[this.id];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thas: function(key) {\n\t\t\t\t\treturn !!getEntry(this, key);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn ClassWeakmap;\n\t\t}());\n\t\t\n\t\t\n\t\tvar ClassPledge = (function() {\n\t\t\tvar PLEDGE_PENDING  = 'pending',\n\t\t\t\tPLEDGE_RESOLVED = 'resolved',\n\t\t\t\tPLEDGE_REJECTED = 'rejected',\n\t\t\t\tstorage         = new ClassWeakmap();\n\t\t\n\t\t\tfunction resolve() {\n\t\t\t\tstorage.get(this).handle(PLEDGE_RESOLVED, arguments);\n\t\t\t}\n\t\t\n\t\t\tfunction reject() {\n\t\t\t\tstorage.get(this).handle(PLEDGE_REJECTED, arguments);\n\t\t\t}\n\t\t\n\t\t\tfunction handle(state, parameter) {\n\t\t\t\tvar properties = storage.get(this),\n\t\t\t\t\tpointer, result;\n\t\t\n\t\t\t\tif(properties.state === PLEDGE_PENDING) {\n\t\t\t\t\tproperties.state = state;\n\t\t\t\t\tproperties.value = parameter;\n\t\t\t\t}\n\t\t\n\t\t\t\twhile(pointer = properties[properties.state].shift()) {\n\t\t\t\t\tresult = pointer.handler.apply(NULL, properties.value);\n\t\t\n\t\t\t\t\tif(result && typeof result.then === 'function') {\n\t\t\t\t\t\tresult.then(pointer.dfd.resolve, pointer.dfd.reject);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpointer.dfd[properties.state === PLEDGE_RESOLVED ? 'resolve' : 'reject'].apply(NULL, properties.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tproperties[PLEDGE_RESOLVED].length = 0;\n\t\t\t\tproperties[PLEDGE_REJECTED].length = 0;\n\t\t\t}\n\t\t\n\t\t\tfunction observe(pledge, index, properties) {\n\t\t\t\tpledge.then(\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tproperties.resolved[index] = functionToArray(arguments);\n\t\t\n\t\t\t\t\t\tproperties.count++;\n\t\t\n\t\t\t\t\t\tcheck(properties);\n\t\t\t\t\t},\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tproperties.rejected.push(functionToArray(arguments));\n\t\t\n\t\t\t\t\t\tcheck(properties);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t\n\t\t\tfunction check(properties) {\n\t\t\t\tif(properties.count === properties.total) {\n\t\t\t\t\tproperties.dfd.resolve.apply(NULL, arrayPrototypeConcat.apply([], properties.resolved));\n\t\t\t\t} else if(properties.rejected.length + properties.count === properties.total) {\n\t\t\t\t\tproperties.dfd.reject.apply(NULL, arrayPrototypeConcat.apply([], properties.rejected));\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction ClassPledge(executor) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tstorage.set(this, { state: PLEDGE_PENDING, handle: handle.bind(self), value: NULL, resolved: [], rejected: [], count: 0 });\n\t\t\n\t\t\t\texecutor(resolve.bind(self), reject.bind(self));\n\t\t\n\t\t\t\treturn self;\n\t\t\t}\n\t\t\n\t\t\tClassPledge.prototype = {\n\t\t\t\t'catch': function(listener) {\n\t\t\t\t\treturn this.then(FUNCTION_EMPTY, listener);\n\t\t\t\t},\n\t\t\t\talways: function(alwaysListener) {\n\t\t\t\t\treturn this.then(alwaysListener, alwaysListener);\n\t\t\t\t},\n\t\t\t\tthen: function(resolveListener, rejectListener) {\n\t\t\t\t\tvar properties = storage.get(this),\n\t\t\t\t\t\tdfd        = ClassPledge.defer();\n\t\t\n\t\t\t\t\tresolveListener && properties[PLEDGE_RESOLVED].push({ handler: resolveListener, dfd: dfd });\n\t\t\t\t\trejectListener && properties[PLEDGE_REJECTED].push({ handler: rejectListener, dfd: dfd });\n\t\t\n\t\t\t\t\tif(properties.state !== PLEDGE_PENDING) {\n\t\t\t\t\t\tfunctionDefer(properties.handle);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\treturn dfd.pledge;\n\t\t\t\t},\n\t\t\t\tisPending: function() {\n\t\t\t\t\treturn storage.get(this).state === PLEDGE_PENDING;\n\t\t\t\t},\n\t\t\t\tisResolved: function() {\n\t\t\t\t\treturn storage.get(this).state === PLEDGE_RESOLVED;\n\t\t\t\t},\n\t\t\t\tisRejected: function() {\n\t\t\t\t\treturn storage.get(this).state === PLEDGE_REJECTED;\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\tClassPledge.defer = function() {\n\t\t\t\tvar self = {};\n\t\t\n\t\t\t\tself.pledge = new ClassPledge(function(resolveListener, rejectListener) {\n\t\t\t\t\tself.resolve = resolveListener;\n\t\t\t\t\tself.reject  = rejectListener;\n\t\t\t\t});\n\t\t\n\t\t\t\treturn self;\n\t\t\t};\n\t\t\n\t\t\tClassPledge.all = function(pledges) {\n\t\t\t\tvar dfd = ClassPledge.defer(),\n\t\t\t\t\tproperties, i = 0, pledge;\n\t\t\n\t\t\t\tif(pledges.length) {\n\t\t\t\t\tproperties = { dfd: dfd, resolved: [], rejected: [], total: pledges.length, count: 0 };\n\t\t\n\t\t\t\t\tfor(; pledge = pledges[i]; i++) {\n\t\t\t\t\t\tobserve(pledge, i, properties)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdfd.resolve();\n\t\t\t\t}\n\t\t\n\t\t\t\treturn dfd.pledge;\n\t\t\t};\n\t\t\n\t\t\tClassPledge.race = function(pledges) {\n\t\t\t\tvar dfd = ClassPledge.defer(),\n\t\t\t\t\ti = 0, pledge;\n\t\t\n\t\t\t\tfor(; pledge = pledges[i]; i++) {\n\t\t\t\t\tpledge.then(dfd.resolve, dfd.reject);\n\t\t\t\t}\n\t\t\n\t\t\t\tif(!pledges.length) {\n\t\t\t\t\tdfd.resolve();\n\t\t\t\t}\n\t\t\n\t\t\t\treturn dfd.pledge;\n\t\t\t};\n\t\t\n\t\t\treturn ClassPledge;\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tDEMAND_ID, MODULE_PREFIX_HANDLER, ERROR_LOAD, DEMAND_ID, PROVIDE_ID, PATH_ID, MOCK_PREFIX, NULL, TRUE, FALSE,\n\t\t\tobject,\n\t\t\tregexMatchInternal, regexMatchParameter,\n\t\t\tvalidatorIsPositive,\n\t\t\tfunctionResolvePath, functionResolveId, functionResolveUrl, functionIterate, functionToArray,\n\t\t\tClassRegistry, ClassPledge, ClassFailure,\n\t\t\tsingletonCache\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require shortcuts.js\n\t\t//=require variables.js\n\t\t//=require validator/isPositive.js\n\t\t//=require function/resolvePath.js\n\t\t//=require function/resolveId.js\n\t\t//=require function/resolveUrl.js\n\t\t//=require function/iterate.js\n\t\t//=require function/toArray.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tClassWeakmap\n\t\t*/\n\t\t\n\t\t//=require class/weakmap.js\n\t\t\n\t\tvar ClassRegistry = (function() {\n\t\t\tvar storage = new ClassWeakmap();\n\t\t\n\t\t\tfunction ClassRegistry() {\n\t\t\t\tstorage.set(this, {});\n\t\t\t}\n\t\t\n\t\t\tClassRegistry.prototype = {\n\t\t\t\tget: function(key) {\n\t\t\t\t\treturn key ? storage.get(this)[key] : storage.get(this);\n\t\t\t\t},\n\t\t\t\tset: function(key, value) {\n\t\t\t\t\tstorage.get(this)[key] = value;\n\t\t\t\t},\n\t\t\t\tremove: function(key) {\n\t\t\t\t\tdelete storage.get(this)[key];\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn ClassRegistry;\n\t\t}());\n\t\t\n\t\t//=require class/pledge.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tDEMAND_ID,\n\t\t\tfunctionToArray\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require function/toArray.js\n\t\t\n\t\tfunction ClassFailure(message, module, stack) {\n\t\t\tvar self = this;\n\t\t\n\t\t\tself.message = message;\n\t\t\n\t\t\tmodule && (self.module = module);\n\t\t\tstack && (self.stack = functionToArray(stack));\n\t\t\n\t\t\treturn self;\n\t\t}\n\t\t\n\t\tClassFailure.prototype = {\n\t\t\t/* only for reference\n\t\t\t message: NULL,\n\t\t\t module:  NULL,\n\t\t\t stack:   NULL,\n\t\t\t */\n\t\t\ttoString: function() {\n\t\t\t\tvar self   = this,\n\t\t\t\t\tresult = DEMAND_ID + ': ' + self.message + ' ' + (self.module ? '\"' + self.module + '\"' : '');\n\t\t\n\t\t\t\tif(self.stack) {\n\t\t\t\t\tresult = ClassFailure.traverse(self.stack, result, 1);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t\t\n\t\tClassFailure.traverse = function(stack, value, depth) {\n\t\t\tvar indention = new Array(depth + 1).join(' '),\n\t\t\t\ti = 0, item;\n\t\t\n\t\t\tfor(; item = stack[i]; i++) {\n\t\t\t\tvalue += '\\n' + indention + '> ' + item.message + ' ' + (item.module ? '\"' + item.module + '\"' : '');\n\t\t\n\t\t\t\tif(item.stack) {\n\t\t\t\t\tvalue = ClassFailure.traverse(item.stack, value, depth + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn value;\n\t\t};\n\t\t\n\t\t//=require singleton/cache.js\n\t\t\n\t\tvar ClassDependency = (function() {\n\t\t\tvar PREFIX_INTERNAL = 'internal!',\n\t\t\t\tregistry        = new ClassRegistry(),\n\t\t\t\tplaceholder     = [];\n\t\t\n\t\t\tfunction setProperty(property, value) {\n\t\t\t\tthis[property] = value;\n\t\t\t}\n\t\t\n\t\t\tfunction addPending(id, dependency) {\n\t\t\t\tif(dependency.pledge.isPending()) {\n\t\t\t\t\tthis.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction addResolved(id, dependency) {\n\t\t\t\tif(dependency.pledge.isResolved()) {\n\t\t\t\t\tthis.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction addRejected(id, dependency) {\n\t\t\t\tif(dependency.pledge.isRejected()) {\n\t\t\t\t\tthis.push(id);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction ClassDependency(uri, context, register) {\n\t\t\t\tvar self      = this,\n\t\t\t\t\tparameter = uri.match(regexMatchParameter) || placeholder;\n\t\t\n\t\t\t\tself.path     = functionResolvePath(uri, context);\n\t\t\t\tself.mock     = parameter[1] ? TRUE : FALSE;\n\t\t\t\tself.cache    = parameter[2] ? parameter[1] === '+' : NULL;\n\t\t\t\tself.type     = parameter[3] || settings.handler;\n\t\t\t\tself.version  = parameter[4] || settings.version;\n\t\t\t\tself.lifetime = (parameter[5] && parameter[5] * 1000) || settings.lifetime;\n\t\t\t\tself.id       = (self.mock ? MOCK_PREFIX : '' ) + self.type + '!' + self.path;\n\t\t\t\tself.uri      = (self.mock ? MOCK_PREFIX : '' ) + self.type + '@' + self.version + (validatorIsPositive(self.lifetime) && self.lifetime > 0 ? '#' + self.lifetime : '' ) + '!' + self.path;\n\t\t\t\tself.dfd      = ClassPledge.defer();\n\t\t\t\tself.pledge   = self.dfd.pledge;\n\t\t\t\tself.invalid  = false;\n\t\t\n\t\t\t\tself.pledge.then(function() {\n\t\t\t\t\tself.value = functionToArray(arguments);\n\t\t\t\t});\n\t\t\n\t\t\t\t(register !== FALSE) && registry.set(self.id, self);\n\t\t\n\t\t\t\treturn self;\n\t\t\t}\n\t\t\n\t\t\tClassDependency.prototype = {\n\t\t\t\tenqueue: true // handled by handler\n\t\t\t\t/* only for reference\n\t\t\t \tpath:     NULL,\n\t\t\t \tmock:     NULL,\n\t\t\t\tcache:    NULL,\n\t\t\t\ttype:     NULL,\n\t\t\t\tversion:  NULL,\n\t\t\t\tlifetime: NULL,\n\t\t\t \tid:       NULL,\n\t\t\t \turi:      NULL,\n\t\t\t\tdfd:      NULL,\n\t\t\t\tpledge:   NULL,\n\t\t\t\tvalue:    NULL,\n\t\t\t\thandler:  NULL, // set by Dependency.resolve\n\t\t\t \tsource:   NULL, // set by Cache or Loader\n\t\t\t \turl:      NULL // optional, set by Loader\n\t\t\t\t*/\n\t\t\t};\n\t\t\n\t\t\tClassDependency.get = function(uri, context) {\n\t\t\t\treturn registry.get(functionResolveId(uri, context));\n\t\t\t};\n\t\t\n\t\t\tClassDependency.resolve = function(uri, context) {\n\t\t\t\tvar isInternal = context && regexMatchInternal.test(uri),\n\t\t\t\t\tdependency = isInternal ? this.get(PREFIX_INTERNAL + context + '/' + uri) : this.get(uri, context),\n\t\t\t\t\tvalue;\n\t\t\n\t\t\t\tif(!dependency) {\n\t\t\t\t\tif(isInternal) {\n\t\t\t\t\t\tdependency = new ClassDependency(PREFIX_INTERNAL + context + '/' + uri);\n\t\t\n\t\t\t\t\t\tswitch(uri) {\n\t\t\t\t\t\t\tcase DEMAND_ID:\n\t\t\t\t\t\t\t\tvalue = (function() {\n\t\t\t\t\t\t\t\t\treturn functionIterate(demand, setProperty, demand.bind(context));\n\t\t\t\t\t\t\t\t}());\n\t\t\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase PROVIDE_ID:\n\t\t\t\t\t\t\t\tvalue = provide.bind(context);\n\t\t\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase PATH_ID:\n\t\t\t\t\t\t\t\tvalue = context;\n\t\t\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tdependency.dfd.resolve(value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdependency = new ClassDependency(uri, context);\n\t\t\n\t\t\t\t\t\tdemand(MODULE_PREFIX_HANDLER + dependency.type)\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tfunction(handler) {\n\t\t\t\t\t\t\t\t\tdependency.handler = handler;\n\t\t\n\t\t\t\t\t\t\t\t\tif(dependency.mock) {\n\t\t\t\t\t\t\t\t\t\tdependency.dfd.resolve(handler);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsingletonCache.resolve(dependency);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + ' (handler)', self.id));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn dependency;\n\t\t\t};\n\t\t\n\t\t\tClassDependency.remove = function(uri, context, cache) {\n\t\t\t\tvar id   = functionResolveId(uri, context),\n\t\t\t\t\tnode = document.querySelector('[' + DEMAND_ID + '-id=\"' + id + '\"]');\n\t\t\n\t\t\t\tregistry.remove(id);\n\t\t\t\tregistry.remove(MOCK_PREFIX + id);\n\t\t\n\t\t\t\tnode && node.parentNode.removeChild(node);\n\t\t\n\t\t\t\t(cache !== FALSE) && singletonCache.clear.path(id);\n\t\t\t};\n\t\t\n\t\t\tClassDependency.list = {\n\t\t\t\tall: function() {\n\t\t\t\t\treturn object.keys(registry.get());\n\t\t\t\t},\n\t\t\t\tpending:  function() {\n\t\t\t\t\treturn functionIterate(registry.get(), addPending, []);\n\t\t\t\t},\n\t\t\t\tresolved: function() {\n\t\t\t\t\treturn functionIterate(registry.get(), addResolved, []);\n\t\t\t\t},\n\t\t\t\trejected: function() {\n\t\t\t\t\treturn functionIterate(registry.get(), addRejected, []);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn ClassDependency;\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tfunctionResolveUrl, functionEscapeRegex, functionIterate\n\t\t*/\n\t\t\n\t\t//=require function/resolveUrl.js\n\t\t//=require function/escapeRegex.js\n\t\t//=require function/iterate.js\n\t\t\n\t\tvar ClassPattern = (function() {\n\t\t\tvar regexMatchTrailingSlash = /(.+)\\/$/;\n\t\t\n\t\t\tfunction setProperty(property, value) {\n\t\t\t\tthis[property] = {\n\t\t\t\t\turl:   functionResolveUrl(value).replace(regexMatchTrailingSlash, '$1'),\n\t\t\t\t\tmatch: new RegExp('^' + functionEscapeRegex(value))\n\t\t\t\t};\n\t\t\t}\n\t\t\n\t\t\tfunction ClassPattern(pattern, url) {\n\t\t\t\tvar self = this;\n\t\t\n\t\t\t\tself.weight   = pattern.length;\n\t\t\t\tself.match    = new RegExp('^' + functionEscapeRegex(pattern));\n\t\t\t\tself.location = [].concat(url);\n\t\t\n\t\t\t\tfunctionIterate(self.location, setProperty, self.location);\n\t\t\t}\n\t\t\n\t\t\tClassPattern.prototype = {\n\t\t\t\t/* only for reference\n\t\t\t\t weight:   0,\n\t\t\t\t match:    NULL,\n\t\t\t\t location: NULL,\n\t\t\t\t */\n\t\t\t\tmatches: function(path) {\n\t\t\t\t\treturn this.match.test(path);\n\t\t\t\t},\n\t\t\t\tprocess: function(path, index) {\n\t\t\t\t\tvar current = this.location[index];\n\t\t\n\t\t\t\t\tif(current) {\n\t\t\t\t\t\treturn path.replace(this.match, current.url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn ClassPattern;\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tDEMAND_ID, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, ERROR_LOAD,\n\t\t\tregexIsAbsoluteUri,\n\t\t\tlinkElement,\n\t\t\tfunctionIterate, functionResolveUrl, functionGetTimestamp,\n\t\t\tClassXhr, ClassFailure,\n\t\t\tsingletonEvent\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require variables.js\n\t\t//=require shortcuts.js\n\t\t//=require function/resolveUrl.js\n\t\t//=require function/iterate.js\n\t\t//=require singleton/event.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tTRUE,\n\t\t\tregexMatchBaseUrl,\n\t\t\tClassPledge\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require shortcuts.js\n\t\t//=require variables.js\n\t\t//=require class/pledge.js\n\t\t\n\t\tvar ClassXhr = (function(XMLHttpRequest) {\n\t\t\tvar XDomainRequest = 'XDomainRequest' in global && global.XDomainRequest || XMLHttpRequest;\n\t\t\n\t\t\tfunction checkState() {\n\t\t\t\tif(this.readyState < 4) {\n\t\t\t\t\tthis.abort();\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn function ClassXhr(url) {\n\t\t\t\tvar dfd             = ClassPledge.defer(),\n\t\t\t\t\txhr             = regexMatchBaseUrl.test(url) ? new XMLHttpRequest() : new XDomainRequest(),\n\t\t\t\t\tboundCheckState = checkState.bind(xhr),\n\t\t\t\t\ttimeout         = settings.timeout,\n\t\t\t\t\tpointer;\n\t\t\n\t\t\t\txhr.ontimeout = xhr.onerror = xhr.onabort = function() {\n\t\t\t\t\tdfd.reject(xhr.status);\n\t\t\t\t};\n\t\t\t\txhr.onprogress = xhr.onreadystatechange = function() {\n\t\t\t\t\tclearTimeout(pointer);\n\t\t\n\t\t\t\t\tpointer = setTimeout(boundCheckState, timeout);\n\t\t\t\t};\n\t\t\t\txhr.onload = function() {\n\t\t\t\t\tpointer = clearTimeout(pointer);\n\t\t\n\t\t\t\t\tif(!('status' in xhr) || xhr.status === 200) {\n\t\t\t\t\t\tdfd.resolve(xhr.responseText, xhr.getResponseHeader && xhr.getResponseHeader('content-type'));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdfd.reject(xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\n\t\t\t\txhr.open('GET', url, TRUE);\n\t\t\t\txhr.send();\n\t\t\n\t\t\t\tpointer = setTimeout(boundCheckState, timeout);\n\t\t\n\t\t\t\treturn dfd.pledge;\n\t\t\t};\n\t\t}(XMLHttpRequest));\n\t\t\n\t\t//=require class/failure.js\n\t\t\n\t\tfunction ClassLoader(dependency) {\n\t\t\tvar regexMatchEmptySearch   = /^(?:\\?|)$/,\n\t\t\t\tpattern;\n\t\t\n\t\t\tfunction resolve(response, type) {\n\t\t\t\tif(!type || !dependency.handler.validate || dependency.handler.validate(type)) {\n\t\t\t\t\tdependency.source = response;\n\t\t\n\t\t\t\t\tsingletonEvent.emit(EVENT_POST_REQUEST, dependency.type, dependency);\n\t\t\t\t} else {\n\t\t\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + ' (content-type)', dependency.id));\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction reject(status) {\n\t\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + (status ? ' (status)' : ''), dependency.id));\n\t\t\t}\n\t\t\n\t\t\tfunction load(location) {\n\t\t\t\tlocation       = location || 0;\n\t\t\t\tdependency.url = document.createElement('a');\n\t\t\n\t\t\t\tdependency.url.href    = pattern ? functionResolveUrl(pattern.process(dependency.path, location)) : dependency.path;\n\t\t\n\t\t\t\tif(dependency.invalid) {\n\t\t\t\t\tdependency.url.search += ((regexMatchEmptySearch.test(dependency.url.search)) ? '' : '&') + functionGetTimestamp();\n\t\t\t\t}\n\t\t\n\t\t\t\tsingletonEvent.emit(EVENT_PRE_REQUEST, dependency.type, dependency);\n\t\t\n\t\t\t\tnew ClassXhr(dependency.url).then(\n\t\t\t\t\tresolve,\n\t\t\t\t\t(\n\t\t\t\t\t\tpattern ?\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tlocation++;\n\t\t\n\t\t\t\t\t\t\tif(pattern.location[location]) {\n\t\t\t\t\t\t\t\tload(location);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t:\n\t\t\t\t\t\treject\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\n\t\t\tif(!regexIsAbsoluteUri.test(dependency.path)) {\n\t\t\t\tfunctionIterate(settings.pattern, function(property, value) {\n\t\t\t\t\tvalue.matches(dependency.path) && (!pattern || pattern.weight < value.weight) && (pattern = value);\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tload();\n\t\t}\n\t\t\n\t\t\n\t\t/*eslint no-global-assign: [2, { \"exceptions\": [\"demand\"] }]*/\n\t\tdemand = global.demand = (function() {\n\t\t\tfunction updateCacheSettings(property, value) {\n\t\t\t\tthis[property] = { weight: property.length, state: value };\n\t\t\t}\n\t\t\n\t\t\tfunction updatePatternSettings(property, value) {\n\t\t\t\tproperty !== 'base' && (this[property] = new ClassPattern(property, value));\n\t\t\t}\n\t\t\n\t\t\tfunction updateModuleSettings(property, value) {\n\t\t\t\tvar temp = this[property] = this[property] || {};\n\t\t\n\t\t\t\tsingletonEvent.emit(EVENT_PRE_CONFIGURE, property, temp);\n\t\t\n\t\t\t\tfunctionMerge(temp, value);\n\t\t\n\t\t\t\tsingletonEvent.emit(EVENT_POST_CONFIGURE, property, temp);\n\t\t\t}\n\t\t\n\t\t\tfunction demand() {\n\t\t\t\tvar dependencies = functionToArray(arguments),\n\t\t\t\t\tcontext      = this !== global ? this : NULL,\n\t\t\t\t\ti = 0, uri, dfd, result;\n\t\t\n\t\t\t\tsingletonEvent.emit(EVENT_PRE_RESOLVE, NULL, dependencies, context);\n\t\t\n\t\t\t\tfor(; (uri = dependencies[i]); i++) {\n\t\t\t\t\tif(validatorIsTypeOf(uri, STRING_STRING)) {\n\t\t\t\t\t\tdependencies[i] = ClassDependency.resolve(uri, context).pledge;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdependencies[i] = (dfd = ClassPledge.defer()).pledge;\n\t\t\n\t\t\t\t\t\tdfd.resolve(uri);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\tif(dependencies.length > 1) {\n\t\t\t\t\tresult = ClassPledge.all(dependencies);\n\t\t\t\t} else {\n\t\t\t\t\tresult = dependencies[0];\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result.always(function() {\n\t\t\t\t\tsingletonEvent.emit(EVENT_POST_RESOLVE, NULL, dependencies, context);\n\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tdemand.configure = function(options) {\n\t\t\t\tvar cache    = options.cache,\n\t\t\t\t\tversion  = options.version,\n\t\t\t\t\ttimeout  = options.timeout,\n\t\t\t\t\tlifetime = options.lifetime,\n\t\t\t\t\tbase     = options.base,\n\t\t\t\t\tpattern  = options.pattern,\n\t\t\t\t\tmodules  = options.modules,\n\t\t\t\t\tpointer  = settings.modules;\n\t\t\n\t\t\t\tif(validatorIsTypeOf(cache, STRING_BOOLEAN)) {\n\t\t\t\t\tsettings.cache[''] = { weight: 0, state: cache };\n\t\t\t\t} else if(validatorIsObject(cache)) {\n\t\t\t\t\tfunctionIterate(cache, updateCacheSettings, settings.cache);\n\t\t\t\t}\n\t\t\n\t\t\t\tif(validatorIsTypeOf(version, STRING_STRING)) {\n\t\t\t\t\tsettings.version = version;\n\t\t\t\t}\n\t\t\n\t\t\t\tif(validatorIsPositive(timeout)) {\n\t\t\t\t\tsettings.timeout = Math.min(Math.max(timeout, 2), 12) * 1000;\n\t\t\t\t}\n\t\t\n\t\t\t\tif(validatorIsPositive(lifetime) && lifetime > 0) {\n\t\t\t\t\tsettings.lifetime = lifetime * 1000;\n\t\t\t\t}\n\t\t\n\t\t\t\tif(validatorIsTypeOf(base, STRING_STRING) && base !== '') {\n\t\t\t\t\tsettings.pattern.base = new ClassPattern('', base);\n\t\t\t\t}\n\t\t\n\t\t\t\tif(validatorIsObject(pattern)) {\n\t\t\t\t\tfunctionIterate(pattern, updatePatternSettings, settings.pattern);\n\t\t\t\t}\n\t\t\n\t\t\t\tif(validatorIsObject(modules)) {\n\t\t\t\t\tfunctionIterate(modules, updateModuleSettings, pointer);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn demand;\n\t\t\t};\n\t\t\n\t\t\tdemand.version = '{{gulp:package.version}}';\n\t\t\tdemand.on      = singletonEvent.on.bind(demand);\n\t\t\tdemand.get     = function(uri, context) { var dependency = ClassDependency.get(uri, context); return dependency && dependency.value; };\n\t\t\tdemand.remove  = ClassDependency.remove;\n\t\t\tdemand.list    = ClassDependency.list;\n\t\t\tdemand.clear   = singletonCache.clear;\n\t\t\n\t\t\tsingletonEvent\n\t\t\t\t.after(EVENT_CACHE_MISS, function(dependency) {\n\t\t\t\t\tnew ClassLoader(dependency);\n\t\t\t\t})\n\t\t\t\t.after(EVENT_POST_REQUEST, function(dependency) {\n\t\t\t\t\tvar pointer = dependency.handler.onPostRequest;\n\t\t\n\t\t\t\t\tpointer && pointer(dependency);\n\t\t\t\t})\n\t\t\t\t.after(EVENT_CACHE_HIT + ' ' + EVENT_POST_REQUEST, function(dependency) {\n\t\t\t\t\tsingletonEvent.emit(EVENT_PRE_PROCESS, dependency.id, dependency);\n\t\t\t\t})\n\t\t\t\t.after(EVENT_PRE_REQUEST, function(dependency) {\n\t\t\t\t\tvar pointer = dependency.handler.onPreRequest;\n\t\t\n\t\t\t\t\tpointer && pointer(dependency);\n\t\t\t\t})\n\t\t\t\t.after(EVENT_PRE_PROCESS, function(dependency) {\n\t\t\t\t\tvar pointer = dependency.handler.onPreProcess;\n\t\t\n\t\t\t\t\tpointer && pointer(dependency);\n\t\t\n\t\t\t\t\tdependency.pledge.then(function() {\n\t\t\t\t\t\tsingletonEvent.emit(EVENT_POST_PROCESS, dependency.id, dependency);\n\t\t\t\t\t});\n\t\t\n\t\t\t\t\tif(dependency.enqueue === true) {\n\t\t\t\t\t\tqueue.enqueue(dependency);\n\t\t\t\t\t} else if(validatorIsInstanceOf(dependency.enqueue, ClassPledge)) {\n\t\t\t\t\t\tdependency.enqueue.then(function() { queue.enqueue(dependency); });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\treturn demand;\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tSTRING_STRING, STRING_UNDEFINED, STRING_FUNCTION, ERROR_PROVIDE, ERROR_PROVIDE_ANONYMOUS, NULL,\n\t\t\tvalidatorIsTypeOf, validatorIsArray,\n\t\t\tClassDependency, ClassFailure\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require validator/isTypeOf.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tobjectPrototypeToString\n\t\t*/\n\t\t\n\t\t//=require shortcuts.js\n\t\t\n\t\t/**\n\t\t * isArray\n\t\t *\n\t\t * Check whether a given value is of type array\n\t\t *\n\t\t * @param value\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\t\n\t\tfunction validatorIsArray(value) {\n\t\t\treturn objectPrototypeToString.call(value) === '[object Array]';\n\t\t}\n\t\t\n\t\t//=require class/dependency.js\n\t\t//=require class/failure.js\n\t\t\n\t\t/*eslint no-global-assign: [2, { \"exceptions\": [\"provide\"] }]*/\n\t\tprovide = global.provide = function provide() {\n\t\t\tvar uri          = validatorIsTypeOf(arguments[0], STRING_STRING) ? arguments[0] : NULL,\n\t\t\t\tcontext      = this !== global ? this : NULL,\n\t\t\t\tdependencies = validatorIsArray(arguments[uri ? 1 : 0]) ? arguments[uri ? 1 : 0] : NULL,\n\t\t\t\tdefinition   = dependencies ? arguments[uri ? 2 : 1] : arguments[uri ? 1 : 0],\n\t\t\t\tmodule, isFunction;\n\t\t\n\t\t\tif(!uri && processor.current) {\n\t\t\t\tmodule = processor.current;\n\t\t\t\turi    = module.uri;\n\t\t\n\t\t\t\tprocessor.process();\n\t\t\t}\n\t\t\n\t\t\tif(uri) {\n\t\t\t\tmodule     = module || new ClassDependency(uri, context);\n\t\t\t\tisFunction = validatorIsTypeOf(definition, STRING_FUNCTION);\n\t\t\n\t\t\t\tif(dependencies) {\n\t\t\t\t\tdemand\n\t\t\t\t\t\t.apply(module.path, dependencies)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tfunction() { module.dfd.resolve(isFunction ? definition.apply(NULL, arguments) : definition); },\n\t\t\t\t\t\t\tfunction() { module.dfd.reject(new ClassFailure(ERROR_PROVIDE, module.id, arguments)); }\n\t\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tmodule.dfd.resolve(isFunction ? definition() : definition);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn module.dfd.pledge;\n\t\t\t} else {\n\t\t\t\t!validatorIsTypeOf(console, STRING_UNDEFINED) && console.error(new ClassFailure(ERROR_PROVIDE_ANONYMOUS)); // eslint-disable-line no-console\n\t\t\t}\n\t\t};\n\t\t\n\n\t// process initial configuration\n\t\tdemand.configure({ cache: TRUE, base: '/', pattern: { '/demand': functionResolveUrl(((options && options.url) || location.href) + '/../').slice(0, -1)} });\n\t\toptions && options.settings && demand.configure(options.settings);\n\n\t// include additional components\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n\t\t*/\n\t\t\n\t\t/**\n\t\t * hash\n\t\t *\n\t\t * Generate a hash for a given string\n\t\t *\n\t\t * @param {string} input\n\t\t *\n\t\t * @return {number}\n\t\t */\n\t\tfunction functionHash(input){\n\t\t\tvar value = 5381,\n\t\t\t\ti     = input.length;\n\t\t\n\t\t\twhile(i) {\n\t\t\t\tvalue = (value * 33) ^ input.charCodeAt(--i);\n\t\t\t}\n\t\t\n\t\t\treturn value >>> 0;\n\t\t}\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tEVENT_QUEUE_ENQUEUE, EVENT_QUEUE_DEQUEUE,\n\t\t\tfunctionToArray,\n\t\t\tsingletonEvent,\n\t\t\tClassWeakmap,\n\t\t\tAbstractUuid\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require function/toArray.js\n\t\t//=require singleton/event.js\n\t\t//=require class/weakmap.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tSTRING_UNDEFINED,\n\t\t\tvalidatorIsTypeOf,\n\t\t\tfunctionUuid,\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require shortcuts.js\n\t\t//=require validator/isTypeOf.js\n\t\t//=require function/uuid.js\n\t\t\n\t\tfunction AbstractUuid() {\n\t\t\tif(validatorIsTypeOf(this.uuid, STRING_UNDEFINED)) {\n\t\t\t\tthis.define('uuid', functionUuid());\n\t\t\t}\n\t\t\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\t\n\t\tvar ClassQueue = (function() {\n\t\t\tvar storage = new ClassWeakmap();\n\t\t\n\t\t\tfunction ClassQueue() {\n\t\t\t\tvar self = AbstractUuid.call(this);\n\t\t\n\t\t\t\tstorage.set(self, []);\n\t\t\n\t\t\t\treturn self;\n\t\t\t}\n\t\t\n\t\t\tClassQueue.prototype = {\n\t\t\t\tenqueue: function() {\n\t\t\t\t\tstorage.set(this, storage.get(this).concat(functionToArray(arguments)));\n\t\t\n\t\t\t\t\tsingletonEvent.emit(EVENT_QUEUE_ENQUEUE, this.uuid);\n\t\t\t\t},\n\t\t\t\tdequeue: function() {\n\t\t\t\t\tsingletonEvent.emit(EVENT_QUEUE_DEQUEUE, this.uuid);\n\t\t\n\t\t\t\t\treturn storage.get(this).shift();\n\t\t\t\t},\n\t\t\t\tget current() {\n\t\t\t\t\treturn storage.get(this)[0];\n\t\t\t\t},\n\t\t\t\tget length() {\n\t\t\t\t\treturn storage.get(this).length;\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn ClassQueue.extends(AbstractUuid);\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tEVENT_QUEUE_ENQUEUE, NULL,\n\t\t\tsingletonEvent,\n\t\t\tClassWeakmap\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require class/weakmap.js\n\t\t\n\t\tvar ClassProcessor = (function() {\n\t\t\tvar storage = new ClassWeakmap();\n\t\t\n\t\t\tfunction ClassProcessor(queue) {\n\t\t\t\tvar self       = this,\n\t\t\t\t\tproperties = { queue: queue, current: NULL };\n\t\t\n\t\t\t\tstorage.set(self, properties);\n\t\t\n\t\t\t\tdemand\n\t\t\t\t\t.on(EVENT_QUEUE_ENQUEUE + ':' + queue.uuid, function() {\n\t\t\t\t\t\t!properties.current && self.process();\n\t\t\t\t\t});\n\t\t\t}\n\t\t\n\t\t\tClassProcessor.prototype = {\n\t\t\t\tprocess: function() {\n\t\t\t\t\tvar properties = storage.get(this),\n\t\t\t\t\t\tcurrent;\n\t\t\n\t\t\t\t\tif(properties.queue.length) {\n\t\t\t\t\t\tcurrent = properties.current = properties.queue.dequeue();\n\t\t\n\t\t\t\t\t\tif(!current.pledge.isRejected()) {\n\t\t\t\t\t\t\tcurrent.handler.process && current.handler.process(current);\n\t\t\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tproperties.current = NULL;\n\t\t\t\t},\n\t\t\t\tget current() {\n\t\t\t\t\treturn storage.get(this).current;\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn ClassProcessor;\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tDEMAND_ID, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, TRUE,\n\t\t\tfunctionResolveSourcemaps,\n\t\t\tabstractHandler\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tregexMatchSourcemap, regexIsAbsoluteUri\n\t\t\tlinkElement\n\t\t*/\n\t\t\n\t\t//=require variables.js\n\t\t//=require shortcuts.js\n\t\t\n\t\tfunction functionResolveSourcemaps(url, source) {\n\t\t\tvar match, replacement;\n\t\t\n\t\t\twhile(match = regexMatchSourcemap.exec(source)) {\n\t\t\t\tlinkElement.href = url;\n\t\t\n\t\t\t\tif(regexIsAbsoluteUri.test(match[2])) {\n\t\t\t\t\treplacement = linkElement.protocol + '//' + linkElement.host + match[3];\n\t\t\t\t} else {\n\t\t\t\t\tlinkElement.pathname += '/../' + match[3];\n\t\t\n\t\t\t\t\treplacement = linkElement.protocol + '//' + linkElement.host + linkElement.pathname;\n\t\t\t\t}\n\t\t\n\t\t\t\tsource = source.replace(match[0], match[1] + ' ' + match[2] + '=' + replacement + '.map' + (match[4] ? ' ' + match[4] : ''));\n\t\t\t}\n\t\t\n\t\t\treturn source;\n\t\t}\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tNULL\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t\n\t\tfunction abstractHandler() {\n\t\t\n\t\t}\n\t\t\n\t\tabstractHandler.prototype = {\n\t\t\tvalidate: NULL,\n\t\t\tonPreRequest: NULL,\n\t\t\tonPostRequest: NULL,\n\t\t\tonPreProcess: NULL,\n\t\t\tprocess: NULL\n\t\t};\n\t\t\n\t\t\n\t\tvar handlerModule = (function() {\n\t\t\tvar suffix         = '.js',\n\t\t\t\ttarget         = document.getElementsByTagName('head')[0],\n\t\t\t\tregexMatchType = /^(application|text)\\/(x-)?javascript/;\n\t\t\n\t\t\tfunction HandlerModule() {}\n\t\t\n\t\t\tHandlerModule.prototype = {\n\t\t\t\tvalidate: function(type) {\n\t\t\t\t\treturn regexMatchType.test(type);\n\t\t\t\t},\n\t\t\t\tonPreRequest: function(dependency) {\n\t\t\t\t\tvar pathname = dependency.url.pathname;\n\t\t\n\t\t\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname;\n\t\t\t\t},\n\t\t\t\tonPostRequest: function(dependency) {\n\t\t\t\t\tdependency.source = functionResolveSourcemaps(dependency.url, dependency.source);\n\t\t\t\t},\n\t\t\t\tprocess: function(dependency) {\n\t\t\t\t\tvar script;\n\t\t\n\t\t\t\t\tif(dependency.source) {\n\t\t\t\t\t\tscript       = document.createElement('script');\n\t\t\t\t\t\tscript.async = TRUE;\n\t\t\t\t\t\tscript.text  = dependency.source;\n\t\t\n\t\t\t\t\t\tscript.setAttribute(DEMAND_ID + '-id', dependency.id);\n\t\t\n\t\t\t\t\t\ttarget.appendChild(script);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn new (HandlerModule.extends(abstractHandler));\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tMODULE_PREFIX_HANDLER, EVENT_POST_CONFIGURE, ERROR_RESOLVE, MOCK_PREFIX, STRING_STRING, FALSE, TRUE,\n\t\t\tregexMatchParameter, regexMatchSourcemap,\n\t\t\tvalidatorIsTypeOf, validatorIsObject,\n\t\t\tfunctionIterate, functionResolveId,\n\t\t\tabstractHandler,\n\t\t\tClassDependency, ClassPledge, ClassFailure,\n\t\t\thandlerModule\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require variables.js\n\t\t//=require validator/isTypeOf.js\n\t\t//=require validator/isObject.js\n\t\t//=require function/iterate.js\n\t\t//=require function/resolveId.js\n\t\t//=require abstract/handler.js\n\t\t//=require class/dependency.js\n\t\t//=require class/pledge.js\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tDEMAND_ID,\n\t\t\tfunctionToArray\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require function/toArray.js\n\t\t\n\t\tfunction ClassFailure(message, module, stack) {\n\t\t\tvar self = this;\n\t\t\n\t\t\tself.message = message;\n\t\t\n\t\t\tmodule && (self.module = module);\n\t\t\tstack && (self.stack = functionToArray(stack));\n\t\t\n\t\t\treturn self;\n\t\t}\n\t\t\n\t\tClassFailure.prototype = {\n\t\t\t/* only for reference\n\t\t\t message: NULL,\n\t\t\t module:  NULL,\n\t\t\t stack:   NULL,\n\t\t\t */\n\t\t\ttoString: function() {\n\t\t\t\tvar self   = this,\n\t\t\t\t\tresult = DEMAND_ID + ': ' + self.message + ' ' + (self.module ? '\"' + self.module + '\"' : '');\n\t\t\n\t\t\t\tif(self.stack) {\n\t\t\t\t\tresult = ClassFailure.traverse(self.stack, result, 1);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t\t\n\t\tClassFailure.traverse = function(stack, value, depth) {\n\t\t\tvar indention = new Array(depth + 1).join(' '),\n\t\t\t\ti = 0, item;\n\t\t\n\t\t\tfor(; item = stack[i]; i++) {\n\t\t\t\tvalue += '\\n' + indention + '> ' + item.message + ' ' + (item.module ? '\"' + item.module + '\"' : '');\n\t\t\n\t\t\t\tif(item.stack) {\n\t\t\t\t\tvalue = ClassFailure.traverse(item.stack, value, depth + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\treturn value;\n\t\t};\n\t\t\n\t\t//=require handler/module.js\n\t\t\n\t\tvar handlerBundle = (function() {\n\t\t\tvar path     = MODULE_PREFIX_HANDLER + 'bundle',\n\t\t\t\tsettings = {};\n\t\t\n\t\t\tdemand\n\t\t\t\t.on(EVENT_POST_CONFIGURE + ':' + path, function(options) {\n\t\t\t\t\tif(validatorIsObject(options)) {\n\t\t\t\t\t\tsettings = options;\n\t\t\n\t\t\t\t\t\tfunctionIterate(settings, updateDependencies);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t\tfunction updateDependencies(uri, dependencies) {\n\t\t\t\tvar i, dependency;\n\t\t\n\t\t\t\tfor(i = 0; (dependency = dependencies[i]); i++) {\n\t\t\t\t\tif(validatorIsTypeOf(dependency, STRING_STRING)) {\n\t\t\t\t\t\tdependencies[i] = functionResolveId(dependency);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction getType(dependencies) {\n\t\t\t\tvar type, i = 0, temp;\n\t\t\n\t\t\t\tfor(; (temp = dependencies[i]); i++) {\n\t\t\t\t\ttemp = temp.match(regexMatchParameter);\n\t\t\t\t\ttemp = (temp && temp[3]) || settings.handler;\n\t\t\n\t\t\t\t\tif(type) {\n\t\t\t\t\t\tif(temp !== type) {\n\t\t\t\t\t\t\treturn FALSE;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn type;\n\t\t\t}\n\t\t\n\t\t\tfunction HandlerBundle() {}\n\t\t\n\t\t\tHandlerBundle.prototype = {\n\t\t\t\tvalidate: handlerModule.validate,\n\t\t\t\tonPreProcess: function(dependency) {\n\t\t\t\t\tvar source       = dependency.source,\n\t\t\t\t\t\tdfd          = dependency.dfd,\n\t\t\t\t\t\tdependencies = settings[dependency.path],\n\t\t\t\t\t\ttype, match, pledges, temp, i;\n\t\t\n\t\t\t\t\tdependency.enqueue = FALSE;\n\t\t\n\t\t\t\t\tfunction reject() {\n\t\t\t\t\t\tdfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id, arguments));\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif(dependencies && (type = getType(dependencies))) {\n\t\t\t\t\t\twhile(match = regexMatchSourcemap.exec(source)) {\n\t\t\t\t\t\t\tsource = source.replace(match[0], '');\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tdependency.source = source;\n\t\t\t\t\t\tpledges           = [];\n\t\t\n\t\t\t\t\t\tfor(i = 0; (temp = dependencies[i]); i++) {\n\t\t\t\t\t\t\tpledges.push(ClassDependency.resolve(MOCK_PREFIX + temp).pledge);\n\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\tClassPledge.all(pledges).then(\n\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\tpledges.length = 0;\n\t\t\n\t\t\t\t\t\t\t\tfor(i = 0; (temp = dependencies[i]); i++) {\n\t\t\t\t\t\t\t\t\ttemp         = dependencies[i] = ClassDependency.get(temp) || new ClassDependency(temp);\n\t\t\t\t\t\t\t\t\ttemp.handler = arguments[i];\n\t\t\n\t\t\t\t\t\t\t\t\tpledges.push(temp.pledge);\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tif(type === 'module') {\n\t\t\t\t\t\t\t\t\tqueue.enqueue.apply(queue, dependencies);\n\t\t\t\t\t\t\t\t\thandlerModule.process(dependency);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\thandlerModule.process(dependency);\n\t\t\t\t\t\t\t\t\tqueue.enqueue.apply(queue, dependencies);\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tClassPledge.all(pledges).then(dfd.resolve, reject);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\treject\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn new (HandlerBundle.extends(abstractHandler));\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tFALSE, EVENT_POST_REQUEST, ERROR_RESOLVE,\n\t\t\tfunctionResolveSourcemaps,\n\t\t\tabstractHandler,\n\t\t\tClassDependency, ClassPledge, ClassFailure\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require function/resolveSourcemaps.js\n\t\t//=require abstract/handler.js\n\t\t//=require class/dependency.js\n\t\t//=require class/pledge.js\n\t\t//=require class/Failure.js\n\t\t\n\t\tvar handlerComponent = (function() {\n\t\t\tvar suffix         = '.html',\n\t\t\t\tregexMatchType = /^text\\/.+$/;\n\t\t\n\t\t\tfunction HandlerComponent() {}\n\t\t\n\t\t\tHandlerComponent.prototype = {\n\t\t\t\tvalidate: function(type) {\n\t\t\t\t\treturn regexMatchType.test(type);\n\t\t\t\t},\n\t\t\t\tonPreRequest: function(dependency) {\n\t\t\t\t\tvar pathname = dependency.url.pathname;\n\t\t\t\t\t\n\t\t\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname;\n\t\t\t\t},\n\t\t\t\tonPostRequest: function(dependency) {\n\t\t\t\t\tdependency.source = functionResolveSourcemaps(dependency.url, dependency.source);\n\t\t\t\t},\n\t\t\t\tonPreProcess: function(dependency) {\n\t\t\t\t\tvar context   = dependency.path,\n\t\t\t\t\t\tdfd       = dependency.dfd,\n\t\t\t\t\t\tcontainer = document.createElement('body'),\n\t\t\t\t\t\tmodules   = [],\n\t\t\t\t\t\tpledges   = [],\n\t\t\t\t\t\tnode, handler, path, uri;\n\t\t\n\t\t\t\t\tdependency.enqueue  = FALSE;\n\t\t\t\t\tcontainer.innerHTML = dependency.source;\n\t\t\n\t\t\t\t\tfunction reject() {\n\t\t\t\t\t\tdfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id, arguments));\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\twhile(node = container.firstElementChild) {\n\t\t\t\t\t\tif(handler = node.getAttribute('type')) {\n\t\t\t\t\t\t\tpath = node.getAttribute('path');\n\t\t\t\t\t\t\turi  = handler + '!' + context + (path ? '/' + path : '');\n\t\t\n\t\t\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t\t\t\tmodules.push({ source: node.textContent, uri:  uri });\n\t\t\t\t\t\t\tpledges.push(ClassDependency.resolve('mock:' + uri).pledge);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tClassPledge.all(pledges).then(\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tvar i = 0, module, dependency;\n\t\t\n\t\t\t\t\t\t\tpledges.length = 0;\n\t\t\n\t\t\t\t\t\t\tfor(; (module = modules[i]); i++) {\n\t\t\t\t\t\t\t\tdependency         = ClassDependency.get(module.uri) || new ClassDependency(module.uri);\n\t\t\t\t\t\t\t\tdependency.source  = functionResolveSourcemaps(dependency.url, module.source);\n\t\t\t\t\t\t\t\tdependency.handler = arguments[i];\n\t\t\n\t\t\t\t\t\t\t\tpledges.push(dependency.pledge);\n\t\t\n\t\t\t\t\t\t\t\tqueue.enqueue(dependency);\n\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\tClassPledge.all(pledges).then(dfd.resolve, reject);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\t\t\n\t\t\treturn new (HandlerComponent.extends(abstractHandler));\n\t\t}());\n\t\t\n\t\t/* global\n\t\t\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\t\t\tMODULE_PREFIX_PLUGIN, MODULE_PREFIX_HANDLER, EVENT_POST_CONFIGURE, EVENT_PRE_RESOLVE, STRING_STRING, ERROR_RESOLVE, FALSE, TRUE,\n\t\t\tregexMatchInternal,\n\t\t\tvalidatorIsObject, validatorIsTypeOf,\n\t\t\tfunctionIterate, functionHash,\n\t\t\tClassDependency, ClassFailure,\n\t\t\tsingletonCache\n\t\t*/\n\t\t\n\t\t//=require constants.js\n\t\t//=require variables.js\n\t\t//=require validator/isTypeOf.js\n\t\t//=require validator/isObject.js\n\t\t//=require function/iterate.js\n\t\t//=require function/hash.js\n\t\t//=require class/dependency.js\n\t\t//=require class/failure.js\n\t\t//=require singleton/cache.js\n\t\t\n\t\tvar pluginGenie = (function() {\n\t\t\tvar path    = MODULE_PREFIX_PLUGIN + 'genie',\n\t\t\t\tpattern = [];\n\t\t\n\t\t\tfunction matchPattern(path) {\n\t\t\t\tvar i = 0, pointer, match;\n\t\t\n\t\t\t\tfor(; (pointer = pattern[i]); i++) {\n\t\t\t\t\tif(path.indexOf(pointer.prefix) === 0 && (!match || pointer.weight > match.weight)) {\n\t\t\t\t\t\tmatch = pointer;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\n\t\t\t\treturn match;\n\t\t\t}\n\t\t\n\t\t\tfunction generateConfiguration(bundle) {\n\t\t\t\tvar matches       = bundle.matches,\n\t\t\t\t\tconfiguration = { pattern: {}, modules: { '/demand/handler/bundle': {} } },\n\t\t\t\t\ti = 0, pointer, dependency;\n\t\t\n\t\t\t\tconfiguration.pattern[bundle.id] = bundle.fn(matches);\n\t\t\t\tconfiguration.modules[MODULE_PREFIX_HANDLER + 'bundle'][bundle.id] = pointer = [];\n\t\t\n\t\t\t\tfor(; (dependency = matches[i]); i++) {\n\t\t\t\t\tpointer.push(dependency.path);\n\t\t\t\t}\n\t\t\n\t\t\t\treturn configuration;\n\t\t\t}\n\t\t\n\t\t\tfunction resolveDependencies() {\n\t\t\t\tvar i = 0, dependency;\n\t\t\n\t\t\t\tfor(; (dependency = this[i]); i++) {\n\t\t\t\t\tdependency.dfd.resolve(arguments[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction rejectDependencies() {\n\t\t\t\tvar i = 0, dependency;\n\t\t\n\t\t\t\tfor(; (dependency = this[i]); i++) {\n\t\t\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id));\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction addPattern(property, value) {\n\t\t\t\tpattern.push({ prefix: property, weight: property.length, fn: value });\n\t\t\t}\n\t\t\n\t\t\tfunction resolveBundles(property, value) {\n\t\t\t\tvar matches = value.matches,\n\t\t\t\t\ti = 0, dependency;\n\t\t\n\t\t\t\tif(matches.length > 1) {\n\t\t\t\t\tvalue.id = path + '/' + functionHash(JSON.stringify(value.matches));\n\t\t\n\t\t\t\t\tfor(; (dependency = matches[i]); i++) {\n\t\t\t\t\t\tmatches[i] = new ClassDependency(dependency.uri);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tdemand.configure(generateConfiguration(value));\n\t\t\t\t\tdemand('bundle!' + value.id)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tresolveDependencies.bind(matches),\n\t\t\t\t\t\t\trejectDependencies.bind(matches)\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tdemand\n\t\t\t\t.on(EVENT_POST_CONFIGURE + ':' + path, function(options) {\n\t\t\t\t\tif(validatorIsObject(options)) {\n\t\t\t\t\t\tpattern.length = 0;\n\t\t\n\t\t\t\t\t\tfunctionIterate(options, addPattern);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.on(EVENT_PRE_RESOLVE, function(dependencies, context) {\n\t\t\t\t\tvar bundles = {},\n\t\t\t\t\t\ti = 0, dependency, pattern;\n\t\t\n\t\t\t\t\tfor(; (dependency = dependencies[i]); i++) {\n\t\t\t\t\t\tif(validatorIsTypeOf(dependency, STRING_STRING) && !regexMatchInternal.test(dependency) && !ClassDependency.get(dependency, context)) {\n\t\t\t\t\t\t\tdependency = new ClassDependency(dependency, context, FALSE);\n\t\t\n\t\t\t\t\t\t\tif(dependency.type === 'module' && (pattern = matchPattern(dependency.path)) && !singletonCache.get(dependency)) {\n\t\t\t\t\t\t\t\t(bundles[pattern.prefix] || (bundles[pattern.prefix] = { fn: pattern.fn, matches: [] })).matches.push(dependency);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tfunctionIterate(bundles, resolveBundles);\n\t\t\t\t});\n\t\t\n\t\t\treturn TRUE;\n\t\t}());\n\t\t\n\n\t// initialize\n\t\tqueue     = new ClassQueue();\n\t\tprocessor = new ClassProcessor(queue);\n\n\t\tfunction assignModule(id, module) {\n\t\t\tprovide(id, function() { return module; });\n\t\t}\n\n\t\tassignModule(MODULE_PREFIX_ABSTRACT + 'uuid', AbstractUuid);\n\t\tassignModule(MODULE_PREFIX_ABSTRACT + 'handler', abstractHandler);\n\t\tassignModule(MODULE_PREFIX_HANDLER + 'module', handlerModule);\n\t\tassignModule(MODULE_PREFIX_HANDLER + 'bundle', handlerBundle);\n\t\tassignModule(MODULE_PREFIX_HANDLER + 'component', handlerComponent);\n\t\tassignModule(MODULE_PREFIX_PLUGIN + 'genie', pluginGenie);\n\t\tassignModule(MODULE_PREFIX_VALIDATOR + 'isTypeOf', validatorIsTypeOf);\n\t\tassignModule(MODULE_PREFIX_VALIDATOR + 'isArray', validatorIsArray);\n\t\tassignModule(MODULE_PREFIX_VALIDATOR + 'isObject', validatorIsObject);\n\t\tassignModule(MODULE_PREFIX_VALIDATOR + 'isInstanceOf', validatorIsInstanceOf);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'resolveUrl', functionResolveUrl);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'resolveSourcemaps', functionResolveSourcemaps);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'merge', functionMerge);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'iterate', functionIterate);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'hash', functionHash);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'defer', functionDefer);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'uuid', functionUuid);\n\t\tassignModule(MODULE_PREFIX + 'weakmap', ClassWeakmap);\n\t\tassignModule(MODULE_PREFIX + 'descriptor', ClassDescriptor);\n\t\tassignModule(MODULE_PREFIX + 'pledge', ClassPledge);\n\t\tassignModule(MODULE_PREFIX + 'queue', ClassQueue);\n\t\tassignModule(MODULE_PREFIX + 'xhr', ClassXhr);\n\t\tassignModule(MODULE_PREFIX + 'failure', ClassFailure);\n\n\t\tif(options && options.main) {\n\t\t\tswitch(typeof options.main) {\n\t\t\t\tcase STRING_STRING:\n\t\t\t\t\tdemand(options.main);\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase STRING_FUNCTION:\n\t\t\t\t\tprovide('main', options.main());\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n}(this.name === 'demand-loader' ? parent : this, setTimeout, clearTimeout));\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n*/\n\nvar DEMAND_ID               = 'demand',\n\tPROVIDE_ID              = 'provide',\n\tPATH_ID                 = 'path',\n\tMODULE_PREFIX           = '/' + DEMAND_ID + '/',\n\tMODULE_PREFIX_ABSTRACT  = MODULE_PREFIX + 'abstract/',\n\tMODULE_PREFIX_HANDLER   = MODULE_PREFIX + 'handler/',\n\tMODULE_PREFIX_PLUGIN    = MODULE_PREFIX + 'plugin/',\n\tMODULE_PREFIX_FUNCTION  = MODULE_PREFIX + 'function/',\n\tMODULE_PREFIX_VALIDATOR = MODULE_PREFIX + 'validator/',\n\tMOCK_PREFIX             = 'mock:',\n\tNULL                    = null,\n\tUNDEFINED               = undefined,\n\tFALSE                   = false,\n\tTRUE                    = true,\n\tSTRING_UNDEFINED        = 'undefined',\n\tSTRING_STRING           = 'string',\n\tSTRING_BOOLEAN          = 'boolean',\n\tSTRING_OBJECT           = 'object',\n\tSTRING_FUNCTION         = 'function',\n\tSTRING_NUMBER           = 'number',\n\tFUNCTION_EMPTY          = function() {},\n\tEVENT_PREFIX            = 'pre',\n\tEVENT_POSTFIX           = 'post',\n\tEVENT_CONFIGURE         = 'Configure',\n\tEVENT_PRE_CONFIGURE     = EVENT_PREFIX + EVENT_CONFIGURE,\n\tEVENT_POST_CONFIGURE    = EVENT_POSTFIX + EVENT_CONFIGURE,\n\tEVENT_CACHE             = 'cache',\n\tEVENT_CACHE_MISS        = EVENT_CACHE + 'Miss',\n\tEVENT_CACHE_HIT         = EVENT_CACHE + 'Hit',\n\tEVENT_CACHE_CLEAR       = EVENT_CACHE + 'Clear',\n\tEVENT_CACHE_EXCEED      = EVENT_CACHE + 'Exceed',\n\tEVENT_PRE_CACHE         = EVENT_PREFIX + 'Cache',\n\tEVENT_POST_CACHE        = EVENT_POSTFIX + 'Cache',\n\tEVENT_RESOLVE           = 'Resolve',\n\tEVENT_PRE_RESOLVE       = EVENT_PREFIX + EVENT_RESOLVE,\n\tEVENT_POST_RESOLVE      = EVENT_POSTFIX + EVENT_RESOLVE,\n\tEVENT_REQUEST           = 'Request',\n\tEVENT_PRE_REQUEST       = EVENT_PREFIX + EVENT_REQUEST,\n\tEVENT_POST_REQUEST      = EVENT_POSTFIX + EVENT_REQUEST,\n\tEVENT_PROCESS           = 'Process',\n\tEVENT_PRE_PROCESS       = EVENT_PREFIX + EVENT_PROCESS,\n\tEVENT_POST_PROCESS      = EVENT_POSTFIX + EVENT_PROCESS,\n\tEVENT_QUEUE             = 'queue',\n\tEVENT_QUEUE_ENQUEUE     = EVENT_QUEUE + 'Enqueue',\n\tEVENT_QUEUE_DEQUEUE     = EVENT_QUEUE + 'Dequeue',\n\tERROR_LOAD              = 'error loading',\n\tERROR_PROVIDE           = 'error providing',\n\tERROR_RESOLVE           = 'error resolving',\n\tERROR_PROVIDE_ANONYMOUS = 'unspecified anonymous provide';\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n*/\n\nvar arrayPrototype                 = Array.prototype,\n\tarrayPrototypeSlice            = arrayPrototype.slice,\n\tarrayPrototypeConcat           = arrayPrototype.concat,\n\tobject                         = Object,\n\tobjectPrototype                = object.prototype,\n\tobjectPrototypeToString        = objectPrototype.toString,\n\tobjectCreate                   = object.create,\n\tobjectDefineProperty           = object.defineProperty,\n\tobjectGetOwnPropertyNames      = object.getOwnPropertyNames,\n\tobjectGetOwnPropertyDescriptor = object.getOwnPropertyDescriptor,\n\tlinkElement                    = document.createElement('a');\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tNULL\n*/\n\n//=require constants.js\n\nfunction ClassDescriptor(value, writable, configurable, enumerable) {\n\treturn {\n\t\t__proto__:    NULL,\n\t\tvalue:        value,\n\t\tenumerable:   !!enumerable,\n\t\tconfigurable: !!configurable,\n\t\twritable:     !!writable\n\t};\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n*/\n\n/**\n * isTypeOf\n *\n * Check whether a given object is of specified type\n *\n * @param object\n * @param {string} type\n *\n * @return {boolean}\n */\n\nfunction validatorIsTypeOf(object, type) {\n\treturn typeof object === type;\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tSTRING_OBJECT,\n\tvalidatorIsTypeOf\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n\n/**\n * isObject\n *\n * Check whether a given object is of type object\n *\n * @param object\n *\n * @return {boolean}\n */\n\nfunction validatorIsObject(object) {\n\treturn object && validatorIsTypeOf(object, STRING_OBJECT);\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tSTRING_NUMBER,\n\tvalidatorIsTypeOf\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n\n/**\n * isPositive\n *\n * Check whether a given value is a positive integer\n *\n * @param value\n *\n * @return {boolean}\n */\n\nfunction validatorIsPositive(value) {\n\treturn validatorIsTypeOf(value, STRING_NUMBER) && isFinite(value) && Math.floor(value) === value && value >= 0;\n}\n","/**\n * isInstanceOf\n *\n * Check whether a given object is an instance of specified type\n *\n * @param object\n * @param module\n *\n * @return {boolean}\n */\nfunction validatorIsInstanceOf(object, module) {\n\treturn object instanceof module;\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tUNDEFINED, FALSE,\n\tobject\n*/\n\n//=require constants.js\n//=require shortcuts.js\n\n/**\n * iterate\n *\n * Iterate over enumerable & own properties of a given\n * object and pass current property as well as its value\n * to a callback function\n *\n * @param {object} object\n * @param {function} callback\n * @param context\n *\n * @return mixed\n */\n\nfunction functionIterate(source, callback, context) {\n\tvar properties = object.keys(source),\n\t\ti = 0, property;\n\n\tfor(; (property = properties[i]) !== UNDEFINED; i++) {\n\t\tif(callback.call(context, property, source[property]) === FALSE) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn context;\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tTRUE,\n\tobjectCreate, objectDefineProperty, objectGetOwnPropertyNames, objectGetOwnPropertyDescriptor,\n\tClassDescriptor\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require class/descriptor.js\n\n(function(strPrototype) {\n\tfunction objectDefine(name, value, writable, configurable, enumerable) {\n\t\tobjectDefineProperty(this, name, new ClassDescriptor(value, writable, configurable, enumerable));\n\t}\n\n\tfunction functionExtends(source) {\n\t\tvar self       = this,\n\t\t\tprototype  = self[strPrototype],\n\t\t\tnames      = objectGetOwnPropertyNames(prototype),\n\t\t\tproperties = { constructor:  new ClassDescriptor(self, TRUE, TRUE)},\n\t\t\ti = 0, property;\n\n\t\tfor(; (property = names[i]) && !properties[property]; i++) {\n\t\t\tproperties[property] = objectGetOwnPropertyDescriptor(prototype, property);\n\t\t}\n\n\t\ttry {\n\t\t\tself[strPrototype] = objectCreate(source[strPrototype] || source, properties);\n\t\t} catch(e) {\n\t\t\t// ES6 class prototypes are readonly at least in Chrome\n\t\t\t// (and assignment throws an error in strict mode) ...\n\t\t}\n\n\t\t// ... which is handled here\n\t\tif(self[strPrototype] === prototype) {\n\t\t\tthrow new TypeError('Unable to extend, prototype is not writable');\n\t\t}\n\n\t\treturn self;\n\t}\n\n\tobjectDefine.call(Object.prototype, 'define', objectDefine);\n\tobjectDefine.call(global.Object.prototype, 'define', objectDefine);\n\n\tFunction.prototype.define('extends', functionExtends);\n\tglobal.Function.prototype.define('extends', functionExtends);\n}('prototype'));\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tUNDEFINED,\n\tvalidatorIsObject,\n\tfunctionIterate\n*/\n\n//=require constants.js\n//=require validator/isObject.js\n//=require function/iterate.js\n\n/**\n * merge\n *\n * Merge two or more objects into the first one passed in\n *\n * @param {...object} object\n *\n * @return {object}\n */\nvar functionMerge = (function() {\n\tfunction mergeProperties(property, value) {\n\t\tvar targetProperty = this[property],\n\t\t\ttargetPropertyIsObject;\n\n\t\tif(value !== UNDEFINED) {\n\t\t\tif(validatorIsObject(value)) {\n\t\t\t\ttargetPropertyIsObject = validatorIsObject(targetProperty);\n\n\t\t\t\tif(value.length !== UNDEFINED) {\n\t\t\t\t\ttargetProperty = (targetPropertyIsObject && targetProperty.length !== UNDEFINED) ? targetProperty : [];\n\t\t\t\t} else {\n\t\t\t\t\ttargetProperty = (targetPropertyIsObject && targetProperty.length === UNDEFINED) ? targetProperty : {};\n\t\t\t\t}\n\n\t\t\t\tthis[property] = functionMerge(targetProperty, value);\n\t\t\t} else {\n\t\t\t\tthis[property] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn function functionMerge() {\n\t\tvar target = arguments[0],\n\t\t\ti = 1, properties;\n\n\t\tfor(; (properties = arguments[i]) !== UNDEFINED; i++) {\n\t\t\tfunctionIterate(properties, mergeProperties, target);\n\t\t}\n\n\t\treturn target;\n\t};\n}());\n","/**\n * Based on setAsap:\n *   Repo:    https://github.com/taylorhakes/setAsap\n *   License: https://github.com/taylorhakes/setAsap/blob/master/LICENSE\n */\n\n/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tNULL, TRUE, FALSE,\n\tfunctionUuid\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require function/uuid.js\n\n/**\n * defer\n *\n * delay function execution like setImmediate does\n *\n * @param {function} function\n */\nvar functionDefer = (function() {\n\tvar hasSetImmediate = 'setImmediate' in global,\n\t\telement, fallback;\n\n\tif('MutationObserver' in global) {\n\t\treturn function functionDefer(fn) {\n\t\t\telement = document.createElement('div');\n\n\t\t\tnew MutationObserver(function() { fn(); })\n\t\t\t\t.observe(element, { attributes: TRUE });\n\n\t\t\telement.setAttribute('i', '1');\n\t\t};\n\t}\n\n\tif(!hasSetImmediate && 'postMessage' in global && !('importScripts' in global) && 'addEventListener' in global) {\n\t\treturn (function() {\n\t\t\tvar storage = {};\n\n\t\t\tfunction onMessage(event) {\n\t\t\t\tvar fn;\n\n\t\t\t\tif(event.source === global && event.data && (fn = storage[event.data])) {\n\t\t\t\t\tfn();\n\n\t\t\t\t\tdelete storage[event.data];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tglobal.addEventListener('message', onMessage, FALSE);\n\n\t\t\treturn function functionDefer(fn) {\n\t\t\t\tvar uuid = functionUuid();\n\n\t\t\t\tstorage[uuid] = fn;\n\n\t\t\t\tglobal.postMessage(uuid, '*');\n\t\t\t};\n\t\t}());\n\t}\n\n\tif(!hasSetImmediate && 'onreadystatechange' in (element = document.createElement('script'))) {\n\t\treturn function functionDefer(fn) {\n\t\t\telement.onreadystatechange = function onreadystatechange() {\n\t\t\t\telement.onreadystatechange = NULL;\n\t\t\t\telement.parentNode.removeChild(element);\n\n\t\t\t\tfn();\n\t\t\t};\n\n\t\t\tdocument.body.appendChild(element);\n\t\t};\n\t}\n\n\tfallback = hasSetImmediate ? setImmediate : setTimeout; // eslint-disable-line no-undef\n\n\treturn function functionDefer(fn) {\n\t\tfallback(fn);\n\t};\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n*/\n\nvar functionUuid = (function() {\n\tvar regex = new RegExp('[xy]', 'g');\n\n\tfunction randomize(character) {\n\t\tvar r = Math.random() * 16 | 0;\n\n\t\treturn ((character === 'x') ? r : (r & 0x3 | 0x8)).toString(16);\n\t}\n\n\treturn function functionUuid() {\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(regex, randomize);\n\t};\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tarrayPrototypeSlice\n*/\n\n//=require shortcuts.js\n\nfunction functionToArray(arrayLikeObject, start, end) {\n\treturn arrayPrototypeSlice.call(arrayLikeObject, start, end);\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tNULL, STRING_STRING, STRING_FUNCTION, EVENT_POST_CONFIGURE,\n\tvalidatorIsTypeOf,\n\tfunctionToArray\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n//=require function/toArray.js\n\nvar singletonEvent = (function() {\n\tvar TYPE_ON         = 'on',\n\t\tTYPE_AFTER      = 'after',\n\t\tregexMatchEvent = /^cache(Miss|Hit|Clear|Exceed)|queue(En|De)queue|(pre|post)(Resolve|Configure|Request|Process|Cache)$/,\n\t\tlistener        = {};\n\n\tfunction addListener(type, events, callback) {\n\t\tvar event, pointer;\n\n\t\tif(validatorIsTypeOf(events, STRING_STRING) && validatorIsTypeOf(callback, STRING_FUNCTION)) {\n\t\t\tevents = events.split(' ');\n\n\t\t\twhile(event = events.shift()) {\n\t\t\t\tevent = event.split(':');\n\n\t\t\t\tif(regexMatchEvent.test(event[0])) {\n\t\t\t\t\t(listener[event[0]] || (listener[event[0]] = { on: [], after: [] }))[type].push({ callback: callback, filter: event[1] });\n\n\t\t\t\t\tif(type === TYPE_ON && event[0] === EVENT_POST_CONFIGURE && (pointer = settings.modules[event[1]])) {\n\t\t\t\t\t\tcallback(pointer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction Event() {}\n\n\tEvent.prototype = {\n\t\temit: function (event, filter) {\n\t\t\tvar pointer = listener[event],\n\t\t\t\tparameter, i, item;\n\n\t\t\tif(pointer) {\n\t\t\t\tparameter = functionToArray(arguments, 2);\n\n\t\t\t\tfor(i = 0; (item = pointer[TYPE_ON][i]); i++) {\n\t\t\t\t\tif(!item.filter || item.filter === filter) {\n\t\t\t\t\t\titem.callback.apply(NULL, parameter);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(i = 0; (item = pointer[TYPE_AFTER][i]); i++) {\n\t\t\t\t\tif(!item.filter || item.filter === filter) {\n\t\t\t\t\t\titem.callback.apply(NULL, parameter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\t\ton: function(events, callback) {\n\t\t\taddListener(TYPE_ON, events, callback);\n\n\t\t\treturn this;\n\t\t},\n\t\tafter: function(events, callback) {\n\t\t\taddListener(TYPE_AFTER, events, callback);\n\n\t\t\treturn this;\n\t\t}\n\t};\n\n\treturn new Event();\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n*/\n\nfunction functionGetTimestamp() {\n\treturn +new Date();\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n*/\n\nvar functionEscapeRegex = (function() {\n\tvar regexMatchRegex = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g; // eslint-disable-line no-useless-escape\n\n\treturn function functionEscapeRegex(value) {\n\t\treturn value.replace(regexMatchRegex, '\\\\$&');\n\t};\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tlinkElement\n*/\n\n//=require shortcuts.js\n\nfunction functionResolveUrl(url) {\n\tlinkElement.href = url;\n\n\treturn linkElement.href;\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tDEMAND_ID, PROVIDE_ID, PATH_ID,\n\tfunctionEscapeRegex, functionResolveUrl\n*/\n\n//=require constants.js\n//=require function/escapeRegex.js\n//=require function/resolveUrl.js\n\nvar regexIsAbsoluteUri      = /^(http(s?):)?\\/\\//i,\n\tregexIsAbsolutePath     = /^\\//,\n\tregexMatchSourcemap     = /((?:\\/\\/|\\/\\*)#)\\s*(sourceMappingURL)\\s*=\\s*(?!(?:http[s]?:)?\\/\\/)(.+?)\\.map(?:\\s+)?(\\*\\/)?/g,\n\tregexMatchBaseUrl       = new RegExp('^' + functionEscapeRegex(functionResolveUrl('/'))),\n\tregexMatchInternal      = new RegExp('^' + DEMAND_ID + '|' + PROVIDE_ID + '|' + PATH_ID + '$'),\n\tregexMatchParameter     = /^(mock:)?([+-])?((?:[-\\w]+\\/?)+)?(?:@(.+?))?(?:#(\\d+))?!/;\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tregexMatchParameter, regexMatchBaseUrl, regexIsAbsolutePath, regexIsAbsoluteUri,\n\tfunctionResolveUrl\n*/\n\n//=require variables.js\n//=require function/resolveUrl.js\n\nfunction functionResolvePath(uri, context) {\n\tvar path = uri.replace(regexMatchParameter, '');\n\n\tif(!regexIsAbsolutePath.test(path) && !regexIsAbsoluteUri.test(path)) {\n\t\tpath = '/' + functionResolveUrl(((context && functionResolveUrl(context + '/../')) || '/') + path).replace(regexMatchBaseUrl, '');\n\t}\n\n\treturn path;\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tregexMatchParameter,\n\tfunctionResolvePath\n*/\n\n//=require variables.js\n//=require function/resolvePath.js\n\nfunction functionResolveId(uri, context) {\n\tvar parameter = uri.match(regexMatchParameter);\n\n\treturn ((parameter && parameter[1]) ? 'mock:' : '') + ((parameter && parameter[3]) || settings.handler) + '!' + functionResolvePath(uri, context);\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tDEMAND_ID, FUNCTION_EMPTY, EVENT_POST_REQUEST, EVENT_POST_PROCESS, EVENT_CACHE_HIT, EVENT_CACHE_MISS, EVENT_CACHE_EXCEED, EVENT_CACHE_CLEAR, EVENT_PRE_CACHE, EVENT_PRE_CACHE, EVENT_POST_CACHE, STRING_STRING, NULL, FALSE, TRUE,\n\tvalidatorIsTypeOf,\n\tfunctionGetTimestamp, functionEscapeRegex, functionIterate, functionDefer, functionResolveId, functionToArray,\n\tClassDependency,\n\tsingletonEvent\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n//=require function/getTimestamp.js\n//=require function/escapeRegex.js\n//=require function/iterate.js\n//=require function/defer.js\n//=require function/resolveId.js\n//=require function/toArray.js\n//=require singleton/event.js\n\nvar singletonCache = (function() {\n\tvar STORAGE_PREFIX         = '[' + DEMAND_ID + ']',\n\t\tSTORAGE_SUFFIX_STATE   = '[state]',\n\t\tSTORAGE_SUFFIX_VALUE   = '[value]',\n\t\tregexMatchState        = new RegExp('^' + functionEscapeRegex(STORAGE_PREFIX) + '\\\\[(.+?)\\\\]' + functionEscapeRegex(STORAGE_SUFFIX_STATE) + '$'),\n\t\tregexMatchProperties   = /^(.+?),(\\d+),(\\d*),(.+?),(\\d+)$/,\n\t\tsupportsLocalStorage   = (function() { try { return 'localStorage' in global && global.localStorage; } catch(exception) { return FALSE; } }()),\n\t\tlocalStorage           = supportsLocalStorage ? global.localStorage : NULL,\n\t\tsupportsRemainingSpace = supportsLocalStorage && 'remainingSpace' in localStorage,\n\t\tstorage                = {},\n\t\tcache;\n\n\tsingletonEvent\n\t\t.on(EVENT_CACHE_MISS, function(dependency) {\n\t\t\tfunctionDefer(function() {\n\t\t\t\tcache.clear.path(dependency.id);\n\t\t\t});\n\t\t})\n\t\t.on(EVENT_CACHE_EXCEED, function(dependency) {\n\t\t\tdemand('-!/' + DEMAND_ID + '/cache/dispose').then(function(cacheDispose) {\n\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\tcacheDispose(dependency.source.length);\n\n\t\t\t\t\tcache.set(dependency);\n\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t.on(EVENT_POST_REQUEST, function(dependency) {\n\t\t\tif(dependency.source && enabled(dependency)) {\n\t\t\t\tstorage[dependency.id] = TRUE;\n\t\t\t}\n\t\t})\n\t\t.after(EVENT_POST_PROCESS, function(dependency) {\n\t\t\tif(storage[dependency.id]) {\n\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\tcache.set(dependency);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\tfunction enabled(dependency) {\n\t\tvar match;\n\n\t\tif(dependency.cache !== NULL) {\n\t\t\treturn dependency.cache;\n\t\t}\n\n\t\tfunctionIterate(settings.cache, function(property, value) {\n\t\t\tif(dependency.path.indexOf(property) === 0 && (!match || value.weight > match.weight)) {\n\t\t\t\tmatch = value;\n\t\t\t}\n\t\t});\n\n\t\treturn match ? match.state : FALSE;\n\t}\n\n\tfunction getKey(key) {\n\t\treturn localStorage.getItem(key);\n\t}\n\n\tfunction setKey(key, value) {\n\t\tlocalStorage[value ? 'setItem' : 'removeItem'](key, value);\n\t}\n\n\tfunction getState(key) {\n\t\tvar state = getKey(key),\n\t\t\tmatches;\n\n\t\tif(state && (matches = state.match(regexMatchProperties))) {\n\t\t\treturn functionToArray(matches, 1);\n\t\t}\n\t}\n\n\tfunction setState(key, state) {\n\t\tstate[4] = functionGetTimestamp();\n\n\t\tsetKey(key, state.join(','));\n\t}\n\n\tfunction emit(event, dependency, state) {\n\t\tsingletonEvent.emit(event, dependency.id, dependency, state);\n\t}\n\n\tfunction Cache() {\n\t\tfunctionDefer(this.clear.expired.bind(this.clear));\n\t}\n\n\tCache.prototype = {\n\t\tget:     supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\tvar id, state;\n\n\t\t\t\t\t\t\t\t\t\t\tif(enabled(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\tid    = STORAGE_PREFIX + '[' + dependency.id + ']';\n\t\t\t\t\t\t\t\t\t\t\t\tstate = getState(id + STORAGE_SUFFIX_STATE);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(!state) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(state[0] !== dependency.version || (state[2] && dependency.lifetime && state[2] <= functionGetTimestamp())) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdependency.invalid = true;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdependency.source = getKey(id + STORAGE_SUFFIX_VALUE);\n\n\t\t\t\t\t\t\t\t\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState(id + STORAGE_SUFFIX_STATE, state);\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn TRUE;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\tresolve: supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\t\t\t\t\t\tif(self.get(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_HIT, dependency);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_MISS, dependency);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} : function(dependency) { emit(EVENT_CACHE_MISS, dependency); },\n\t\tset:     supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\tvar state, id, spaceBefore;\n\n\t\t\t\t\t\t\t\t\t\t\tif(enabled(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate = [ dependency.version, dependency.source.length, dependency.lifetime ? functionGetTimestamp() + dependency.lifetime : NULL, demand.version ];\n\t\t\t\t\t\t\t\t\t\t\t\tid    = STORAGE_PREFIX + '[' + dependency.id + ']';\n\n\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_PRE_CACHE, dependency, state);\n\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\tspaceBefore = supportsRemainingSpace ? localStorage.remainingSpace : NULL;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(id + STORAGE_SUFFIX_VALUE, dependency.source);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState(id + STORAGE_SUFFIX_STATE, state);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t// strict equality check with \"===\" is required due to spaceBefore might be \"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(spaceBefore !== NULL && localStorage.remainingSpace === spaceBefore) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_POST_CACHE, dependency, state);\n\t\t\t\t\t\t\t\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_EXCEED, dependency);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\tclear: {\n\t\t\tpath:    supportsLocalStorage ? function(path) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar id  = functionResolveId(path),\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey = STORAGE_PREFIX + '[' + id + ']';\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(getKey(key + STORAGE_SUFFIX_STATE)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(key + STORAGE_SUFFIX_STATE);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(key + STORAGE_SUFFIX_VALUE);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_CLEAR, ClassDependency.get(id) || new ClassDependency(id, NULL, FALSE));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\t\tall:     supportsLocalStorage ? function() {\n\t\t\t\t\t\t\t\t\t\t\t\tvar match;\n\n\t\t\t\t\t\t\t\t\t\t\t\tfunctionIterate(localStorage, function(property) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatch = property.match(regexMatchState);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatch && this.path(match[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\t\texpired: supportsLocalStorage ? function() {\n\t\t\t\t\t\t\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatch, state;\n\n\t\t\t\t\t\t\t\t\t\t\t\tfunctionIterate(localStorage, function(property) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatch = property.match(regexMatchState);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(match) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate = getState(STORAGE_PREFIX + '[' + match[1] + ']' + STORAGE_SUFFIX_STATE);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(state && state[2] > 0 && state[2] <= functionGetTimestamp()) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.path(match[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY\n\t\t}\n\t};\n\n\treturn (cache = new Cache());\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tfunctionUuid,\n*/\n\n//=require constants.js\n//=require function/uuid.js\n\nvar ClassWeakmap = 'WeakMap' in global ? global.WeakMap : (function() {\n\tvar prefix = 'weakmap-';\n\n\tfunction getEntry(context, key) {\n\t\tvar entry;\n\n\t\tif((entry = key[context.id]) && entry[0] === key) {\n\t\t\treturn entry;\n\t\t}\n\t}\n\n\tfunction ClassWeakmap() {\n\t\tthis.define('id', prefix + functionUuid());\n\t}\n\n\tClassWeakmap.prototype = {\n\t\tset: function(key, value) {\n\t\t\tvar entry = getEntry(this, key);\n\n\t\t\tif(entry) {\n\t\t\t\tentry[1] = value;\n\t\t\t} else {\n\t\t\t\tkey.define(this.id, [ key, value ]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\t\tget: function(key) {\n\t\t\tvar entry = getEntry(this, key);\n\n\t\t\tif(entry) {\n\t\t\t\treturn entry[1];\n\t\t\t}\n\t\t},\n\t\tdelete: function(key) {\n\t\t\tvar entry = getEntry(this, key);\n\n\t\t\tif(entry) {\n\t\t\t\tentry.length = 0;\n\n\t\t\t\tdelete key[this.id];\n\t\t\t}\n\t\t},\n\t\thas: function(key) {\n\t\t\treturn !!getEntry(this, key);\n\t\t}\n\t};\n\n\treturn ClassWeakmap;\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n \tFUNCTION_EMPTY, NULL,\n\tarrayPrototypeConcat,\n\tfunctionDefer, functionToArray,\n\tClassWeakmap\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require function/defer.js\n//=require function/toArray.js\n//=require class/weakmap.js\n\nvar ClassPledge = (function() {\n\tvar PLEDGE_PENDING  = 'pending',\n\t\tPLEDGE_RESOLVED = 'resolved',\n\t\tPLEDGE_REJECTED = 'rejected',\n\t\tstorage         = new ClassWeakmap();\n\n\tfunction resolve() {\n\t\tstorage.get(this).handle(PLEDGE_RESOLVED, arguments);\n\t}\n\n\tfunction reject() {\n\t\tstorage.get(this).handle(PLEDGE_REJECTED, arguments);\n\t}\n\n\tfunction handle(state, parameter) {\n\t\tvar properties = storage.get(this),\n\t\t\tpointer, result;\n\n\t\tif(properties.state === PLEDGE_PENDING) {\n\t\t\tproperties.state = state;\n\t\t\tproperties.value = parameter;\n\t\t}\n\n\t\twhile(pointer = properties[properties.state].shift()) {\n\t\t\tresult = pointer.handler.apply(NULL, properties.value);\n\n\t\t\tif(result && typeof result.then === 'function') {\n\t\t\t\tresult.then(pointer.dfd.resolve, pointer.dfd.reject);\n\t\t\t} else {\n\t\t\t\tpointer.dfd[properties.state === PLEDGE_RESOLVED ? 'resolve' : 'reject'].apply(NULL, properties.value);\n\t\t\t}\n\t\t}\n\n\t\tproperties[PLEDGE_RESOLVED].length = 0;\n\t\tproperties[PLEDGE_REJECTED].length = 0;\n\t}\n\n\tfunction observe(pledge, index, properties) {\n\t\tpledge.then(\n\t\t\tfunction() {\n\t\t\t\tproperties.resolved[index] = functionToArray(arguments);\n\n\t\t\t\tproperties.count++;\n\n\t\t\t\tcheck(properties);\n\t\t\t},\n\t\t\tfunction() {\n\t\t\t\tproperties.rejected.push(functionToArray(arguments));\n\n\t\t\t\tcheck(properties);\n\t\t\t}\n\t\t);\n\t}\n\n\tfunction check(properties) {\n\t\tif(properties.count === properties.total) {\n\t\t\tproperties.dfd.resolve.apply(NULL, arrayPrototypeConcat.apply([], properties.resolved));\n\t\t} else if(properties.rejected.length + properties.count === properties.total) {\n\t\t\tproperties.dfd.reject.apply(NULL, arrayPrototypeConcat.apply([], properties.rejected));\n\t\t}\n\t}\n\n\tfunction ClassPledge(executor) {\n\t\tvar self = this;\n\n\t\tstorage.set(this, { state: PLEDGE_PENDING, handle: handle.bind(self), value: NULL, resolved: [], rejected: [], count: 0 });\n\n\t\texecutor(resolve.bind(self), reject.bind(self));\n\n\t\treturn self;\n\t}\n\n\tClassPledge.prototype = {\n\t\t'catch': function(listener) {\n\t\t\treturn this.then(FUNCTION_EMPTY, listener);\n\t\t},\n\t\talways: function(alwaysListener) {\n\t\t\treturn this.then(alwaysListener, alwaysListener);\n\t\t},\n\t\tthen: function(resolveListener, rejectListener) {\n\t\t\tvar properties = storage.get(this),\n\t\t\t\tdfd        = ClassPledge.defer();\n\n\t\t\tresolveListener && properties[PLEDGE_RESOLVED].push({ handler: resolveListener, dfd: dfd });\n\t\t\trejectListener && properties[PLEDGE_REJECTED].push({ handler: rejectListener, dfd: dfd });\n\n\t\t\tif(properties.state !== PLEDGE_PENDING) {\n\t\t\t\tfunctionDefer(properties.handle);\n\t\t\t}\n\n\t\t\treturn dfd.pledge;\n\t\t},\n\t\tisPending: function() {\n\t\t\treturn storage.get(this).state === PLEDGE_PENDING;\n\t\t},\n\t\tisResolved: function() {\n\t\t\treturn storage.get(this).state === PLEDGE_RESOLVED;\n\t\t},\n\t\tisRejected: function() {\n\t\t\treturn storage.get(this).state === PLEDGE_REJECTED;\n\t\t}\n\t};\n\n\tClassPledge.defer = function() {\n\t\tvar self = {};\n\n\t\tself.pledge = new ClassPledge(function(resolveListener, rejectListener) {\n\t\t\tself.resolve = resolveListener;\n\t\t\tself.reject  = rejectListener;\n\t\t});\n\n\t\treturn self;\n\t};\n\n\tClassPledge.all = function(pledges) {\n\t\tvar dfd = ClassPledge.defer(),\n\t\t\tproperties, i = 0, pledge;\n\n\t\tif(pledges.length) {\n\t\t\tproperties = { dfd: dfd, resolved: [], rejected: [], total: pledges.length, count: 0 };\n\n\t\t\tfor(; pledge = pledges[i]; i++) {\n\t\t\t\tobserve(pledge, i, properties)\n\t\t\t}\n\t\t} else {\n\t\t\tdfd.resolve();\n\t\t}\n\n\t\treturn dfd.pledge;\n\t};\n\n\tClassPledge.race = function(pledges) {\n\t\tvar dfd = ClassPledge.defer(),\n\t\t\ti = 0, pledge;\n\n\t\tfor(; pledge = pledges[i]; i++) {\n\t\t\tpledge.then(dfd.resolve, dfd.reject);\n\t\t}\n\n\t\tif(!pledges.length) {\n\t\t\tdfd.resolve();\n\t\t}\n\n\t\treturn dfd.pledge;\n\t};\n\n\treturn ClassPledge;\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tClassWeakmap\n*/\n\n//=require class/weakmap.js\n\nvar ClassRegistry = (function() {\n\tvar storage = new ClassWeakmap();\n\n\tfunction ClassRegistry() {\n\t\tstorage.set(this, {});\n\t}\n\n\tClassRegistry.prototype = {\n\t\tget: function(key) {\n\t\t\treturn key ? storage.get(this)[key] : storage.get(this);\n\t\t},\n\t\tset: function(key, value) {\n\t\t\tstorage.get(this)[key] = value;\n\t\t},\n\t\tremove: function(key) {\n\t\t\tdelete storage.get(this)[key];\n\t\t}\n\t};\n\n\treturn ClassRegistry;\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tDEMAND_ID,\n\tfunctionToArray\n*/\n\n//=require constants.js\n//=require function/toArray.js\n\nfunction ClassFailure(message, module, stack) {\n\tvar self = this;\n\n\tself.message = message;\n\n\tmodule && (self.module = module);\n\tstack && (self.stack = functionToArray(stack));\n\n\treturn self;\n}\n\nClassFailure.prototype = {\n\t/* only for reference\n\t message: NULL,\n\t module:  NULL,\n\t stack:   NULL,\n\t */\n\ttoString: function() {\n\t\tvar self   = this,\n\t\t\tresult = DEMAND_ID + ': ' + self.message + ' ' + (self.module ? '\"' + self.module + '\"' : '');\n\n\t\tif(self.stack) {\n\t\t\tresult = ClassFailure.traverse(self.stack, result, 1);\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nClassFailure.traverse = function(stack, value, depth) {\n\tvar indention = new Array(depth + 1).join(' '),\n\t\ti = 0, item;\n\n\tfor(; item = stack[i]; i++) {\n\t\tvalue += '\\n' + indention + '> ' + item.message + ' ' + (item.module ? '\"' + item.module + '\"' : '');\n\n\t\tif(item.stack) {\n\t\t\tvalue = ClassFailure.traverse(item.stack, value, depth + 1);\n\t\t}\n\t}\n\n\treturn value;\n};\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tDEMAND_ID, MODULE_PREFIX_HANDLER, ERROR_LOAD, DEMAND_ID, PROVIDE_ID, PATH_ID, MOCK_PREFIX, NULL, TRUE, FALSE,\n\tobject,\n\tregexMatchInternal, regexMatchParameter,\n\tvalidatorIsPositive,\n\tfunctionResolvePath, functionResolveId, functionResolveUrl, functionIterate, functionToArray,\n\tClassRegistry, ClassPledge, ClassFailure,\n\tsingletonCache\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require variables.js\n//=require validator/isPositive.js\n//=require function/resolvePath.js\n//=require function/resolveId.js\n//=require function/resolveUrl.js\n//=require function/iterate.js\n//=require function/toArray.js\n//=require class/registry.js\n//=require class/pledge.js\n//=require class/failure.js\n//=require singleton/cache.js\n\nvar ClassDependency = (function() {\n\tvar PREFIX_INTERNAL = 'internal!',\n\t\tregistry        = new ClassRegistry(),\n\t\tplaceholder     = [];\n\n\tfunction setProperty(property, value) {\n\t\tthis[property] = value;\n\t}\n\n\tfunction addPending(id, dependency) {\n\t\tif(dependency.pledge.isPending()) {\n\t\t\tthis.push(id);\n\t\t}\n\t}\n\n\tfunction addResolved(id, dependency) {\n\t\tif(dependency.pledge.isResolved()) {\n\t\t\tthis.push(id);\n\t\t}\n\t}\n\n\tfunction addRejected(id, dependency) {\n\t\tif(dependency.pledge.isRejected()) {\n\t\t\tthis.push(id);\n\t\t}\n\t}\n\n\tfunction ClassDependency(uri, context, register) {\n\t\tvar self      = this,\n\t\t\tparameter = uri.match(regexMatchParameter) || placeholder;\n\n\t\tself.path     = functionResolvePath(uri, context);\n\t\tself.mock     = parameter[1] ? TRUE : FALSE;\n\t\tself.cache    = parameter[2] ? parameter[1] === '+' : NULL;\n\t\tself.type     = parameter[3] || settings.handler;\n\t\tself.version  = parameter[4] || settings.version;\n\t\tself.lifetime = (parameter[5] && parameter[5] * 1000) || settings.lifetime;\n\t\tself.id       = (self.mock ? MOCK_PREFIX : '' ) + self.type + '!' + self.path;\n\t\tself.uri      = (self.mock ? MOCK_PREFIX : '' ) + self.type + '@' + self.version + (validatorIsPositive(self.lifetime) && self.lifetime > 0 ? '#' + self.lifetime : '' ) + '!' + self.path;\n\t\tself.dfd      = ClassPledge.defer();\n\t\tself.pledge   = self.dfd.pledge;\n\t\tself.invalid  = false;\n\n\t\tself.pledge.then(function() {\n\t\t\tself.value = functionToArray(arguments);\n\t\t});\n\n\t\t(register !== FALSE) && registry.set(self.id, self);\n\n\t\treturn self;\n\t}\n\n\tClassDependency.prototype = {\n\t\tenqueue: true // handled by handler\n\t\t/* only for reference\n\t \tpath:     NULL,\n\t \tmock:     NULL,\n\t\tcache:    NULL,\n\t\ttype:     NULL,\n\t\tversion:  NULL,\n\t\tlifetime: NULL,\n\t \tid:       NULL,\n\t \turi:      NULL,\n\t\tdfd:      NULL,\n\t\tpledge:   NULL,\n\t\tvalue:    NULL,\n\t\thandler:  NULL, // set by Dependency.resolve\n\t \tsource:   NULL, // set by Cache or Loader\n\t \turl:      NULL // optional, set by Loader\n\t\t*/\n\t};\n\n\tClassDependency.get = function(uri, context) {\n\t\treturn registry.get(functionResolveId(uri, context));\n\t};\n\n\tClassDependency.resolve = function(uri, context) {\n\t\tvar isInternal = context && regexMatchInternal.test(uri),\n\t\t\tdependency = isInternal ? this.get(PREFIX_INTERNAL + context + '/' + uri) : this.get(uri, context),\n\t\t\tvalue;\n\n\t\tif(!dependency) {\n\t\t\tif(isInternal) {\n\t\t\t\tdependency = new ClassDependency(PREFIX_INTERNAL + context + '/' + uri);\n\n\t\t\t\tswitch(uri) {\n\t\t\t\t\tcase DEMAND_ID:\n\t\t\t\t\t\tvalue = (function() {\n\t\t\t\t\t\t\treturn functionIterate(demand, setProperty, demand.bind(context));\n\t\t\t\t\t\t}());\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase PROVIDE_ID:\n\t\t\t\t\t\tvalue = provide.bind(context);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase PATH_ID:\n\t\t\t\t\t\tvalue = context;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tdependency.dfd.resolve(value);\n\t\t\t} else {\n\t\t\t\tdependency = new ClassDependency(uri, context);\n\n\t\t\t\tdemand(MODULE_PREFIX_HANDLER + dependency.type)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tfunction(handler) {\n\t\t\t\t\t\t\tdependency.handler = handler;\n\n\t\t\t\t\t\t\tif(dependency.mock) {\n\t\t\t\t\t\t\t\tdependency.dfd.resolve(handler);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsingletonCache.resolve(dependency);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + ' (handler)', self.id));\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\treturn dependency;\n\t};\n\n\tClassDependency.remove = function(uri, context, cache) {\n\t\tvar id   = functionResolveId(uri, context),\n\t\t\tnode = document.querySelector('[' + DEMAND_ID + '-id=\"' + id + '\"]');\n\n\t\tregistry.remove(id);\n\t\tregistry.remove(MOCK_PREFIX + id);\n\n\t\tnode && node.parentNode.removeChild(node);\n\n\t\t(cache !== FALSE) && singletonCache.clear.path(id);\n\t};\n\n\tClassDependency.list = {\n\t\tall: function() {\n\t\t\treturn object.keys(registry.get());\n\t\t},\n\t\tpending:  function() {\n\t\t\treturn functionIterate(registry.get(), addPending, []);\n\t\t},\n\t\tresolved: function() {\n\t\t\treturn functionIterate(registry.get(), addResolved, []);\n\t\t},\n\t\trejected: function() {\n\t\t\treturn functionIterate(registry.get(), addRejected, []);\n\t\t}\n\t};\n\n\treturn ClassDependency;\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tfunctionResolveUrl, functionEscapeRegex, functionIterate\n*/\n\n//=require function/resolveUrl.js\n//=require function/escapeRegex.js\n//=require function/iterate.js\n\nvar ClassPattern = (function() {\n\tvar regexMatchTrailingSlash = /(.+)\\/$/;\n\n\tfunction setProperty(property, value) {\n\t\tthis[property] = {\n\t\t\turl:   functionResolveUrl(value).replace(regexMatchTrailingSlash, '$1'),\n\t\t\tmatch: new RegExp('^' + functionEscapeRegex(value))\n\t\t};\n\t}\n\n\tfunction ClassPattern(pattern, url) {\n\t\tvar self = this;\n\n\t\tself.weight   = pattern.length;\n\t\tself.match    = new RegExp('^' + functionEscapeRegex(pattern));\n\t\tself.location = [].concat(url);\n\n\t\tfunctionIterate(self.location, setProperty, self.location);\n\t}\n\n\tClassPattern.prototype = {\n\t\t/* only for reference\n\t\t weight:   0,\n\t\t match:    NULL,\n\t\t location: NULL,\n\t\t */\n\t\tmatches: function(path) {\n\t\t\treturn this.match.test(path);\n\t\t},\n\t\tprocess: function(path, index) {\n\t\t\tvar current = this.location[index];\n\n\t\t\tif(current) {\n\t\t\t\treturn path.replace(this.match, current.url);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn ClassPattern;\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tTRUE,\n\tregexMatchBaseUrl,\n\tClassPledge\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require variables.js\n//=require class/pledge.js\n\nvar ClassXhr = (function(XMLHttpRequest) {\n\tvar XDomainRequest = 'XDomainRequest' in global && global.XDomainRequest || XMLHttpRequest;\n\n\tfunction checkState() {\n\t\tif(this.readyState < 4) {\n\t\t\tthis.abort();\n\t\t}\n\t}\n\n\treturn function ClassXhr(url) {\n\t\tvar dfd             = ClassPledge.defer(),\n\t\t\txhr             = regexMatchBaseUrl.test(url) ? new XMLHttpRequest() : new XDomainRequest(),\n\t\t\tboundCheckState = checkState.bind(xhr),\n\t\t\ttimeout         = settings.timeout,\n\t\t\tpointer;\n\n\t\txhr.ontimeout = xhr.onerror = xhr.onabort = function() {\n\t\t\tdfd.reject(xhr.status);\n\t\t};\n\t\txhr.onprogress = xhr.onreadystatechange = function() {\n\t\t\tclearTimeout(pointer);\n\n\t\t\tpointer = setTimeout(boundCheckState, timeout);\n\t\t};\n\t\txhr.onload = function() {\n\t\t\tpointer = clearTimeout(pointer);\n\n\t\t\tif(!('status' in xhr) || xhr.status === 200) {\n\t\t\t\tdfd.resolve(xhr.responseText, xhr.getResponseHeader && xhr.getResponseHeader('content-type'));\n\t\t\t} else {\n\t\t\t\tdfd.reject(xhr.status);\n\t\t\t}\n\t\t};\n\n\t\txhr.open('GET', url, TRUE);\n\t\txhr.send();\n\n\t\tpointer = setTimeout(boundCheckState, timeout);\n\n\t\treturn dfd.pledge;\n\t};\n}(XMLHttpRequest));\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tobjectPrototypeToString\n*/\n\n//=require shortcuts.js\n\n/**\n * isArray\n *\n * Check whether a given value is of type array\n *\n * @param value\n *\n * @return {boolean}\n */\n\nfunction validatorIsArray(value) {\n\treturn objectPrototypeToString.call(value) === '[object Array]';\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout\n*/\n\n/**\n * hash\n *\n * Generate a hash for a given string\n *\n * @param {string} input\n *\n * @return {number}\n */\nfunction functionHash(input){\n\tvar value = 5381,\n\t\ti     = input.length;\n\n\twhile(i) {\n\t\tvalue = (value * 33) ^ input.charCodeAt(--i);\n\t}\n\n\treturn value >>> 0;\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tSTRING_UNDEFINED,\n\tvalidatorIsTypeOf,\n\tfunctionUuid,\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require validator/isTypeOf.js\n//=require function/uuid.js\n\nfunction AbstractUuid() {\n\tif(validatorIsTypeOf(this.uuid, STRING_UNDEFINED)) {\n\t\tthis.define('uuid', functionUuid());\n\t}\n\n\treturn this;\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tSTRING_BOOLEAN, STRING_STRING, EVENT_PRE_RESOLVE, EVENT_POST_RESOLVE, EVENT_PRE_CONFIGURE, EVENT_POST_CONFIGURE, EVENT_CACHE_MISS, EVENT_CACHE_HIT, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, EVENT_PRE_PROCESS, EVENT_POST_PROCESS, NULL, FALSE,\n\tvalidatorIsTypeOf, validatorIsObject, validatorIsPositive, validatorIsInstanceOf,\n\tfunctionIterate, functionMerge, functionDefer, functionToArray,\n\tClassPledge, ClassDependency, ClassPattern, ClassLoader,\n\tsingletonEvent, singletonCache\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n//=require validator/isObject.js\n//=require validator/isPositive.js\n//=require validator/isInstanceOf.js\n//=require function/iterate.js\n//=require function/merge.js\n//=require function/defer.js\n//=require function/toArray.js\n//=require singleton/event.js\n//=require singleton/cache.js\n//=require class/pledge.js\n//=require class/dependency.js\n//=require class/pattern.js\n//=require class/loader.js\n\n/*eslint no-global-assign: [2, { \"exceptions\": [\"demand\"] }]*/\ndemand = global.demand = (function() {\n\tfunction updateCacheSettings(property, value) {\n\t\tthis[property] = { weight: property.length, state: value };\n\t}\n\n\tfunction updatePatternSettings(property, value) {\n\t\tproperty !== 'base' && (this[property] = new ClassPattern(property, value));\n\t}\n\n\tfunction updateModuleSettings(property, value) {\n\t\tvar temp = this[property] = this[property] || {};\n\n\t\tsingletonEvent.emit(EVENT_PRE_CONFIGURE, property, temp);\n\n\t\tfunctionMerge(temp, value);\n\n\t\tsingletonEvent.emit(EVENT_POST_CONFIGURE, property, temp);\n\t}\n\n\tfunction demand() {\n\t\tvar dependencies = functionToArray(arguments),\n\t\t\tcontext      = this !== global ? this : NULL,\n\t\t\ti = 0, uri, dfd, result;\n\n\t\tsingletonEvent.emit(EVENT_PRE_RESOLVE, NULL, dependencies, context);\n\n\t\tfor(; (uri = dependencies[i]); i++) {\n\t\t\tif(validatorIsTypeOf(uri, STRING_STRING)) {\n\t\t\t\tdependencies[i] = ClassDependency.resolve(uri, context).pledge;\n\t\t\t} else {\n\t\t\t\tdependencies[i] = (dfd = ClassPledge.defer()).pledge;\n\n\t\t\t\tdfd.resolve(uri);\n\t\t\t}\n\t\t}\n\n\t\tif(dependencies.length > 1) {\n\t\t\tresult = ClassPledge.all(dependencies);\n\t\t} else {\n\t\t\tresult = dependencies[0];\n\t\t}\n\n\t\treturn result.always(function() {\n\t\t\tsingletonEvent.emit(EVENT_POST_RESOLVE, NULL, dependencies, context);\n\t\t});\n\t}\n\n\tdemand.configure = function(options) {\n\t\tvar cache    = options.cache,\n\t\t\tversion  = options.version,\n\t\t\ttimeout  = options.timeout,\n\t\t\tlifetime = options.lifetime,\n\t\t\tbase     = options.base,\n\t\t\tpattern  = options.pattern,\n\t\t\tmodules  = options.modules,\n\t\t\tpointer  = settings.modules;\n\n\t\tif(validatorIsTypeOf(cache, STRING_BOOLEAN)) {\n\t\t\tsettings.cache[''] = { weight: 0, state: cache };\n\t\t} else if(validatorIsObject(cache)) {\n\t\t\tfunctionIterate(cache, updateCacheSettings, settings.cache);\n\t\t}\n\n\t\tif(validatorIsTypeOf(version, STRING_STRING)) {\n\t\t\tsettings.version = version;\n\t\t}\n\n\t\tif(validatorIsPositive(timeout)) {\n\t\t\tsettings.timeout = Math.min(Math.max(timeout, 2), 12) * 1000;\n\t\t}\n\n\t\tif(validatorIsPositive(lifetime) && lifetime > 0) {\n\t\t\tsettings.lifetime = lifetime * 1000;\n\t\t}\n\n\t\tif(validatorIsTypeOf(base, STRING_STRING) && base !== '') {\n\t\t\tsettings.pattern.base = new ClassPattern('', base);\n\t\t}\n\n\t\tif(validatorIsObject(pattern)) {\n\t\t\tfunctionIterate(pattern, updatePatternSettings, settings.pattern);\n\t\t}\n\n\t\tif(validatorIsObject(modules)) {\n\t\t\tfunctionIterate(modules, updateModuleSettings, pointer);\n\t\t}\n\n\t\treturn demand;\n\t};\n\n\tdemand.version = '{{gulp:package.version}}';\n\tdemand.on      = singletonEvent.on.bind(demand);\n\tdemand.get     = function(uri, context) { var dependency = ClassDependency.get(uri, context); return dependency && dependency.value; };\n\tdemand.remove  = ClassDependency.remove;\n\tdemand.list    = ClassDependency.list;\n\tdemand.clear   = singletonCache.clear;\n\n\tsingletonEvent\n\t\t.after(EVENT_CACHE_MISS, function(dependency) {\n\t\t\tnew ClassLoader(dependency);\n\t\t})\n\t\t.after(EVENT_POST_REQUEST, function(dependency) {\n\t\t\tvar pointer = dependency.handler.onPostRequest;\n\n\t\t\tpointer && pointer(dependency);\n\t\t})\n\t\t.after(EVENT_CACHE_HIT + ' ' + EVENT_POST_REQUEST, function(dependency) {\n\t\t\tsingletonEvent.emit(EVENT_PRE_PROCESS, dependency.id, dependency);\n\t\t})\n\t\t.after(EVENT_PRE_REQUEST, function(dependency) {\n\t\t\tvar pointer = dependency.handler.onPreRequest;\n\n\t\t\tpointer && pointer(dependency);\n\t\t})\n\t\t.after(EVENT_PRE_PROCESS, function(dependency) {\n\t\t\tvar pointer = dependency.handler.onPreProcess;\n\n\t\t\tpointer && pointer(dependency);\n\n\t\t\tdependency.pledge.then(function() {\n\t\t\t\tsingletonEvent.emit(EVENT_POST_PROCESS, dependency.id, dependency);\n\t\t\t});\n\n\t\t\tif(dependency.enqueue === true) {\n\t\t\t\tqueue.enqueue(dependency);\n\t\t\t} else if(validatorIsInstanceOf(dependency.enqueue, ClassPledge)) {\n\t\t\t\tdependency.enqueue.then(function() { queue.enqueue(dependency); });\n\t\t\t}\n\t\t});\n\n\treturn demand;\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tDEMAND_ID, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, ERROR_LOAD,\n\tregexIsAbsoluteUri,\n\tlinkElement,\n\tfunctionIterate, functionResolveUrl, functionGetTimestamp,\n\tClassXhr, ClassFailure,\n\tsingletonEvent\n*/\n\n//=require constants.js\n//=require variables.js\n//=require shortcuts.js\n//=require function/resolveUrl.js\n//=require function/iterate.js\n//=require singleton/event.js\n//=require class/xhr.js\n//=require class/failure.js\n\nfunction ClassLoader(dependency) {\n\tvar regexMatchEmptySearch   = /^(?:\\?|)$/,\n\t\tpattern;\n\n\tfunction resolve(response, type) {\n\t\tif(!type || !dependency.handler.validate || dependency.handler.validate(type)) {\n\t\t\tdependency.source = response;\n\n\t\t\tsingletonEvent.emit(EVENT_POST_REQUEST, dependency.type, dependency);\n\t\t} else {\n\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + ' (content-type)', dependency.id));\n\t\t}\n\t}\n\n\tfunction reject(status) {\n\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + (status ? ' (status)' : ''), dependency.id));\n\t}\n\n\tfunction load(location) {\n\t\tlocation       = location || 0;\n\t\tdependency.url = document.createElement('a');\n\n\t\tdependency.url.href    = pattern ? functionResolveUrl(pattern.process(dependency.path, location)) : dependency.path;\n\n\t\tif(dependency.invalid) {\n\t\t\tdependency.url.search += ((regexMatchEmptySearch.test(dependency.url.search)) ? '' : '&') + functionGetTimestamp();\n\t\t}\n\n\t\tsingletonEvent.emit(EVENT_PRE_REQUEST, dependency.type, dependency);\n\n\t\tnew ClassXhr(dependency.url).then(\n\t\t\tresolve,\n\t\t\t(\n\t\t\t\tpattern ?\n\t\t\t\tfunction() {\n\t\t\t\t\tlocation++;\n\n\t\t\t\t\tif(pattern.location[location]) {\n\t\t\t\t\t\tload(location);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t:\n\t\t\t\treject\n\t\t\t)\n\t\t);\n\t}\n\n\tif(!regexIsAbsoluteUri.test(dependency.path)) {\n\t\tfunctionIterate(settings.pattern, function(property, value) {\n\t\t\tvalue.matches(dependency.path) && (!pattern || pattern.weight < value.weight) && (pattern = value);\n\t\t});\n\t}\n\n\tload();\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tSTRING_STRING, STRING_UNDEFINED, STRING_FUNCTION, ERROR_PROVIDE, ERROR_PROVIDE_ANONYMOUS, NULL,\n\tvalidatorIsTypeOf, validatorIsArray,\n\tClassDependency, ClassFailure\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n//=require validator/isArray.js\n//=require class/dependency.js\n//=require class/failure.js\n\n/*eslint no-global-assign: [2, { \"exceptions\": [\"provide\"] }]*/\nprovide = global.provide = function provide() {\n\tvar uri          = validatorIsTypeOf(arguments[0], STRING_STRING) ? arguments[0] : NULL,\n\t\tcontext      = this !== global ? this : NULL,\n\t\tdependencies = validatorIsArray(arguments[uri ? 1 : 0]) ? arguments[uri ? 1 : 0] : NULL,\n\t\tdefinition   = dependencies ? arguments[uri ? 2 : 1] : arguments[uri ? 1 : 0],\n\t\tmodule, isFunction;\n\n\tif(!uri && processor.current) {\n\t\tmodule = processor.current;\n\t\turi    = module.uri;\n\n\t\tprocessor.process();\n\t}\n\n\tif(uri) {\n\t\tmodule     = module || new ClassDependency(uri, context);\n\t\tisFunction = validatorIsTypeOf(definition, STRING_FUNCTION);\n\n\t\tif(dependencies) {\n\t\t\tdemand\n\t\t\t\t.apply(module.path, dependencies)\n\t\t\t\t.then(\n\t\t\t\t\tfunction() { module.dfd.resolve(isFunction ? definition.apply(NULL, arguments) : definition); },\n\t\t\t\t\tfunction() { module.dfd.reject(new ClassFailure(ERROR_PROVIDE, module.id, arguments)); }\n\t\t\t\t);\n\t\t} else {\n\t\t\tmodule.dfd.resolve(isFunction ? definition() : definition);\n\t\t}\n\n\t\treturn module.dfd.pledge;\n\t} else {\n\t\t!validatorIsTypeOf(console, STRING_UNDEFINED) && console.error(new ClassFailure(ERROR_PROVIDE_ANONYMOUS)); // eslint-disable-line no-console\n\t}\n};\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tEVENT_QUEUE_ENQUEUE, EVENT_QUEUE_DEQUEUE,\n\tfunctionToArray,\n\tsingletonEvent,\n\tClassWeakmap,\n\tAbstractUuid\n*/\n\n//=require constants.js\n//=require function/toArray.js\n//=require singleton/event.js\n//=require class/weakmap.js\n//=require abstract/uuid.js\n\nvar ClassQueue = (function() {\n\tvar storage = new ClassWeakmap();\n\n\tfunction ClassQueue() {\n\t\tvar self = AbstractUuid.call(this);\n\n\t\tstorage.set(self, []);\n\n\t\treturn self;\n\t}\n\n\tClassQueue.prototype = {\n\t\tenqueue: function() {\n\t\t\tstorage.set(this, storage.get(this).concat(functionToArray(arguments)));\n\n\t\t\tsingletonEvent.emit(EVENT_QUEUE_ENQUEUE, this.uuid);\n\t\t},\n\t\tdequeue: function() {\n\t\t\tsingletonEvent.emit(EVENT_QUEUE_DEQUEUE, this.uuid);\n\n\t\t\treturn storage.get(this).shift();\n\t\t},\n\t\tget current() {\n\t\t\treturn storage.get(this)[0];\n\t\t},\n\t\tget length() {\n\t\t\treturn storage.get(this).length;\n\t\t}\n\t};\n\n\treturn ClassQueue.extends(AbstractUuid);\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tEVENT_QUEUE_ENQUEUE, NULL,\n\tsingletonEvent,\n\tClassWeakmap\n*/\n\n//=require constants.js\n//=require class/weakmap.js\n\nvar ClassProcessor = (function() {\n\tvar storage = new ClassWeakmap();\n\n\tfunction ClassProcessor(queue) {\n\t\tvar self       = this,\n\t\t\tproperties = { queue: queue, current: NULL };\n\n\t\tstorage.set(self, properties);\n\n\t\tdemand\n\t\t\t.on(EVENT_QUEUE_ENQUEUE + ':' + queue.uuid, function() {\n\t\t\t\t!properties.current && self.process();\n\t\t\t});\n\t}\n\n\tClassProcessor.prototype = {\n\t\tprocess: function() {\n\t\t\tvar properties = storage.get(this),\n\t\t\t\tcurrent;\n\n\t\t\tif(properties.queue.length) {\n\t\t\t\tcurrent = properties.current = properties.queue.dequeue();\n\n\t\t\t\tif(!current.pledge.isRejected()) {\n\t\t\t\t\tcurrent.handler.process && current.handler.process(current);\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tproperties.current = NULL;\n\t\t},\n\t\tget current() {\n\t\t\treturn storage.get(this).current;\n\t\t}\n\t};\n\n\treturn ClassProcessor;\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tregexMatchSourcemap, regexIsAbsoluteUri\n\tlinkElement\n*/\n\n//=require variables.js\n//=require shortcuts.js\n\nfunction functionResolveSourcemaps(url, source) {\n\tvar match, replacement;\n\n\twhile(match = regexMatchSourcemap.exec(source)) {\n\t\tlinkElement.href = url;\n\n\t\tif(regexIsAbsoluteUri.test(match[2])) {\n\t\t\treplacement = linkElement.protocol + '//' + linkElement.host + match[3];\n\t\t} else {\n\t\t\tlinkElement.pathname += '/../' + match[3];\n\n\t\t\treplacement = linkElement.protocol + '//' + linkElement.host + linkElement.pathname;\n\t\t}\n\n\t\tsource = source.replace(match[0], match[1] + ' ' + match[2] + '=' + replacement + '.map' + (match[4] ? ' ' + match[4] : ''));\n\t}\n\n\treturn source;\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tNULL\n*/\n\n//=require constants.js\n\nfunction abstractHandler() {\n\n}\n\nabstractHandler.prototype = {\n\tvalidate: NULL,\n\tonPreRequest: NULL,\n\tonPostRequest: NULL,\n\tonPreProcess: NULL,\n\tprocess: NULL\n};\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tDEMAND_ID, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, TRUE,\n\tfunctionResolveSourcemaps,\n\tabstractHandler\n*/\n\n//=require constants.js\n//=require function/resolveSourcemaps.js\n//=require abstract/handler.js\n\nvar handlerModule = (function() {\n\tvar suffix         = '.js',\n\t\ttarget         = document.getElementsByTagName('head')[0],\n\t\tregexMatchType = /^(application|text)\\/(x-)?javascript/;\n\n\tfunction HandlerModule() {}\n\n\tHandlerModule.prototype = {\n\t\tvalidate: function(type) {\n\t\t\treturn regexMatchType.test(type);\n\t\t},\n\t\tonPreRequest: function(dependency) {\n\t\t\tvar pathname = dependency.url.pathname;\n\n\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname;\n\t\t},\n\t\tonPostRequest: function(dependency) {\n\t\t\tdependency.source = functionResolveSourcemaps(dependency.url, dependency.source);\n\t\t},\n\t\tprocess: function(dependency) {\n\t\t\tvar script;\n\n\t\t\tif(dependency.source) {\n\t\t\t\tscript       = document.createElement('script');\n\t\t\t\tscript.async = TRUE;\n\t\t\t\tscript.text  = dependency.source;\n\n\t\t\t\tscript.setAttribute(DEMAND_ID + '-id', dependency.id);\n\n\t\t\t\ttarget.appendChild(script);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn new (HandlerModule.extends(abstractHandler));\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tDEMAND_ID,\n\tfunctionToArray\n*/\n\n//=require constants.js\n//=require function/toArray.js\n\nfunction ClassFailure(message, module, stack) {\n\tvar self = this;\n\n\tself.message = message;\n\n\tmodule && (self.module = module);\n\tstack && (self.stack = functionToArray(stack));\n\n\treturn self;\n}\n\nClassFailure.prototype = {\n\t/* only for reference\n\t message: NULL,\n\t module:  NULL,\n\t stack:   NULL,\n\t */\n\ttoString: function() {\n\t\tvar self   = this,\n\t\t\tresult = DEMAND_ID + ': ' + self.message + ' ' + (self.module ? '\"' + self.module + '\"' : '');\n\n\t\tif(self.stack) {\n\t\t\tresult = ClassFailure.traverse(self.stack, result, 1);\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nClassFailure.traverse = function(stack, value, depth) {\n\tvar indention = new Array(depth + 1).join(' '),\n\t\ti = 0, item;\n\n\tfor(; item = stack[i]; i++) {\n\t\tvalue += '\\n' + indention + '> ' + item.message + ' ' + (item.module ? '\"' + item.module + '\"' : '');\n\n\t\tif(item.stack) {\n\t\t\tvalue = ClassFailure.traverse(item.stack, value, depth + 1);\n\t\t}\n\t}\n\n\treturn value;\n};\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tMODULE_PREFIX_HANDLER, EVENT_POST_CONFIGURE, ERROR_RESOLVE, MOCK_PREFIX, STRING_STRING, FALSE, TRUE,\n\tregexMatchParameter, regexMatchSourcemap,\n\tvalidatorIsTypeOf, validatorIsObject,\n\tfunctionIterate, functionResolveId,\n\tabstractHandler,\n\tClassDependency, ClassPledge, ClassFailure,\n\thandlerModule\n*/\n\n//=require constants.js\n//=require variables.js\n//=require validator/isTypeOf.js\n//=require validator/isObject.js\n//=require function/iterate.js\n//=require function/resolveId.js\n//=require abstract/handler.js\n//=require class/dependency.js\n//=require class/pledge.js\n//=require class/Failure.js\n//=require handler/module.js\n\nvar handlerBundle = (function() {\n\tvar path     = MODULE_PREFIX_HANDLER + 'bundle',\n\t\tsettings = {};\n\n\tdemand\n\t\t.on(EVENT_POST_CONFIGURE + ':' + path, function(options) {\n\t\t\tif(validatorIsObject(options)) {\n\t\t\t\tsettings = options;\n\n\t\t\t\tfunctionIterate(settings, updateDependencies);\n\t\t\t}\n\t\t});\n\n\tfunction updateDependencies(uri, dependencies) {\n\t\tvar i, dependency;\n\n\t\tfor(i = 0; (dependency = dependencies[i]); i++) {\n\t\t\tif(validatorIsTypeOf(dependency, STRING_STRING)) {\n\t\t\t\tdependencies[i] = functionResolveId(dependency);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getType(dependencies) {\n\t\tvar type, i = 0, temp;\n\n\t\tfor(; (temp = dependencies[i]); i++) {\n\t\t\ttemp = temp.match(regexMatchParameter);\n\t\t\ttemp = (temp && temp[3]) || settings.handler;\n\n\t\t\tif(type) {\n\t\t\t\tif(temp !== type) {\n\t\t\t\t\treturn FALSE;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttype = temp;\n\t\t\t}\n\t\t}\n\n\t\treturn type;\n\t}\n\n\tfunction HandlerBundle() {}\n\n\tHandlerBundle.prototype = {\n\t\tvalidate: handlerModule.validate,\n\t\tonPreProcess: function(dependency) {\n\t\t\tvar source       = dependency.source,\n\t\t\t\tdfd          = dependency.dfd,\n\t\t\t\tdependencies = settings[dependency.path],\n\t\t\t\ttype, match, pledges, temp, i;\n\n\t\t\tdependency.enqueue = FALSE;\n\n\t\t\tfunction reject() {\n\t\t\t\tdfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id, arguments));\n\t\t\t}\n\n\t\t\tif(dependencies && (type = getType(dependencies))) {\n\t\t\t\twhile(match = regexMatchSourcemap.exec(source)) {\n\t\t\t\t\tsource = source.replace(match[0], '');\n\t\t\t\t}\n\n\t\t\t\tdependency.source = source;\n\t\t\t\tpledges           = [];\n\n\t\t\t\tfor(i = 0; (temp = dependencies[i]); i++) {\n\t\t\t\t\tpledges.push(ClassDependency.resolve(MOCK_PREFIX + temp).pledge);\n\t\t\t\t}\n\n\t\t\t\tClassPledge.all(pledges).then(\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tpledges.length = 0;\n\n\t\t\t\t\t\tfor(i = 0; (temp = dependencies[i]); i++) {\n\t\t\t\t\t\t\ttemp         = dependencies[i] = ClassDependency.get(temp) || new ClassDependency(temp);\n\t\t\t\t\t\t\ttemp.handler = arguments[i];\n\n\t\t\t\t\t\t\tpledges.push(temp.pledge);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(type === 'module') {\n\t\t\t\t\t\t\tqueue.enqueue.apply(queue, dependencies);\n\t\t\t\t\t\t\thandlerModule.process(dependency);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thandlerModule.process(dependency);\n\t\t\t\t\t\t\tqueue.enqueue.apply(queue, dependencies);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tClassPledge.all(pledges).then(dfd.resolve, reject);\n\t\t\t\t\t},\n\t\t\t\t\treject\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treject();\n\t\t\t}\n\t\t}\n\t};\n\n\treturn new (HandlerBundle.extends(abstractHandler));\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tFALSE, EVENT_POST_REQUEST, ERROR_RESOLVE,\n\tfunctionResolveSourcemaps,\n\tabstractHandler,\n\tClassDependency, ClassPledge, ClassFailure\n*/\n\n//=require constants.js\n//=require function/resolveSourcemaps.js\n//=require abstract/handler.js\n//=require class/dependency.js\n//=require class/pledge.js\n//=require class/Failure.js\n\nvar handlerComponent = (function() {\n\tvar suffix         = '.html',\n\t\tregexMatchType = /^text\\/.+$/;\n\n\tfunction HandlerComponent() {}\n\n\tHandlerComponent.prototype = {\n\t\tvalidate: function(type) {\n\t\t\treturn regexMatchType.test(type);\n\t\t},\n\t\tonPreRequest: function(dependency) {\n\t\t\tvar pathname = dependency.url.pathname;\n\t\t\t\n\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname;\n\t\t},\n\t\tonPostRequest: function(dependency) {\n\t\t\tdependency.source = functionResolveSourcemaps(dependency.url, dependency.source);\n\t\t},\n\t\tonPreProcess: function(dependency) {\n\t\t\tvar context   = dependency.path,\n\t\t\t\tdfd       = dependency.dfd,\n\t\t\t\tcontainer = document.createElement('body'),\n\t\t\t\tmodules   = [],\n\t\t\t\tpledges   = [],\n\t\t\t\tnode, handler, path, uri;\n\n\t\t\tdependency.enqueue  = FALSE;\n\t\t\tcontainer.innerHTML = dependency.source;\n\n\t\t\tfunction reject() {\n\t\t\t\tdfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id, arguments));\n\t\t\t}\n\n\t\t\twhile(node = container.firstElementChild) {\n\t\t\t\tif(handler = node.getAttribute('type')) {\n\t\t\t\t\tpath = node.getAttribute('path');\n\t\t\t\t\turi  = handler + '!' + context + (path ? '/' + path : '');\n\n\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t\tmodules.push({ source: node.textContent, uri:  uri });\n\t\t\t\t\tpledges.push(ClassDependency.resolve('mock:' + uri).pledge);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tClassPledge.all(pledges).then(\n\t\t\t\tfunction() {\n\t\t\t\t\tvar i = 0, module, dependency;\n\n\t\t\t\t\tpledges.length = 0;\n\n\t\t\t\t\tfor(; (module = modules[i]); i++) {\n\t\t\t\t\t\tdependency         = ClassDependency.get(module.uri) || new ClassDependency(module.uri);\n\t\t\t\t\t\tdependency.source  = functionResolveSourcemaps(dependency.url, module.source);\n\t\t\t\t\t\tdependency.handler = arguments[i];\n\n\t\t\t\t\t\tpledges.push(dependency.pledge);\n\n\t\t\t\t\t\tqueue.enqueue(dependency);\n\t\t\t\t\t}\n\n\t\t\t\t\tClassPledge.all(pledges).then(dfd.resolve, reject);\n\t\t\t\t},\n\t\t\t\treject\n\t\t\t);\n\t\t}\n\t};\n\n\treturn new (HandlerComponent.extends(abstractHandler));\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout,\n\tMODULE_PREFIX_PLUGIN, MODULE_PREFIX_HANDLER, EVENT_POST_CONFIGURE, EVENT_PRE_RESOLVE, STRING_STRING, ERROR_RESOLVE, FALSE, TRUE,\n\tregexMatchInternal,\n\tvalidatorIsObject, validatorIsTypeOf,\n\tfunctionIterate, functionHash,\n\tClassDependency, ClassFailure,\n\tsingletonCache\n*/\n\n//=require constants.js\n//=require variables.js\n//=require validator/isTypeOf.js\n//=require validator/isObject.js\n//=require function/iterate.js\n//=require function/hash.js\n//=require class/dependency.js\n//=require class/failure.js\n//=require singleton/cache.js\n\nvar pluginGenie = (function() {\n\tvar path    = MODULE_PREFIX_PLUGIN + 'genie',\n\t\tpattern = [];\n\n\tfunction matchPattern(path) {\n\t\tvar i = 0, pointer, match;\n\n\t\tfor(; (pointer = pattern[i]); i++) {\n\t\t\tif(path.indexOf(pointer.prefix) === 0 && (!match || pointer.weight > match.weight)) {\n\t\t\t\tmatch = pointer;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfunction generateConfiguration(bundle) {\n\t\tvar matches       = bundle.matches,\n\t\t\tconfiguration = { pattern: {}, modules: { '/demand/handler/bundle': {} } },\n\t\t\ti = 0, pointer, dependency;\n\n\t\tconfiguration.pattern[bundle.id] = bundle.fn(matches);\n\t\tconfiguration.modules[MODULE_PREFIX_HANDLER + 'bundle'][bundle.id] = pointer = [];\n\n\t\tfor(; (dependency = matches[i]); i++) {\n\t\t\tpointer.push(dependency.path);\n\t\t}\n\n\t\treturn configuration;\n\t}\n\n\tfunction resolveDependencies() {\n\t\tvar i = 0, dependency;\n\n\t\tfor(; (dependency = this[i]); i++) {\n\t\t\tdependency.dfd.resolve(arguments[i]);\n\t\t}\n\t}\n\n\tfunction rejectDependencies() {\n\t\tvar i = 0, dependency;\n\n\t\tfor(; (dependency = this[i]); i++) {\n\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id));\n\t\t}\n\t}\n\n\tfunction addPattern(property, value) {\n\t\tpattern.push({ prefix: property, weight: property.length, fn: value });\n\t}\n\n\tfunction resolveBundles(property, value) {\n\t\tvar matches = value.matches,\n\t\t\ti = 0, dependency;\n\n\t\tif(matches.length > 1) {\n\t\t\tvalue.id = path + '/' + functionHash(JSON.stringify(value.matches));\n\n\t\t\tfor(; (dependency = matches[i]); i++) {\n\t\t\t\tmatches[i] = new ClassDependency(dependency.uri);\n\t\t\t}\n\n\t\t\tdemand.configure(generateConfiguration(value));\n\t\t\tdemand('bundle!' + value.id)\n\t\t\t\t.then(\n\t\t\t\t\tresolveDependencies.bind(matches),\n\t\t\t\t\trejectDependencies.bind(matches)\n\t\t\t\t);\n\t\t}\n\t}\n\n\tdemand\n\t\t.on(EVENT_POST_CONFIGURE + ':' + path, function(options) {\n\t\t\tif(validatorIsObject(options)) {\n\t\t\t\tpattern.length = 0;\n\n\t\t\t\tfunctionIterate(options, addPattern);\n\t\t\t}\n\t\t})\n\t\t.on(EVENT_PRE_RESOLVE, function(dependencies, context) {\n\t\t\tvar bundles = {},\n\t\t\t\ti = 0, dependency, pattern;\n\n\t\t\tfor(; (dependency = dependencies[i]); i++) {\n\t\t\t\tif(validatorIsTypeOf(dependency, STRING_STRING) && !regexMatchInternal.test(dependency) && !ClassDependency.get(dependency, context)) {\n\t\t\t\t\tdependency = new ClassDependency(dependency, context, FALSE);\n\n\t\t\t\t\tif(dependency.type === 'module' && (pattern = matchPattern(dependency.path)) && !singletonCache.get(dependency)) {\n\t\t\t\t\t\t(bundles[pattern.prefix] || (bundles[pattern.prefix] = { fn: pattern.fn, matches: [] })).matches.push(dependency);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunctionIterate(bundles, resolveBundles);\n\t\t});\n\n\treturn TRUE;\n}());\n"]}