{"version":3,"sources":["demand.js"],"names":["global","setTimeout","clearTimeout","ClassDescriptor","value","writable","configurable","enumerable","__proto__","NULL","validatorIsTypeOf","object","type","validatorIsObject","STRING_OBJECT","validatorIsPositive","STRING_NUMBER","isFinite","Math","floor","validatorIsInstanceOf","module","functionIterate","source","callback","context","property","properties","keys","i","UNDEFINED","call","FALSE","functionToArray","arrayLikeObject","start","end","arrayPrototypeSlice","functionGetTimestamp","Date","functionResolveUrl","url","linkElement","href","functionResolvePath","uri","path","replace","regexMatchParameter","regexIsAbsolutePath","test","regexIsAbsoluteUri","regexMatchBaseUrl","functionResolveId","parameter","match","settings","handler","ClassFailure","message","stack","this","validatorIsArray","objectPrototypeToString","functionHash","input","length","charCodeAt","AbstractUuid","uuid","STRING_UNDEFINED","define","functionUuid","functionResolveSourcemaps","replacement","regexMatchSourcemap","exec","protocol","host","pathname","abstractHandler","assignModule","id","provide","demand","queue","processor","functionMerge","functionDefer","singletonEvent","functionEscapeRegex","regexMatchInternal","singletonCache","ClassWeakmap","ClassPledge","ClassRegistry","ClassDependency","ClassPattern","ClassXhr","ClassQueue","ClassProcessor","handlerModule","handlerBundle","handlerComponent","pluginGenie","storage","element","fallback","hasSetImmediate","regexMatchRegex","XMLHttpRequest","XDomainRequest","document","options","version","cache","timeout","pattern","modules","DEMAND_ID","PROVIDE_ID","MODULE_PREFIX","MODULE_PREFIX_ABSTRACT","MODULE_PREFIX_HANDLER","MODULE_PREFIX_PLUGIN","MODULE_PREFIX_FUNCTION","MODULE_PREFIX_VALIDATOR","MOCK_PREFIX","TRUE","STRING_STRING","STRING_FUNCTION","EVENT_PREFIX","EVENT_POSTFIX","EVENT_CONFIGURE","EVENT_PRE_CONFIGURE","EVENT_POST_CONFIGURE","EVENT_CACHE","EVENT_CACHE_MISS","EVENT_CACHE_HIT","EVENT_CACHE_EXCEED","EVENT_RESOLVE","EVENT_PRE_RESOLVE","EVENT_POST_RESOLVE","EVENT_REQUEST","EVENT_PRE_REQUEST","EVENT_POST_REQUEST","EVENT_PROCESS","EVENT_PRE_PROCESS","EVENT_POST_PROCESS","EVENT_QUEUE_ENQUEUE","EVENT_QUEUE","ERROR_LOAD","ERROR_RESOLVE","arrayPrototype","Array","prototype","slice","arrayPrototypeConcat","concat","Object","toString","objectCreate","create","objectDefineProperty","defineProperty","objectGetOwnPropertyNames","getOwnPropertyNames","objectGetOwnPropertyDescriptor","getOwnPropertyDescriptor","createElement","strPrototype","objectDefine","name","functionExtends","self","names","constructor","e","TypeError","Function","mergeProperties","targetPropertyIsObject","targetProperty","target","arguments","randomize","character","r","random","regex","RegExp","fn","MutationObserver","observe","attributes","setAttribute","addEventListener","event","data","postMessage","onreadystatechange","parentNode","removeChild","body","appendChild","setImmediate","addListener","events","pointer","split","shift","regexMatchEvent","listener","on","after","push","filter","TYPE_ON","Event","emit","item","apply","enabled","dependency","indexOf","weight","state","getKey","key","localStorage","getItem","setKey","getState","matches","regexMatchProperties","setState","join","Cache","clear","expired","bind","STORAGE_PREFIX","STORAGE_SUFFIX_STATE","STORAGE_SUFFIX_VALUE","regexMatchState","supportsLocalStorage","exception","supportsRemainingSpace","then","cacheDispose","set","get","lifetime","invalid","resolve","spaceBefore","remainingSpace","Error","error","all","WeakMap","getEntry","entry","prefix","delete","has","pledge","index","resolved","count","check","rejected","total","dfd","reject","executor","PLEDGE_PENDING","handle","result","PLEDGE_RESOLVED","PLEDGE_REJECTED","catch","always","alwaysListener","resolveListener","rejectListener","defer","isPending","isResolved","isRejected","pledges","race","remove","traverse","depth","indention","setProperty","addPending","addResolved","addRejected","register","placeholder","mock","registry","PREFIX_INTERNAL","enqueue","isInternal","node","querySelector","list","pending","regexMatchTrailingSlash","location","process","current","xhr","boundCheckState","readyState","abort","ontimeout","onerror","onabort","status","onprogress","onload","responseText","getResponseHeader","open","send","updateCacheSettings","updatePatternSettings","updateModuleSettings","temp","dependencies","configure","base","min","max","response","validate","regexMatchEmptySearch","load","search","onPostRequest","onPreRequest","onPreProcess","isFunction","definition","console","/demand","dequeue","extends","HandlerModule","getElementsByTagName","regexMatchType","script","async","text","updateDependencies","HandlerBundle","getType","HandlerComponent","suffix","container","innerHTML","firstElementChild","getAttribute","textContent","matchPattern","addPattern","resolveBundles","JSON","stringify","bundle","configuration","/demand/handler/bundle","generateConfiguration","bundles","main","parent"],"mappings":"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","file":"demand.js","sourcesContent":["/**! Qoopido.demand 5.0.1 | https://github.com/dlueth/qoopido.demand | (c) 2018 Dirk Lueth */\n(function (global, setTimeout, clearTimeout) {\n\t\"use strict\";\n\n\tfunction ClassDescriptor(value, writable, configurable, enumerable) {\n\t\treturn {\n\t\t\t__proto__: NULL,\n\t\t\tvalue: value,\n\t\t\tenumerable: !!enumerable,\n\t\t\tconfigurable: !!configurable,\n\t\t\twritable: !!writable\n\t\t}\n\t}\n\n\tfunction validatorIsTypeOf(object, type) {\n\t\treturn typeof object === type\n\t}\n\n\tfunction validatorIsObject(object) {\n\t\treturn object && validatorIsTypeOf(object, STRING_OBJECT)\n\t}\n\n\tfunction validatorIsPositive(value) {\n\t\treturn validatorIsTypeOf(value, STRING_NUMBER) && isFinite(value) && Math.floor(value) === value && value >= 0\n\t}\n\n\tfunction validatorIsInstanceOf(object, module) {\n\t\treturn object instanceof module\n\t}\n\n\tfunction functionIterate(source, callback, context) {\n\t\tfor (var property, properties = object.keys(source), i = 0;\n\t\t\t(property = properties[i]) !== UNDEFINED; i++)\n\t\t\tif (callback.call(context, property, source[property]) === FALSE) break;\n\t\treturn context\n\t}\n\n\tfunction functionToArray(arrayLikeObject, start, end) {\n\t\treturn arrayPrototypeSlice.call(arrayLikeObject, start, end)\n\t}\n\n\tfunction functionGetTimestamp() {\n\t\treturn +new Date\n\t}\n\n\tfunction functionResolveUrl(url) {\n\t\tlinkElement.href = url;\n\t\treturn linkElement.href\n\t}\n\n\tfunction functionResolvePath(uri, context) {\n\t\tvar path = uri.replace(regexMatchParameter, \"\");\n\t\tif (!regexIsAbsolutePath.test(path) && !regexIsAbsoluteUri.test(path)) path = \"/\" + functionResolveUrl((context && functionResolveUrl(context + \"/../\") || \"/\") + path)\n\t\t\t.replace(regexMatchBaseUrl, \"\");\n\t\treturn path\n\t}\n\n\tfunction functionResolveId(uri, context) {\n\t\tvar parameter = uri.match(regexMatchParameter);\n\t\treturn (parameter && parameter[1] ? \"mock:\" : \"\") + (parameter && parameter[3] || settings.handler) + \"!\" + functionResolvePath(uri, context)\n\t}\n\n\tfunction ClassFailure(message, module, stack) {\n\t\tvar self = this;\n\t\tself.message = message;\n\t\tmodule && (self.module = module);\n\t\tstack && (self.stack = functionToArray(stack));\n\t\treturn self\n\t}\n\n\tfunction ClassLoader(dependency) {\n\t\tfunction resolve(response, type) {\n\t\t\tif (!type || !dependency.handler.validate || dependency.handler.validate(type)) {\n\t\t\t\tdependency.source = response;\n\t\t\t\tsingletonEvent.emit(EVENT_POST_REQUEST, dependency.type, dependency)\n\t\t\t} else dependency.dfd.reject(new ClassFailure(ERROR_LOAD + \" (content-type)\", dependency.id))\n\t\t}\n\n\t\tfunction reject(status) {\n\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + (status ? \" (status)\" : \"\"), dependency.id))\n\t\t}\n\n\t\tfunction load(location) {\n\t\t\tlocation = location || 0;\n\t\t\tdependency.url = document.createElement(\"a\");\n\t\t\tdependency.url.href = pattern ? functionResolveUrl(pattern.process(dependency.path, location)) : dependency.path;\n\t\t\tif (dependency.invalid) dependency.url.search += (regexMatchEmptySearch.test(dependency.url.search) ? \"\" : \"&\") + functionGetTimestamp();\n\t\t\tsingletonEvent.emit(EVENT_PRE_REQUEST, dependency.type, dependency);\n\t\t\tnew ClassXhr(dependency.url)\n\t\t\t\t.then(resolve, pattern ? function () {\n\t\t\t\t\tlocation++;\n\t\t\t\t\tif (pattern.location[location]) load(location);\n\t\t\t\t\telse reject()\n\t\t\t\t} : reject)\n\t\t}\n\t\tvar pattern, regexMatchEmptySearch = /^(?:\\?|)$/;\n\t\tif (!regexIsAbsoluteUri.test(dependency.path)) functionIterate(settings.pattern, function (property, value) {\n\t\t\tvalue.matches(dependency.path) && (!pattern || pattern.weight < value.weight) && (pattern = value)\n\t\t});\n\t\tload()\n\t}\n\n\tfunction validatorIsArray(value) {\n\t\treturn \"[object Array]\" === objectPrototypeToString.call(value)\n\t}\n\n\tfunction functionHash(input) {\n\t\tvar value = 5381,\n\t\t\ti = input.length;\n\t\twhile (i) value = 33 * value ^ input.charCodeAt(--i);\n\t\treturn value >>> 0\n\t}\n\n\tfunction AbstractUuid() {\n\t\tif (validatorIsTypeOf(this.uuid, STRING_UNDEFINED)) this.define(\"uuid\", functionUuid());\n\t\treturn this\n\t}\n\n\tfunction functionResolveSourcemaps(url, source) {\n\t\tvar match, replacement;\n\t\twhile (match = regexMatchSourcemap.exec(source)) {\n\t\t\tlinkElement.href = url;\n\t\t\tif (regexIsAbsoluteUri.test(match[2])) replacement = linkElement.protocol + \"//\" + linkElement.host + match[3];\n\t\t\telse {\n\t\t\t\tlinkElement.pathname += \"/../\" + match[3];\n\t\t\t\treplacement = linkElement.protocol + \"//\" + linkElement.host + linkElement.pathname\n\t\t\t}\n\t\t\tsource = source.replace(match[0], match[1] + \" \" + match[2] + \"=\" + replacement + \".map\" + (match[4] ? \" \" + match[4] : \"\"))\n\t\t}\n\t\treturn source\n\t}\n\n\tfunction abstractHandler() {}\n\n\tfunction ClassFailure(message, module, stack) {\n\t\tvar self = this;\n\t\tself.message = message;\n\t\tmodule && (self.module = module);\n\t\tstack && (self.stack = functionToArray(stack));\n\t\treturn self\n\t}\n\n\tfunction assignModule(id, module) {\n\t\tprovide(id, function () {\n\t\t\treturn module\n\t\t})\n\t}\n\tvar demand, provide, queue, processor, functionMerge, functionUuid, functionDefer, singletonEvent, functionEscapeRegex, regexIsAbsoluteUri, regexIsAbsolutePath, regexMatchSourcemap, regexMatchBaseUrl, regexMatchInternal, regexMatchParameter, singletonCache, ClassWeakmap, ClassPledge, ClassRegistry, ClassDependency, ClassPattern, ClassXhr, ClassQueue, ClassProcessor, handlerModule, handlerBundle, handlerComponent, pluginGenie, document = global.document,\n\t\toptions = \"demand\" in global && global.demand,\n\t\tsettings = {\n\t\t\tversion: \"1.0.0\",\n\t\t\tcache: {},\n\t\t\ttimeout: 8e3,\n\t\t\tpattern: {},\n\t\t\tmodules: {},\n\t\t\thandler: \"module\"\n\t\t},\n\t\tDEMAND_ID = \"demand\",\n\t\tPROVIDE_ID = \"provide\",\n\t\tPATH_ID = \"path\",\n\t\tMODULE_PREFIX = \"/\" + DEMAND_ID + \"/\",\n\t\tMODULE_PREFIX_ABSTRACT = MODULE_PREFIX + \"abstract/\",\n\t\tMODULE_PREFIX_HANDLER = MODULE_PREFIX + \"handler/\",\n\t\tMODULE_PREFIX_PLUGIN = MODULE_PREFIX + \"plugin/\",\n\t\tMODULE_PREFIX_FUNCTION = MODULE_PREFIX + \"function/\",\n\t\tMODULE_PREFIX_VALIDATOR = MODULE_PREFIX + \"validator/\",\n\t\tMOCK_PREFIX = \"mock:\",\n\t\tNULL = null,\n\t\tUNDEFINED = void 0,\n\t\tFALSE = false,\n\t\tTRUE = true,\n\t\tSTRING_UNDEFINED = \"undefined\",\n\t\tSTRING_STRING = \"string\",\n\t\tSTRING_BOOLEAN = \"boolean\",\n\t\tSTRING_OBJECT = \"object\",\n\t\tSTRING_FUNCTION = \"function\",\n\t\tSTRING_NUMBER = \"number\",\n\t\tEVENT_PREFIX = \"pre\",\n\t\tEVENT_POSTFIX = \"post\",\n\t\tEVENT_CONFIGURE = \"Configure\",\n\t\tEVENT_PRE_CONFIGURE = EVENT_PREFIX + EVENT_CONFIGURE,\n\t\tEVENT_POST_CONFIGURE = EVENT_POSTFIX + EVENT_CONFIGURE,\n\t\tEVENT_CACHE = \"cache\",\n\t\tEVENT_CACHE_MISS = EVENT_CACHE + \"Miss\",\n\t\tEVENT_CACHE_HIT = EVENT_CACHE + \"Hit\",\n\t\tEVENT_CACHE_CLEAR = EVENT_CACHE + \"Clear\",\n\t\tEVENT_CACHE_EXCEED = EVENT_CACHE + \"Exceed\",\n\t\tEVENT_PRE_CACHE = EVENT_PREFIX + \"Cache\",\n\t\tEVENT_POST_CACHE = EVENT_POSTFIX + \"Cache\",\n\t\tEVENT_RESOLVE = \"Resolve\",\n\t\tEVENT_PRE_RESOLVE = EVENT_PREFIX + EVENT_RESOLVE,\n\t\tEVENT_POST_RESOLVE = EVENT_POSTFIX + EVENT_RESOLVE,\n\t\tEVENT_REQUEST = \"Request\",\n\t\tEVENT_PRE_REQUEST = EVENT_PREFIX + EVENT_REQUEST,\n\t\tEVENT_POST_REQUEST = EVENT_POSTFIX + EVENT_REQUEST,\n\t\tEVENT_PROCESS = \"Process\",\n\t\tEVENT_PRE_PROCESS = EVENT_PREFIX + EVENT_PROCESS,\n\t\tEVENT_POST_PROCESS = EVENT_POSTFIX + EVENT_PROCESS,\n\t\tEVENT_QUEUE = \"queue\",\n\t\tEVENT_QUEUE_ENQUEUE = EVENT_QUEUE + \"Enqueue\",\n\t\tEVENT_QUEUE_DEQUEUE = EVENT_QUEUE + \"Dequeue\",\n\t\tERROR_LOAD = \"error loading\",\n\t\tERROR_PROVIDE = \"error providing\",\n\t\tERROR_RESOLVE = \"error resolving\",\n\t\tERROR_PROVIDE_ANONYMOUS = \"unspecified anonymous provide\",\n\t\tarrayPrototype = Array.prototype,\n\t\tarrayPrototypeSlice = arrayPrototype.slice,\n\t\tarrayPrototypeConcat = arrayPrototype.concat,\n\t\tobject = Object,\n\t\tobjectPrototypeToString = object.prototype.toString,\n\t\tobjectCreate = object.create,\n\t\tobjectDefineProperty = object.defineProperty,\n\t\tobjectGetOwnPropertyNames = object.getOwnPropertyNames,\n\t\tobjectGetOwnPropertyDescriptor = object.getOwnPropertyDescriptor,\n\t\tlinkElement = document.createElement(\"a\");\n\t(function (strPrototype) {\n\t\tfunction objectDefine(name, value, writable, configurable, enumerable) {\n\t\t\tobjectDefineProperty(this, name, new ClassDescriptor(value, writable, configurable, enumerable))\n\t\t}\n\n\t\tfunction functionExtends(source) {\n\t\t\tfor (var property, self = this, prototype = self[strPrototype], names = objectGetOwnPropertyNames(prototype), properties = {\n\t\t\t\t\tconstructor: new ClassDescriptor(self, TRUE, TRUE)\n\t\t\t\t}, i = 0;\n\t\t\t\t(property = names[i]) && !properties[property]; i++) properties[property] = objectGetOwnPropertyDescriptor(prototype, property);\n\t\t\ttry {\n\t\t\t\tself[strPrototype] = objectCreate(source[strPrototype] || source, properties)\n\t\t\t} catch (e) {}\n\t\t\tif (self[strPrototype] === prototype) throw new TypeError(\"Unable to extend, prototype is not writable\");\n\t\t\treturn self\n\t\t}\n\t\tobjectDefine.call(Object.prototype, \"define\", objectDefine);\n\t\tobjectDefine.call(global.Object.prototype, \"define\", objectDefine);\n\t\tFunction.prototype.define(\"extends\", functionExtends);\n\t\tglobal.Function.prototype.define(\"extends\", functionExtends)\n\t})(\"prototype\");\n\tfunctionMerge = function () {\n\t\tfunction mergeProperties(property, value) {\n\t\t\tvar targetPropertyIsObject, targetProperty = this[property];\n\t\t\tif (value !== UNDEFINED)\n\t\t\t\tif (validatorIsObject(value)) {\n\t\t\t\t\ttargetPropertyIsObject = validatorIsObject(targetProperty);\n\t\t\t\t\tif (value.length !== UNDEFINED) targetProperty = targetPropertyIsObject && targetProperty.length !== UNDEFINED ? targetProperty : [];\n\t\t\t\t\telse targetProperty = targetPropertyIsObject && targetProperty.length === UNDEFINED ? targetProperty : {};\n\t\t\t\t\tthis[property] = functionMerge(targetProperty, value)\n\t\t\t\t} else this[property] = value\n\t\t}\n\t\treturn function () {\n\t\t\tfor (var properties, target = arguments[0], i = 1;\n\t\t\t\t(properties = arguments[i]) !== UNDEFINED; i++) functionIterate(properties, mergeProperties, target);\n\t\t\treturn target\n\t\t}\n\t}();\n\tfunctionUuid = function () {\n\t\tfunction randomize(character) {\n\t\t\tvar r = 16 * Math.random() | 0;\n\t\t\treturn (\"x\" === character ? r : 3 & r | 8)\n\t\t\t\t.toString(16)\n\t\t}\n\t\tvar regex = new RegExp(\"[xy]\", \"g\");\n\t\treturn function () {\n\t\t\treturn \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(regex, randomize)\n\t\t}\n\t}();\n\tfunctionDefer = function () {\n\t\tvar element, fallback, hasSetImmediate = \"setImmediate\" in global;\n\t\tif (\"MutationObserver\" in global) return function (fn) {\n\t\t\telement = document.createElement(\"div\");\n\t\t\tnew MutationObserver(function () {\n\t\t\t\t\tfn()\n\t\t\t\t})\n\t\t\t\t.observe(element, {\n\t\t\t\t\tattributes: TRUE\n\t\t\t\t});\n\t\t\telement.setAttribute(\"i\", \"1\")\n\t\t};\n\t\tif (!hasSetImmediate && \"postMessage\" in global && !(\"importScripts\" in global) && \"addEventListener\" in global) return function () {\n\t\t\tfunction onMessage(event) {\n\t\t\t\tvar fn;\n\t\t\t\tif (event.source === global && event.data && (fn = storage[event.data])) {\n\t\t\t\t\tfn();\n\t\t\t\t\tdelete storage[event.data]\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar storage = {};\n\t\t\tglobal.addEventListener(\"message\", onMessage, FALSE);\n\t\t\treturn function (fn) {\n\t\t\t\tvar uuid = functionUuid();\n\t\t\t\tstorage[uuid] = fn;\n\t\t\t\tglobal.postMessage(uuid, \"*\")\n\t\t\t}\n\t\t}();\n\t\tif (!hasSetImmediate && \"onreadystatechange\" in (element = document.createElement(\"script\"))) return function (fn) {\n\t\t\telement.onreadystatechange = function () {\n\t\t\t\telement.onreadystatechange = NULL;\n\t\t\t\telement.parentNode.removeChild(element);\n\t\t\t\tfn()\n\t\t\t};\n\t\t\tdocument.body.appendChild(element)\n\t\t};\n\t\tfallback = hasSetImmediate ? setImmediate : setTimeout;\n\t\treturn function (fn) {\n\t\t\tfallback(fn)\n\t\t}\n\t}();\n\tsingletonEvent = function () {\n\t\tfunction addListener(type, events, callback) {\n\t\t\tvar event, pointer;\n\t\t\tif (validatorIsTypeOf(events, STRING_STRING) && validatorIsTypeOf(callback, STRING_FUNCTION)) {\n\t\t\t\tevents = events.split(\" \");\n\t\t\t\twhile (event = events.shift()) {\n\t\t\t\t\tevent = event.split(\":\");\n\t\t\t\t\tif (regexMatchEvent.test(event[0])) {\n\t\t\t\t\t\t(listener[event[0]] || (listener[event[0]] = {\n\t\t\t\t\t\t\ton: [],\n\t\t\t\t\t\t\tafter: []\n\t\t\t\t\t\t}))[type].push({\n\t\t\t\t\t\t\tcallback: callback,\n\t\t\t\t\t\t\tfilter: event[1]\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (type === TYPE_ON && event[0] === EVENT_POST_CONFIGURE && (pointer = settings.modules[event[1]])) callback(pointer)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction Event() {}\n\t\tvar TYPE_ON = \"on\",\n\t\t\tTYPE_AFTER = \"after\",\n\t\t\tregexMatchEvent = /^cache(Miss|Hit|Clear|Exceed)|queue(En|De)queue|(pre|post)(Resolve|Configure|Request|Process|Cache)$/,\n\t\t\tlistener = {};\n\t\tEvent.prototype = {\n\t\t\temit: function (event, filter) {\n\t\t\t\tvar parameter, i, item, pointer = listener[event];\n\t\t\t\tif (pointer) {\n\t\t\t\t\tparameter = functionToArray(arguments, 2);\n\t\t\t\t\tfor (i = 0; item = pointer[TYPE_ON][i]; i++)\n\t\t\t\t\t\tif (!item.filter || item.filter === filter) item.callback.apply(NULL, parameter);\n\t\t\t\t\tfor (i = 0; item = pointer[TYPE_AFTER][i]; i++)\n\t\t\t\t\t\tif (!item.filter || item.filter === filter) item.callback.apply(NULL, parameter)\n\t\t\t\t}\n\t\t\t\treturn this\n\t\t\t},\n\t\t\ton: function (events, callback) {\n\t\t\t\taddListener(TYPE_ON, events, callback);\n\t\t\t\treturn this\n\t\t\t},\n\t\t\tafter: function (events, callback) {\n\t\t\t\taddListener(TYPE_AFTER, events, callback);\n\t\t\t\treturn this\n\t\t\t}\n\t\t};\n\t\treturn new Event\n\t}();\n\tfunctionEscapeRegex = function () {\n\t\tvar regexMatchRegex = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;\n\t\treturn function (value) {\n\t\t\treturn value.replace(regexMatchRegex, \"\\\\$&\")\n\t\t}\n\t}();\n\tregexIsAbsoluteUri = /^(http(s?):)?\\/\\//i, regexIsAbsolutePath = /^\\//, regexMatchSourcemap = /((?:\\/\\/|\\/\\*)#)\\s*(sourceMappingURL)\\s*=\\s*(?!(?:http[s]?:)?\\/\\/)(.+?)\\.map(?:\\s+)?(\\*\\/)?/g, regexMatchBaseUrl = new RegExp(\"^\" + functionEscapeRegex(functionResolveUrl(\"/\"))), regexMatchInternal = new RegExp(\"^\" + DEMAND_ID + \"|\" + PROVIDE_ID + \"|\" + PATH_ID + \"$\"), regexMatchParameter = /^(mock:)?([+-])?((?:[-\\w]+\\/?)+)?(?:@(.+?))?(?:#(\\d+))?!/;\n\tsingletonCache = function () {\n\t\tfunction enabled(dependency) {\n\t\t\tvar match;\n\t\t\tif (dependency.cache !== NULL) return dependency.cache;\n\t\t\tfunctionIterate(settings.cache, function (property, value) {\n\t\t\t\tif (0 === dependency.path.indexOf(property) && (!match || value.weight > match.weight)) match = value\n\t\t\t});\n\t\t\treturn match ? match.state : FALSE\n\t\t}\n\n\t\tfunction getKey(key) {\n\t\t\treturn localStorage.getItem(key)\n\t\t}\n\n\t\tfunction setKey(key, value) {\n\t\t\tlocalStorage[value ? \"setItem\" : \"removeItem\"](key, value)\n\t\t}\n\n\t\tfunction getState(key) {\n\t\t\tvar matches, state = getKey(key);\n\t\t\tif (state && (matches = state.match(regexMatchProperties))) return functionToArray(matches, 1)\n\t\t}\n\n\t\tfunction setState(key, state) {\n\t\t\tstate[4] = functionGetTimestamp();\n\t\t\tsetKey(key, state.join(\",\"))\n\t\t}\n\n\t\tfunction emit(event, dependency, state) {\n\t\t\tsingletonEvent.emit(event, dependency.id, dependency, state)\n\t\t}\n\n\t\tfunction Cache() {\n\t\t\tfunctionDefer(this.clear.expired.bind(this.clear))\n\t\t}\n\t\tvar cache, STORAGE_PREFIX = \"[\" + DEMAND_ID + \"]\",\n\t\t\tSTORAGE_SUFFIX_STATE = \"[state]\",\n\t\t\tSTORAGE_SUFFIX_VALUE = \"[value]\",\n\t\t\tregexMatchState = new RegExp(\"^\" + functionEscapeRegex(STORAGE_PREFIX) + \"\\\\[(.+?)\\\\]\" + functionEscapeRegex(STORAGE_SUFFIX_STATE) + \"$\"),\n\t\t\tregexMatchProperties = /^(.+?),(\\d+),(\\d*),(.+?),(\\d+)$/,\n\t\t\tsupportsLocalStorage = function () {\n\t\t\t\ttry {\n\t\t\t\t\treturn \"localStorage\" in global && global.localStorage\n\t\t\t\t} catch (exception) {\n\t\t\t\t\treturn FALSE\n\t\t\t\t}\n\t\t\t}(),\n\t\t\tlocalStorage = supportsLocalStorage ? global.localStorage : NULL,\n\t\t\tsupportsRemainingSpace = supportsLocalStorage && \"remainingSpace\" in localStorage,\n\t\t\tstorage = {};\n\t\tsingletonEvent.on(EVENT_CACHE_MISS, function (dependency) {\n\t\t\t\tfunctionDefer(function () {\n\t\t\t\t\tcache.clear(dependency.id)\n\t\t\t\t})\n\t\t\t})\n\t\t\t.on(EVENT_CACHE_EXCEED, function (dependency) {\n\t\t\t\tdemand(\"-!/\" + DEMAND_ID + \"/cache/dispose\")\n\t\t\t\t\t.then(function (cacheDispose) {\n\t\t\t\t\t\tfunctionDefer(function () {\n\t\t\t\t\t\t\tcacheDispose(dependency.source.length);\n\t\t\t\t\t\t\tcache.set(dependency)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t})\n\t\t\t.on(EVENT_POST_REQUEST, function (dependency) {\n\t\t\t\tif (dependency.source && enabled(dependency)) storage[dependency.id] = TRUE\n\t\t\t})\n\t\t\t.after(EVENT_POST_PROCESS, function (dependency) {\n\t\t\t\tif (storage[dependency.id]) functionDefer(function () {\n\t\t\t\t\tcache.set(dependency)\n\t\t\t\t})\n\t\t\t});\n\t\tCache.prototype = {\n\t\t\tget: supportsLocalStorage ? function (dependency) {\n\t\t\t\tvar id, state;\n\t\t\t\tif (enabled(dependency)) {\n\t\t\t\t\tid = STORAGE_PREFIX + \"[\" + dependency.id + \"]\";\n\t\t\t\t\tif (!(state = getState(id + STORAGE_SUFFIX_STATE))) return;\n\t\t\t\t\tif (state[0] !== dependency.version || state[2] && dependency.lifetime && state[2] <= functionGetTimestamp()) {\n\t\t\t\t\t\tdependency.invalid = true;\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tdependency.source = getKey(id + STORAGE_SUFFIX_VALUE);\n\t\t\t\t\tfunctionDefer(function () {\n\t\t\t\t\t\tsetState(id + STORAGE_SUFFIX_STATE, state)\n\t\t\t\t\t});\n\t\t\t\t\treturn TRUE\n\t\t\t\t}\n\t\t\t} : function () {},\n\t\t\tresolve: supportsLocalStorage ? function (dependency) {\n\t\t\t\tif (this.get(dependency)) emit(EVENT_CACHE_HIT, dependency);\n\t\t\t\telse emit(EVENT_CACHE_MISS, dependency)\n\t\t\t} : function (dependency) {\n\t\t\t\temit(EVENT_CACHE_MISS, dependency)\n\t\t\t},\n\t\t\tset: supportsLocalStorage ? function (dependency) {\n\t\t\t\tvar state, id, spaceBefore;\n\t\t\t\tif (enabled(dependency)) {\n\t\t\t\t\tstate = [dependency.version, dependency.source.length, dependency.lifetime ? functionGetTimestamp() + dependency.lifetime : NULL, demand.version];\n\t\t\t\t\tid = STORAGE_PREFIX + \"[\" + dependency.id + \"]\";\n\t\t\t\t\temit(EVENT_PRE_CACHE, dependency, state);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tspaceBefore = supportsRemainingSpace ? localStorage.remainingSpace : NULL;\n\t\t\t\t\t\tsetKey(id + STORAGE_SUFFIX_VALUE, dependency.source);\n\t\t\t\t\t\tsetState(id + STORAGE_SUFFIX_STATE, state);\n\t\t\t\t\t\tif (spaceBefore !== NULL && localStorage.remainingSpace === spaceBefore) throw new Error;\n\t\t\t\t\t\temit(EVENT_POST_CACHE, dependency, state)\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\temit(EVENT_CACHE_EXCEED, dependency)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} : function () {},\n\t\t\tclear: supportsLocalStorage ? function (path) {\n\t\t\t\tvar id = functionResolveId(path),\n\t\t\t\t\tkey = STORAGE_PREFIX + \"[\" + id + \"]\";\n\t\t\t\tif (getKey(key + STORAGE_SUFFIX_STATE)) {\n\t\t\t\t\tsetKey(key + STORAGE_SUFFIX_STATE);\n\t\t\t\t\tsetKey(key + STORAGE_SUFFIX_VALUE);\n\t\t\t\t\temit(EVENT_CACHE_CLEAR, ClassDependency.get(id) || new ClassDependency(id, NULL, FALSE))\n\t\t\t\t}\n\t\t\t} : function () {}\n\t\t};\n\t\tCache.prototype.clear.all = supportsLocalStorage ? function () {\n\t\t\tvar match;\n\t\t\tfunctionIterate(localStorage, function (property) {\n\t\t\t\t(match = property.match(regexMatchState)) && this(match[1])\n\t\t\t}, this)\n\t\t} : function () {};\n\t\tCache.prototype.clear.expired = supportsLocalStorage ? function () {\n\t\t\tvar match, state;\n\t\t\tfunctionIterate(localStorage, function (property) {\n\t\t\t\tif (match = property.match(regexMatchState))\n\t\t\t\t\tif ((state = getState(STORAGE_PREFIX + \"[\" + match[1] + \"]\" + STORAGE_SUFFIX_STATE)) && state[2] > 0 && state[2] <= functionGetTimestamp()) this(match[1])\n\t\t\t}, this)\n\t\t} : function () {};\n\t\treturn cache = new Cache\n\t}();\n\tClassWeakmap = \"WeakMap\" in global ? global.WeakMap : function () {\n\t\tfunction getEntry(context, key) {\n\t\t\tvar entry;\n\t\t\tif ((entry = key[context.id]) && entry[0] === key) return entry\n\t\t}\n\n\t\tfunction ClassWeakmap() {\n\t\t\tthis.define(\"id\", prefix + functionUuid())\n\t\t}\n\t\tvar prefix = \"weakmap-\";\n\t\tClassWeakmap.prototype = {\n\t\t\tset: function (key, value) {\n\t\t\t\tvar entry = getEntry(this, key);\n\t\t\t\tif (entry) entry[1] = value;\n\t\t\t\telse key.define(this.id, [key, value]);\n\t\t\t\treturn this\n\t\t\t},\n\t\t\tget: function (key) {\n\t\t\t\tvar entry = getEntry(this, key);\n\t\t\t\tif (entry) return entry[1]\n\t\t\t},\n\t\t\tdelete: function (key) {\n\t\t\t\tvar entry = getEntry(this, key);\n\t\t\t\tif (entry) {\n\t\t\t\t\tentry.length = 0;\n\t\t\t\t\tdelete key[this.id]\n\t\t\t\t}\n\t\t\t},\n\t\t\thas: function (key) {\n\t\t\t\treturn !!getEntry(this, key)\n\t\t\t}\n\t\t};\n\t\treturn ClassWeakmap\n\t}();\n\tClassPledge = function () {\n\t\tfunction resolve() {\n\t\t\tstorage.get(this)\n\t\t\t\t.handle(PLEDGE_RESOLVED, arguments)\n\t\t}\n\n\t\tfunction reject() {\n\t\t\tstorage.get(this)\n\t\t\t\t.handle(PLEDGE_REJECTED, arguments)\n\t\t}\n\n\t\tfunction handle(state, parameter) {\n\t\t\tvar pointer, result, properties = storage.get(this);\n\t\t\tif (properties.state === PLEDGE_PENDING) {\n\t\t\t\tproperties.state = state;\n\t\t\t\tproperties.value = parameter\n\t\t\t}\n\t\t\twhile (pointer = properties[properties.state].shift())\n\t\t\t\tif ((result = pointer.handler.apply(NULL, properties.value)) && \"function\" === typeof result.then) result.then(pointer.dfd.resolve, pointer.dfd.reject);\n\t\t\t\telse pointer.dfd[properties.state === PLEDGE_RESOLVED ? \"resolve\" : \"reject\"].apply(NULL, properties.value);\n\t\t\tproperties[PLEDGE_RESOLVED].length = 0;\n\t\t\tproperties[PLEDGE_REJECTED].length = 0\n\t\t}\n\n\t\tfunction observe(pledge, index, properties) {\n\t\t\tpledge.then(function () {\n\t\t\t\tproperties.resolved[index] = functionToArray(arguments);\n\t\t\t\tproperties.count++;\n\t\t\t\tcheck(properties)\n\t\t\t}, function () {\n\t\t\t\tproperties.rejected.push(functionToArray(arguments));\n\t\t\t\tcheck(properties)\n\t\t\t})\n\t\t}\n\n\t\tfunction check(properties) {\n\t\t\tif (properties.count === properties.total) properties.dfd.resolve.apply(NULL, arrayPrototypeConcat.apply([], properties.resolved));\n\t\t\telse if (properties.rejected.length + properties.count === properties.total) properties.dfd.reject.apply(NULL, arrayPrototypeConcat.apply([], properties.rejected))\n\t\t}\n\n\t\tfunction ClassPledge(executor) {\n\t\t\tvar self = this;\n\t\t\tstorage.set(self, {\n\t\t\t\tstate: PLEDGE_PENDING,\n\t\t\t\thandle: handle.bind(self),\n\t\t\t\tvalue: NULL,\n\t\t\t\tresolved: [],\n\t\t\t\trejected: [],\n\t\t\t\tcount: 0\n\t\t\t});\n\t\t\texecutor(resolve.bind(self), reject.bind(self));\n\t\t\treturn self\n\t\t}\n\t\tvar PLEDGE_PENDING = \"pending\",\n\t\t\tPLEDGE_RESOLVED = \"resolved\",\n\t\t\tPLEDGE_REJECTED = \"rejected\",\n\t\t\tstorage = new ClassWeakmap;\n\t\tClassPledge.prototype = {\n\t\t\tcatch: function (listener) {\n\t\t\t\treturn this.then(function () {}, listener)\n\t\t\t},\n\t\t\talways: function (alwaysListener) {\n\t\t\t\treturn this.then(alwaysListener, alwaysListener)\n\t\t\t},\n\t\t\tthen: function (resolveListener, rejectListener) {\n\t\t\t\tvar properties = storage.get(this),\n\t\t\t\t\tdfd = ClassPledge.defer();\n\t\t\t\tresolveListener && properties[PLEDGE_RESOLVED].push({\n\t\t\t\t\thandler: resolveListener,\n\t\t\t\t\tdfd: dfd\n\t\t\t\t});\n\t\t\t\trejectListener && properties[PLEDGE_REJECTED].push({\n\t\t\t\t\thandler: rejectListener,\n\t\t\t\t\tdfd: dfd\n\t\t\t\t});\n\t\t\t\tif (properties.state !== PLEDGE_PENDING) functionDefer(properties.handle);\n\t\t\t\treturn dfd.pledge\n\t\t\t},\n\t\t\tisPending: function () {\n\t\t\t\treturn storage.get(this)\n\t\t\t\t\t.state === PLEDGE_PENDING\n\t\t\t},\n\t\t\tisResolved: function () {\n\t\t\t\treturn storage.get(this)\n\t\t\t\t\t.state === PLEDGE_RESOLVED\n\t\t\t},\n\t\t\tisRejected: function () {\n\t\t\t\treturn storage.get(this)\n\t\t\t\t\t.state === PLEDGE_REJECTED\n\t\t\t}\n\t\t};\n\t\tClassPledge.defer = function () {\n\t\t\tvar self = {};\n\t\t\tself.pledge = new ClassPledge(function (resolveListener, rejectListener) {\n\t\t\t\tself.resolve = resolveListener;\n\t\t\t\tself.reject = rejectListener\n\t\t\t});\n\t\t\treturn self\n\t\t};\n\t\tClassPledge.all = function (pledges) {\n\t\t\tvar properties, pledge, dfd = ClassPledge.defer(),\n\t\t\t\ti = 0;\n\t\t\tif (pledges.length) {\n\t\t\t\tproperties = {\n\t\t\t\t\tdfd: dfd,\n\t\t\t\t\tresolved: [],\n\t\t\t\t\trejected: [],\n\t\t\t\t\ttotal: pledges.length,\n\t\t\t\t\tcount: 0\n\t\t\t\t};\n\t\t\t\tfor (; pledge = pledges[i]; i++) observe(pledge, i, properties)\n\t\t\t} else dfd.resolve();\n\t\t\treturn dfd.pledge\n\t\t};\n\t\tClassPledge.race = function (pledges) {\n\t\t\tfor (var pledge, dfd = ClassPledge.defer(), i = 0; pledge = pledges[i]; i++) pledge.then(dfd.resolve, dfd.reject);\n\t\t\tif (!pledges.length) dfd.resolve();\n\t\t\treturn dfd.pledge\n\t\t};\n\t\treturn ClassPledge\n\t}();\n\tClassRegistry = function () {\n\t\tfunction ClassRegistry() {\n\t\t\tstorage.set(this, {})\n\t\t}\n\t\tvar storage = new ClassWeakmap;\n\t\tClassRegistry.prototype = {\n\t\t\tget: function (key) {\n\t\t\t\treturn key ? storage.get(this)[key] : storage.get(this)\n\t\t\t},\n\t\t\tset: function (key, value) {\n\t\t\t\tstorage.get(this)[key] = value\n\t\t\t},\n\t\t\tremove: function (key) {\n\t\t\t\tdelete storage.get(this)[key]\n\t\t\t}\n\t\t};\n\t\treturn ClassRegistry\n\t}();\n\tClassFailure.prototype = {\n\t\ttoString: function () {\n\t\t\tvar self = this,\n\t\t\t\tresult = DEMAND_ID + \": \" + self.message + \" \" + (self.module ? '\"' + self.module + '\"' : \"\");\n\t\t\tif (self.stack) result = ClassFailure.traverse(self.stack, result, 1);\n\t\t\treturn result\n\t\t}\n\t};\n\tClassFailure.traverse = function (stack, value, depth) {\n\t\tfor (var item, indention = new Array(depth + 1)\n\t\t\t\t.join(\" \"), i = 0; item = stack[i]; i++) {\n\t\t\tvalue += \"\\n\" + indention + \"> \" + item.message + \" \" + (item.module ? '\"' + item.module + '\"' : \"\");\n\t\t\tif (item.stack) value = ClassFailure.traverse(item.stack, value, depth + 1)\n\t\t}\n\t\treturn value\n\t};\n\tClassDependency = function () {\n\t\tfunction setProperty(property, value) {\n\t\t\tthis[property] = value\n\t\t}\n\n\t\tfunction addPending(id, dependency) {\n\t\t\tif (dependency.pledge.isPending()) this.push(id)\n\t\t}\n\n\t\tfunction addResolved(id, dependency) {\n\t\t\tif (dependency.pledge.isResolved()) this.push(id)\n\t\t}\n\n\t\tfunction addRejected(id, dependency) {\n\t\t\tif (dependency.pledge.isRejected()) this.push(id)\n\t\t}\n\n\t\tfunction ClassDependency(uri, context, register) {\n\t\t\tvar self = this,\n\t\t\t\tparameter = uri.match(regexMatchParameter) || placeholder;\n\t\t\tself.path = functionResolvePath(uri, context);\n\t\t\tself.mock = parameter[1] ? TRUE : FALSE;\n\t\t\tself.cache = parameter[2] ? \"+\" === parameter[1] : NULL;\n\t\t\tself.type = parameter[3] || settings.handler;\n\t\t\tself.version = parameter[4] || settings.version;\n\t\t\tself.lifetime = parameter[5] && 1e3 * parameter[5] || settings.lifetime;\n\t\t\tself.id = (self.mock ? MOCK_PREFIX : \"\") + self.type + \"!\" + self.path;\n\t\t\tself.uri = (self.mock ? MOCK_PREFIX : \"\") + self.type + \"@\" + self.version + (validatorIsPositive(self.lifetime) && self.lifetime > 0 ? \"#\" + self.lifetime : \"\") + \"!\" + self.path;\n\t\t\tself.dfd = ClassPledge.defer();\n\t\t\tself.pledge = self.dfd.pledge;\n\t\t\tself.invalid = false;\n\t\t\tself.pledge.then(function () {\n\t\t\t\tself.value = functionToArray(arguments)\n\t\t\t});\n\t\t\tregister !== FALSE && registry.set(self.id, self);\n\t\t\treturn self\n\t\t}\n\t\tvar PREFIX_INTERNAL = \"internal!\",\n\t\t\tregistry = new ClassRegistry,\n\t\t\tplaceholder = [];\n\t\tClassDependency.prototype = {\n\t\t\tenqueue: true\n\t\t};\n\t\tClassDependency.get = function (uri, context) {\n\t\t\treturn registry.get(functionResolveId(uri, context))\n\t\t};\n\t\tClassDependency.resolve = function (uri, context) {\n\t\t\tvar value, isInternal = context && regexMatchInternal.test(uri),\n\t\t\t\tdependency = isInternal ? this.get(PREFIX_INTERNAL + context + \"/\" + uri) : this.get(uri, context);\n\t\t\tif (!dependency)\n\t\t\t\tif (isInternal) {\n\t\t\t\t\tdependency = new ClassDependency(PREFIX_INTERNAL + context + \"/\" + uri);\n\t\t\t\t\tswitch (uri) {\n\t\t\t\t\tcase DEMAND_ID:\n\t\t\t\t\t\tvalue = function () {\n\t\t\t\t\t\t\treturn functionIterate(demand, setProperty, demand.bind(context))\n\t\t\t\t\t\t}();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase PROVIDE_ID:\n\t\t\t\t\t\tvalue = provide.bind(context);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase PATH_ID:\n\t\t\t\t\t\tvalue = context\n\t\t\t\t\t}\n\t\t\t\t\tdependency.dfd.resolve(value)\n\t\t\t\t} else {\n\t\t\t\t\tdependency = new ClassDependency(uri, context);\n\t\t\t\t\tdemand(MODULE_PREFIX_HANDLER + dependency.type)\n\t\t\t\t\t\t.then(function (handler) {\n\t\t\t\t\t\t\tdependency.handler = handler;\n\t\t\t\t\t\t\tif (dependency.mock) dependency.dfd.resolve(handler);\n\t\t\t\t\t\t\telse singletonCache.resolve(dependency)\n\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + \" (handler)\", self.id))\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\treturn dependency\n\t\t};\n\t\tClassDependency.remove = function (uri, context, cache) {\n\t\t\tvar id = functionResolveId(uri, context),\n\t\t\t\tnode = document.querySelector(\"[\" + DEMAND_ID + '-id=\"' + id + '\"]');\n\t\t\tregistry.remove(id);\n\t\t\tregistry.remove(MOCK_PREFIX + id);\n\t\t\tnode && node.parentNode.removeChild(node);\n\t\t\tcache !== FALSE && singletonCache.clear(id)\n\t\t};\n\t\tClassDependency.list = {\n\t\t\tall: function () {\n\t\t\t\treturn object.keys(registry.get())\n\t\t\t},\n\t\t\tpending: function () {\n\t\t\t\treturn functionIterate(registry.get(), addPending, [])\n\t\t\t},\n\t\t\tresolved: function () {\n\t\t\t\treturn functionIterate(registry.get(), addResolved, [])\n\t\t\t},\n\t\t\trejected: function () {\n\t\t\t\treturn functionIterate(registry.get(), addRejected, [])\n\t\t\t}\n\t\t};\n\t\treturn ClassDependency\n\t}();\n\tClassPattern = function () {\n\t\tfunction setProperty(property, value) {\n\t\t\tthis[property] = {\n\t\t\t\turl: functionResolveUrl(value)\n\t\t\t\t\t.replace(regexMatchTrailingSlash, \"$1\"),\n\t\t\t\tmatch: new RegExp(\"^\" + functionEscapeRegex(value))\n\t\t\t}\n\t\t}\n\n\t\tfunction ClassPattern(pattern, url) {\n\t\t\tvar self = this;\n\t\t\tself.weight = pattern.length;\n\t\t\tself.match = new RegExp(\"^\" + functionEscapeRegex(pattern));\n\t\t\tself.location = [].concat(url);\n\t\t\tfunctionIterate(self.location, setProperty, self.location)\n\t\t}\n\t\tvar regexMatchTrailingSlash = /(.+)\\/$/;\n\t\tClassPattern.prototype = {\n\t\t\tmatches: function (path) {\n\t\t\t\treturn this.match.test(path)\n\t\t\t},\n\t\t\tprocess: function (path, index) {\n\t\t\t\tvar current = this.location[index];\n\t\t\t\tif (current) return path.replace(this.match, current.url)\n\t\t\t}\n\t\t};\n\t\treturn ClassPattern\n\t}();\n\tClassXhr = function (XMLHttpRequest) {\n\t\tfunction checkState() {\n\t\t\tif (this.readyState < 4) this.abort()\n\t\t}\n\t\tvar XDomainRequest = \"XDomainRequest\" in global && global.XDomainRequest || XMLHttpRequest;\n\t\treturn function (url) {\n\t\t\tvar pointer, dfd = ClassPledge.defer(),\n\t\t\t\txhr = regexMatchBaseUrl.test(url) ? new XMLHttpRequest : new XDomainRequest,\n\t\t\t\tboundCheckState = checkState.bind(xhr),\n\t\t\t\ttimeout = settings.timeout;\n\t\t\txhr.ontimeout = xhr.onerror = xhr.onabort = function () {\n\t\t\t\tdfd.reject(xhr.status)\n\t\t\t};\n\t\t\txhr.onprogress = xhr.onreadystatechange = function () {\n\t\t\t\tclearTimeout(pointer);\n\t\t\t\tpointer = setTimeout(boundCheckState, timeout)\n\t\t\t};\n\t\t\txhr.onload = function () {\n\t\t\t\tpointer = clearTimeout(pointer);\n\t\t\t\tif (!(\"status\" in xhr) || 200 === xhr.status) dfd.resolve(xhr.responseText, xhr.getResponseHeader && xhr.getResponseHeader(\"content-type\"));\n\t\t\t\telse dfd.reject(xhr.status)\n\t\t\t};\n\t\t\txhr.open(\"GET\", url, TRUE);\n\t\t\txhr.send();\n\t\t\tpointer = setTimeout(boundCheckState, timeout);\n\t\t\treturn dfd.pledge\n\t\t}\n\t}(XMLHttpRequest);\n\tdemand = function () {\n\t\tfunction updateCacheSettings(property, value) {\n\t\t\tthis[property] = {\n\t\t\t\tweight: property.length,\n\t\t\t\tstate: value\n\t\t\t}\n\t\t}\n\n\t\tfunction updatePatternSettings(property, value) {\n\t\t\t\"base\" !== property && (this[property] = new ClassPattern(property, value))\n\t\t}\n\n\t\tfunction updateModuleSettings(property, value) {\n\t\t\tvar temp = this[property] = this[property] || {};\n\t\t\tsingletonEvent.emit(EVENT_PRE_CONFIGURE, property, temp);\n\t\t\tfunctionMerge(temp, value);\n\t\t\tsingletonEvent.emit(EVENT_POST_CONFIGURE, property, temp)\n\t\t}\n\n\t\tfunction demand() {\n\t\t\tvar uri, dfd, result, dependencies = functionToArray(arguments),\n\t\t\t\tcontext = this !== global ? this : NULL,\n\t\t\t\ti = 0;\n\t\t\tsingletonEvent.emit(EVENT_PRE_RESOLVE, NULL, dependencies, context);\n\t\t\tfor (; uri = dependencies[i]; i++)\n\t\t\t\tif (validatorIsTypeOf(uri, STRING_STRING)) dependencies[i] = ClassDependency.resolve(uri, context)\n\t\t\t\t\t.pledge;\n\t\t\t\telse {\n\t\t\t\t\tdependencies[i] = (dfd = ClassPledge.defer())\n\t\t\t\t\t\t.pledge;\n\t\t\t\t\tdfd.resolve(uri)\n\t\t\t\t}\n\t\t\tif (dependencies.length > 1) result = ClassPledge.all(dependencies);\n\t\t\telse result = dependencies[0];\n\t\t\treturn result.always(function () {\n\t\t\t\tsingletonEvent.emit(EVENT_POST_RESOLVE, NULL, dependencies, context)\n\t\t\t})\n\t\t}\n\t\tdemand.configure = function (options) {\n\t\t\tvar cache = options.cache,\n\t\t\t\tversion = options.version,\n\t\t\t\ttimeout = options.timeout,\n\t\t\t\tlifetime = options.lifetime,\n\t\t\t\tbase = options.base,\n\t\t\t\tpattern = options.pattern,\n\t\t\t\tmodules = options.modules,\n\t\t\t\tpointer = settings.modules;\n\t\t\tif (validatorIsTypeOf(cache, STRING_BOOLEAN)) settings.cache[\"\"] = {\n\t\t\t\tweight: 0,\n\t\t\t\tstate: cache\n\t\t\t};\n\t\t\telse if (validatorIsObject(cache)) functionIterate(cache, updateCacheSettings, settings.cache);\n\t\t\tif (validatorIsTypeOf(version, STRING_STRING)) settings.version = version;\n\t\t\tif (validatorIsPositive(timeout)) settings.timeout = 1e3 * Math.min(Math.max(timeout, 2), 12);\n\t\t\tif (validatorIsPositive(lifetime) && lifetime > 0) settings.lifetime = 1e3 * lifetime;\n\t\t\tif (validatorIsTypeOf(base, STRING_STRING) && \"\" !== base) settings.pattern.base = new ClassPattern(\"\", base);\n\t\t\tif (validatorIsObject(pattern)) functionIterate(pattern, updatePatternSettings, settings.pattern);\n\t\t\tif (validatorIsObject(modules)) functionIterate(modules, updateModuleSettings, pointer);\n\t\t\treturn demand\n\t\t};\n\t\tdemand.version = \"5.0.1\";\n\t\tdemand.on = singletonEvent.on.bind(demand);\n\t\tdemand.get = function (uri, context) {\n\t\t\tvar dependency = ClassDependency.get(uri, context);\n\t\t\treturn dependency && dependency.value\n\t\t};\n\t\tdemand.list = ClassDependency.list;\n\t\tdemand.remove = ClassDependency.remove;\n\t\tdemand.cache = {\n\t\t\tclear: singletonCache.clear\n\t\t};\n\t\tsingletonEvent.after(EVENT_CACHE_MISS, function (dependency) {\n\t\t\t\tnew ClassLoader(dependency)\n\t\t\t})\n\t\t\t.after(EVENT_POST_REQUEST, function (dependency) {\n\t\t\t\tvar pointer = dependency.handler.onPostRequest;\n\t\t\t\tpointer && pointer(dependency)\n\t\t\t})\n\t\t\t.after(EVENT_CACHE_HIT + \" \" + EVENT_POST_REQUEST, function (dependency) {\n\t\t\t\tsingletonEvent.emit(EVENT_PRE_PROCESS, dependency.id, dependency)\n\t\t\t})\n\t\t\t.after(EVENT_PRE_REQUEST, function (dependency) {\n\t\t\t\tvar pointer = dependency.handler.onPreRequest;\n\t\t\t\tpointer && pointer(dependency)\n\t\t\t})\n\t\t\t.after(EVENT_PRE_PROCESS, function (dependency) {\n\t\t\t\tvar pointer = dependency.handler.onPreProcess;\n\t\t\t\tpointer && pointer(dependency);\n\t\t\t\tdependency.pledge.then(function () {\n\t\t\t\t\tsingletonEvent.emit(EVENT_POST_PROCESS, dependency.id, dependency)\n\t\t\t\t});\n\t\t\t\tif (true === dependency.enqueue) queue.enqueue(dependency);\n\t\t\t\telse if (validatorIsInstanceOf(dependency.enqueue, ClassPledge)) dependency.enqueue.then(function () {\n\t\t\t\t\tqueue.enqueue(dependency)\n\t\t\t\t})\n\t\t\t});\n\t\treturn demand\n\t}();\n\tglobal.define(\"demand\", demand);\n\tprovide = function () {\n\t\tvar module, isFunction, uri = validatorIsTypeOf(arguments[0], STRING_STRING) ? arguments[0] : NULL,\n\t\t\tcontext = this !== global ? this : NULL,\n\t\t\tdependencies = validatorIsArray(arguments[uri ? 1 : 0]) ? arguments[uri ? 1 : 0] : NULL,\n\t\t\tdefinition = dependencies ? arguments[uri ? 2 : 1] : arguments[uri ? 1 : 0];\n\t\tif (!uri && processor.current) {\n\t\t\turi = (module = processor.current)\n\t\t\t\t.uri;\n\t\t\tprocessor.process()\n\t\t}\n\t\tif (uri) {\n\t\t\tmodule = module || new ClassDependency(uri, context);\n\t\t\tisFunction = validatorIsTypeOf(definition, STRING_FUNCTION);\n\t\t\tif (dependencies) demand.apply(module.path, dependencies)\n\t\t\t\t.then(function () {\n\t\t\t\t\tmodule.dfd.resolve(isFunction ? definition.apply(NULL, arguments) : definition)\n\t\t\t\t}, function () {\n\t\t\t\t\tmodule.dfd.reject(new ClassFailure(ERROR_PROVIDE, module.id, arguments))\n\t\t\t\t});\n\t\t\telse module.dfd.resolve(isFunction ? definition() : definition);\n\t\t\treturn module.dfd.pledge\n\t\t} else !validatorIsTypeOf(console, STRING_UNDEFINED) && console.error(new ClassFailure(ERROR_PROVIDE_ANONYMOUS))\n\t};\n\tglobal.define(\"provide\", provide);\n\tdemand.configure({\n\t\tcache: TRUE,\n\t\tbase: \"/\",\n\t\tpattern: {\n\t\t\t\"/demand\": functionResolveUrl((options && options.url || location.href) + \"/../\")\n\t\t\t\t.slice(0, -1)\n\t\t}\n\t});\n\toptions && options.settings && demand.configure(options.settings);\n\tClassQueue = function () {\n\t\tfunction ClassQueue() {\n\t\t\tvar self = AbstractUuid.call(this);\n\t\t\tstorage.set(self, []);\n\t\t\treturn self\n\t\t}\n\t\tvar storage = new ClassWeakmap;\n\t\tClassQueue.prototype = {\n\t\t\tenqueue: function () {\n\t\t\t\tstorage.set(this, storage.get(this)\n\t\t\t\t\t.concat(functionToArray(arguments)));\n\t\t\t\tsingletonEvent.emit(EVENT_QUEUE_ENQUEUE, this.uuid)\n\t\t\t},\n\t\t\tdequeue: function () {\n\t\t\t\tsingletonEvent.emit(EVENT_QUEUE_DEQUEUE, this.uuid);\n\t\t\t\treturn storage.get(this)\n\t\t\t\t\t.shift()\n\t\t\t},\n\t\t\tget current() {\n\t\t\t\treturn storage.get(this)[0]\n\t\t\t},\n\t\t\tget length() {\n\t\t\t\treturn storage.get(this)\n\t\t\t\t\t.length\n\t\t\t}\n\t\t};\n\t\treturn ClassQueue.extends(AbstractUuid)\n\t}();\n\tClassProcessor = function () {\n\t\tfunction ClassProcessor(queue) {\n\t\t\tvar self = this,\n\t\t\t\tproperties = {\n\t\t\t\t\tqueue: queue,\n\t\t\t\t\tcurrent: NULL\n\t\t\t\t};\n\t\t\tstorage.set(self, properties);\n\t\t\tdemand.on(EVENT_QUEUE_ENQUEUE + \":\" + queue.uuid, function () {\n\t\t\t\t!properties.current && self.process()\n\t\t\t})\n\t\t}\n\t\tvar storage = new ClassWeakmap;\n\t\tClassProcessor.prototype = {\n\t\t\tprocess: function () {\n\t\t\t\tvar current, properties = storage.get(this);\n\t\t\t\tif (properties.queue.length)\n\t\t\t\t\tif (!(current = properties.current = properties.queue.dequeue())\n\t\t\t\t\t\t.pledge.isRejected()) {\n\t\t\t\t\t\tcurrent.handler.process && current.handler.process(current);\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\tproperties.current = NULL\n\t\t\t},\n\t\t\tget current() {\n\t\t\t\treturn storage.get(this)\n\t\t\t\t\t.current\n\t\t\t}\n\t\t};\n\t\treturn ClassProcessor\n\t}();\n\tabstractHandler.prototype = {\n\t\tvalidate: NULL,\n\t\tonPreRequest: NULL,\n\t\tonPostRequest: NULL,\n\t\tonPreProcess: NULL,\n\t\tprocess: NULL\n\t};\n\thandlerModule = function () {\n\t\tfunction HandlerModule() {}\n\t\tvar suffix = \".js\",\n\t\t\ttarget = document.getElementsByTagName(\"head\")[0],\n\t\t\tregexMatchType = /^(application|text)\\/(x-)?javascript/;\n\t\tHandlerModule.prototype = {\n\t\t\tvalidate: function (type) {\n\t\t\t\treturn regexMatchType.test(type)\n\t\t\t},\n\t\t\tonPreRequest: function (dependency) {\n\t\t\t\tvar pathname = dependency.url.pathname;\n\t\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname\n\t\t\t},\n\t\t\tonPostRequest: function (dependency) {\n\t\t\t\tdependency.source = functionResolveSourcemaps(dependency.url, dependency.source)\n\t\t\t},\n\t\t\tprocess: function (dependency) {\n\t\t\t\tvar script;\n\t\t\t\tif (dependency.source) {\n\t\t\t\t\t(script = document.createElement(\"script\"))\n\t\t\t\t\t.async = TRUE;\n\t\t\t\t\tscript.text = dependency.source;\n\t\t\t\t\tscript.setAttribute(DEMAND_ID + \"-id\", dependency.id);\n\t\t\t\t\ttarget.appendChild(script)\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn new(HandlerModule.extends(abstractHandler))\n\t}();\n\tClassFailure.prototype = {\n\t\ttoString: function () {\n\t\t\tvar self = this,\n\t\t\t\tresult = DEMAND_ID + \": \" + self.message + \" \" + (self.module ? '\"' + self.module + '\"' : \"\");\n\t\t\tif (self.stack) result = ClassFailure.traverse(self.stack, result, 1);\n\t\t\treturn result\n\t\t}\n\t};\n\tClassFailure.traverse = function (stack, value, depth) {\n\t\tfor (var item, indention = new Array(depth + 1)\n\t\t\t\t.join(\" \"), i = 0; item = stack[i]; i++) {\n\t\t\tvalue += \"\\n\" + indention + \"> \" + item.message + \" \" + (item.module ? '\"' + item.module + '\"' : \"\");\n\t\t\tif (item.stack) value = ClassFailure.traverse(item.stack, value, depth + 1)\n\t\t}\n\t\treturn value\n\t};\n\thandlerBundle = function () {\n\t\tfunction updateDependencies(uri, dependencies) {\n\t\t\tvar i, dependency;\n\t\t\tfor (i = 0; dependency = dependencies[i]; i++)\n\t\t\t\tif (validatorIsTypeOf(dependency, STRING_STRING)) dependencies[i] = functionResolveId(dependency)\n\t\t}\n\n\t\tfunction getType(dependencies) {\n\t\t\tfor (var type, temp, i = 0; temp = dependencies[i]; i++) {\n\t\t\t\ttemp = (temp = temp.match(regexMatchParameter)) && temp[3] || settings.handler;\n\t\t\t\tif (type) {\n\t\t\t\t\tif (temp !== type) return FALSE\n\t\t\t\t} else type = temp\n\t\t\t}\n\t\t\treturn type\n\t\t}\n\n\t\tfunction HandlerBundle() {}\n\t\tvar path = MODULE_PREFIX_HANDLER + \"bundle\",\n\t\t\tsettings = {};\n\t\tdemand.on(EVENT_POST_CONFIGURE + \":\" + path, function (options) {\n\t\t\tif (validatorIsObject(options)) functionIterate(settings = options, updateDependencies)\n\t\t});\n\t\tHandlerBundle.prototype = {\n\t\t\tvalidate: handlerModule.validate,\n\t\t\tonPreProcess: function (dependency) {\n\t\t\t\tfunction reject() {\n\t\t\t\t\tdfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id, arguments))\n\t\t\t\t}\n\t\t\t\tvar type, match, pledges, temp, i, source = dependency.source,\n\t\t\t\t\tdfd = dependency.dfd,\n\t\t\t\t\tdependencies = settings[dependency.path];\n\t\t\t\tdependency.enqueue = FALSE;\n\t\t\t\tif (dependencies && (type = getType(dependencies))) {\n\t\t\t\t\twhile (match = regexMatchSourcemap.exec(source)) source = source.replace(match[0], \"\");\n\t\t\t\t\tdependency.source = source;\n\t\t\t\t\tpledges = [];\n\t\t\t\t\tfor (i = 0; temp = dependencies[i]; i++) pledges.push(ClassDependency.resolve(MOCK_PREFIX + temp)\n\t\t\t\t\t\t.pledge);\n\t\t\t\t\tClassPledge.all(pledges)\n\t\t\t\t\t\t.then(function () {\n\t\t\t\t\t\t\tpledges.length = 0;\n\t\t\t\t\t\t\tfor (i = 0; temp = dependencies[i]; i++) {\n\t\t\t\t\t\t\t\t(temp = dependencies[i] = ClassDependency.get(temp) || new ClassDependency(temp))\n\t\t\t\t\t\t\t\t.handler = arguments[i];\n\t\t\t\t\t\t\t\tpledges.push(temp.pledge)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (\"module\" === type) {\n\t\t\t\t\t\t\t\tqueue.enqueue.apply(queue, dependencies);\n\t\t\t\t\t\t\t\thandlerModule.process(dependency)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\thandlerModule.process(dependency);\n\t\t\t\t\t\t\t\tqueue.enqueue.apply(queue, dependencies)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tClassPledge.all(pledges)\n\t\t\t\t\t\t\t\t.then(dfd.resolve, reject)\n\t\t\t\t\t\t}, reject)\n\t\t\t\t} else reject()\n\t\t\t}\n\t\t};\n\t\treturn new(HandlerBundle.extends(abstractHandler))\n\t}();\n\thandlerComponent = function () {\n\t\tfunction HandlerComponent() {}\n\t\tvar suffix = \".html\",\n\t\t\tregexMatchType = /^text\\/.+$/;\n\t\tHandlerComponent.prototype = {\n\t\t\tvalidate: function (type) {\n\t\t\t\treturn regexMatchType.test(type)\n\t\t\t},\n\t\t\tonPreRequest: function (dependency) {\n\t\t\t\tvar pathname = dependency.url.pathname;\n\t\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname\n\t\t\t},\n\t\t\tonPostRequest: function (dependency) {\n\t\t\t\tdependency.source = functionResolveSourcemaps(dependency.url, dependency.source)\n\t\t\t},\n\t\t\tonPreProcess: function (dependency) {\n\t\t\t\tfunction reject() {\n\t\t\t\t\tdfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id, arguments))\n\t\t\t\t}\n\t\t\t\tvar node, handler, path, uri, context = dependency.path,\n\t\t\t\t\tdfd = dependency.dfd,\n\t\t\t\t\tcontainer = document.createElement(\"body\"),\n\t\t\t\t\tmodules = [],\n\t\t\t\t\tpledges = [];\n\t\t\t\tdependency.enqueue = FALSE;\n\t\t\t\tcontainer.innerHTML = dependency.source;\n\t\t\t\twhile (node = container.firstElementChild)\n\t\t\t\t\tif (handler = node.getAttribute(\"type\")) {\n\t\t\t\t\t\turi = handler + \"!\" + context + ((path = node.getAttribute(\"path\")) ? \"/\" + path : \"\");\n\t\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t\t\tmodules.push({\n\t\t\t\t\t\t\tsource: node.textContent,\n\t\t\t\t\t\t\turi: uri\n\t\t\t\t\t\t});\n\t\t\t\t\t\tpledges.push(ClassDependency.resolve(\"mock:\" + uri)\n\t\t\t\t\t\t\t.pledge)\n\t\t\t\t\t}\n\t\t\t\tClassPledge.all(pledges)\n\t\t\t\t\t.then(function () {\n\t\t\t\t\t\tvar module, dependency, i = 0;\n\t\t\t\t\t\tpledges.length = 0;\n\t\t\t\t\t\tfor (; module = modules[i]; i++) {\n\t\t\t\t\t\t\t(dependency = ClassDependency.get(module.uri) || new ClassDependency(module.uri))\n\t\t\t\t\t\t\t.source = functionResolveSourcemaps(dependency.url, module.source);\n\t\t\t\t\t\t\tdependency.handler = arguments[i];\n\t\t\t\t\t\t\tpledges.push(dependency.pledge);\n\t\t\t\t\t\t\tqueue.enqueue(dependency)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tClassPledge.all(pledges)\n\t\t\t\t\t\t\t.then(dfd.resolve, reject)\n\t\t\t\t\t}, reject)\n\t\t\t}\n\t\t};\n\t\treturn new(HandlerComponent.extends(abstractHandler))\n\t}();\n\tpluginGenie = function () {\n\t\tfunction matchPattern(path) {\n\t\t\tfor (var pointer, match, i = 0; pointer = pattern[i]; i++)\n\t\t\t\tif (0 === path.indexOf(pointer.prefix) && (!match || pointer.weight > match.weight)) match = pointer;\n\t\t\treturn match\n\t\t}\n\n\t\tfunction generateConfiguration(bundle) {\n\t\t\tvar pointer, dependency, matches = bundle.matches,\n\t\t\t\tconfiguration = {\n\t\t\t\t\tpattern: {},\n\t\t\t\t\tmodules: {\n\t\t\t\t\t\t\"/demand/handler/bundle\": {}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ti = 0;\n\t\t\tconfiguration.pattern[bundle.id] = bundle.fn(matches);\n\t\t\tconfiguration.modules[MODULE_PREFIX_HANDLER + \"bundle\"][bundle.id] = pointer = [];\n\t\t\tfor (; dependency = matches[i]; i++) pointer.push(dependency.path);\n\t\t\treturn configuration\n\t\t}\n\n\t\tfunction resolveDependencies() {\n\t\t\tfor (var dependency, i = 0; dependency = this[i]; i++) dependency.dfd.resolve(arguments[i])\n\t\t}\n\n\t\tfunction rejectDependencies() {\n\t\t\tfor (var dependency, i = 0; dependency = this[i]; i++) dependency.dfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id))\n\t\t}\n\n\t\tfunction addPattern(property, value) {\n\t\t\tpattern.push({\n\t\t\t\tprefix: property,\n\t\t\t\tweight: property.length,\n\t\t\t\tfn: value\n\t\t\t})\n\t\t}\n\n\t\tfunction resolveBundles(property, value) {\n\t\t\tvar dependency, matches = value.matches,\n\t\t\t\ti = 0;\n\t\t\tif (matches.length > 1) {\n\t\t\t\tvalue.id = path + \"/\" + functionHash(JSON.stringify(value.matches));\n\t\t\t\tfor (; dependency = matches[i]; i++) matches[i] = new ClassDependency(dependency.uri);\n\t\t\t\tdemand.configure(generateConfiguration(value));\n\t\t\t\tdemand(\"bundle!\" + value.id)\n\t\t\t\t\t.then(resolveDependencies.bind(matches), rejectDependencies.bind(matches))\n\t\t\t}\n\t\t}\n\t\tvar path = MODULE_PREFIX_PLUGIN + \"genie\",\n\t\t\tpattern = [];\n\t\tdemand.on(EVENT_POST_CONFIGURE + \":\" + path, function (options) {\n\t\t\t\tif (validatorIsObject(options)) {\n\t\t\t\t\tpattern.length = 0;\n\t\t\t\t\tfunctionIterate(options, addPattern)\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on(EVENT_PRE_RESOLVE, function (dependencies, context) {\n\t\t\t\tfor (var dependency, pattern, bundles = {}, i = 0; dependency = dependencies[i]; i++)\n\t\t\t\t\tif (validatorIsTypeOf(dependency, STRING_STRING) && !regexMatchInternal.test(dependency) && !ClassDependency.get(dependency, context))\n\t\t\t\t\t\tif (\"module\" === (dependency = new ClassDependency(dependency, context, FALSE))\n\t\t\t\t\t\t\t.type && (pattern = matchPattern(dependency.path)) && !singletonCache.get(dependency))(bundles[pattern.prefix] || (bundles[pattern.prefix] = {\n\t\t\t\t\t\t\t\tfn: pattern.fn,\n\t\t\t\t\t\t\t\tmatches: []\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t.matches.push(dependency);\n\t\t\t\tfunctionIterate(bundles, resolveBundles)\n\t\t\t});\n\t\treturn TRUE\n\t}();\n\tqueue = new ClassQueue;\n\tprocessor = new ClassProcessor(queue);\n\tassignModule(MODULE_PREFIX_ABSTRACT + \"uuid\", AbstractUuid);\n\tassignModule(MODULE_PREFIX_ABSTRACT + \"handler\", abstractHandler);\n\tassignModule(MODULE_PREFIX_HANDLER + \"module\", handlerModule);\n\tassignModule(MODULE_PREFIX_HANDLER + \"bundle\", handlerBundle);\n\tassignModule(MODULE_PREFIX_HANDLER + \"component\", handlerComponent);\n\tassignModule(MODULE_PREFIX_PLUGIN + \"genie\", pluginGenie);\n\tassignModule(MODULE_PREFIX_VALIDATOR + \"isTypeOf\", validatorIsTypeOf);\n\tassignModule(MODULE_PREFIX_VALIDATOR + \"isArray\", validatorIsArray);\n\tassignModule(MODULE_PREFIX_VALIDATOR + \"isObject\", validatorIsObject);\n\tassignModule(MODULE_PREFIX_VALIDATOR + \"isInstanceOf\", validatorIsInstanceOf);\n\tassignModule(MODULE_PREFIX_FUNCTION + \"resolveUrl\", functionResolveUrl);\n\tassignModule(MODULE_PREFIX_FUNCTION + \"resolveSourcemaps\", functionResolveSourcemaps);\n\tassignModule(MODULE_PREFIX_FUNCTION + \"merge\", functionMerge);\n\tassignModule(MODULE_PREFIX_FUNCTION + \"iterate\", functionIterate);\n\tassignModule(MODULE_PREFIX_FUNCTION + \"hash\", functionHash);\n\tassignModule(MODULE_PREFIX_FUNCTION + \"defer\", functionDefer);\n\tassignModule(MODULE_PREFIX_FUNCTION + \"uuid\", functionUuid);\n\tassignModule(MODULE_PREFIX + \"weakmap\", ClassWeakmap);\n\tassignModule(MODULE_PREFIX + \"descriptor\", ClassDescriptor);\n\tassignModule(MODULE_PREFIX + \"pledge\", ClassPledge);\n\tassignModule(MODULE_PREFIX + \"queue\", ClassQueue);\n\tassignModule(MODULE_PREFIX + \"xhr\", ClassXhr);\n\tassignModule(MODULE_PREFIX + \"failure\", ClassFailure);\n\tif (options && options.main) switch (typeof options.main) {\n\tcase STRING_STRING:\n\t\tdemand(options.main);\n\t\tbreak;\n\tcase STRING_FUNCTION:\n\t\tprovide(\"main\", options.main())\n\t}\n})(\"demand-loader\" === this.name ? parent : this, setTimeout, clearTimeout);\n"]}