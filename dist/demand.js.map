{"version":3,"sources":["demand.js","class/descriptor.js","validator/isTypeOf.js","validator/isObject.js","validator/isPositive.js","validator/isInstanceOf.js","function/iterate.js","function/toArray.js","function/getTimestamp.js","function/resolveUrl.js","function/resolvePath.js","function/resolveId.js","abstract/uuid.js","class/registry.js","class/failure.js","class/loader.js","validator/isArray.js","function/hash.js","class/queue.js","class/processor.js","function/resolveSourcemaps.js","class/Failure.js","shortcuts.js","constants.js","inheritance.js","function/merge.js","function/uuid.js","function/defer.js","singleton/event.js","function/escapeRegex.js","variables.js","singleton/cache.js","class/pledge.js","class/dependency.js","class/pattern.js","class/xhr.js","function/demand.js","function/provide.js","abstract/handler.js","handler/module.js","handler/bundle.js","handler/component.js","plugin/genie.js"],"names":["global","document","options","setTimeout","clearTimeout","ClassDescriptor","value","writable","configurable","enumerable","__proto__","NULL","validatorIsTypeOf","object","type","validatorIsObject","STRING_OBJECT","validatorIsPositive","STRING_NUMBER","isFinite","Math","floor","validatorIsInstanceOf","module","functionIterate","source","callback","context","property","properties","keys","i","UNDEFINED","call","FALSE","functionToArray","arrayLikeObject","start","end","arrayPrototypeSlice","functionGetTimestamp","Date","functionResolveUrl","url","linkElement","href","functionResolvePath","uri","path","replace","regexMatchParameter","regexIsAbsolutePath","test","regexIsAbsoluteUri","regexMatchBaseUrl","functionResolveId","parameter","match","settings","handler","AbstractUuid","this","uuid","STRING_UNDEFINED","objectDefineProperty","functionUuid","ClassRegistry","self","storage","ClassFailure","message","stack","ClassLoader","dependency","resolve","response","validate","dfd","reject","ERROR_LOAD","id","singletonEvent","emit","EVENT_POST_REQUEST","status","load","location","createElement","pattern","process","EVENT_PRE_REQUEST","ClassXhr","then","matches","weight","validatorIsArray","objectPrototypeToString","functionHash","input","length","charCodeAt","ClassQueue","ClassProcessor","queue","pointer","current","demand","on","EVENT_QUEUE_ENQUEUE","functionResolveSourcemaps","replacement","regexMatchSourcemap","exec","protocol","host","pathname","assignModule","provide","processor","version","cache","timeout","modules","arrayPrototype","Array","prototype","slice","arrayPrototypeConcat","concat","Object","objectPrototype","toString","objectCreate","create","defineProperty","objectGetOwnPropertyNames","getOwnPropertyNames","objectGetOwnPropertyDescriptor","getOwnPropertyDescriptor","functionPrototype","Function","MODULE_PREFIX_HANDLER","MODULE_PREFIX","MOCK_PREFIX","undefined","TRUE","STRING_STRING","STRING_FUNCTION","FUNCTION_EMPTY","EVENT_PRE_CONFIGURE","EVENT_PREFIX","EVENT_POST_CONFIGURE","EVENT_POSTFIX","EVENT_PRE_RESOLVE","EVENT_POST_RESOLVE","EVENT_QUEUE","ERROR_RESOLVE","extend","parent","names","constructor","functionMerge","mergeProperties","targetPropertyIsObject","targetProperty","target","arguments","randomize","character","r","random","regex","RegExp","functionDefer","element","fallback","hasSetImmediate","fn","MutationObserver","observe","attributes","setAttribute","onMessage","event","data","addEventListener","postMessage","onreadystatechange","parentNode","removeChild","body","appendChild","setImmediate","addListener","events","split","shift","regexMatchEvent","listener","after","push","filter","TYPE_ON","Event","item","apply","functionEscapeRegex","regexMatchInternal","singletonCache","enabled","indexOf","state","getKey","key","localStorage","getItem","setKey","getState","regexMatchProperties","setState","join","Cache","clear","expired","bind","regexMatchState","supportsLocalStorage","exception","supportsRemainingSpace","EVENT_CACHE","cacheDispose","set","get","STORAGE_PREFIX","lifetime","spaceBefore","remainingSpace","Error","error","ClassDependency","all","ClassPledge","handle","PLEDGE_RESOLVED","PLEDGE_REJECTED","result","PLEDGE_PENDING","pledge","index","resolved","count","check","rejected","total","executor","catch","always","alwaysListener","resolveListener","rejectListener","defer","isPending","isResolved","isRejected","pledges","race","extends","remove","DEMAND_ID","traverse","depth","indention","setProperty","addPending","addResolved","addRejected","register","placeholder","mock","registry","enqueue","isInternal","node","querySelector","list","pending","ClassPattern","regexMatchTrailingSlash","XMLHttpRequest","checkState","readyState","abort","XDomainRequest","xhr","boundCheckState","ontimeout","onerror","onabort","onprogress","onload","responseText","getResponseHeader","open","send","updateCacheSettings","updatePatternSettings","updateModuleSettings","temp","dependencies","configure","base","min","max","onPostRequest","EVENT_CACHE_HIT","onPreRequest","onPreProcess","isFunction","definition","console","/demand","dequeue","abstractHandler","AbstractHandler","handlerModule","HandlerModule","getElementsByTagName","regexMatchType","script","async","text","handlerBundle","updateDependencies","getType","HandlerBundle","handlerComponent","HandlerComponent","container","innerHTML","firstElementChild","getAttribute","textContent","pluginGenie","matchPattern","prefix","generateConfiguration","bundle","configuration","/demand/handler/bundle","resolveDependencies","rejectDependencies","addPattern","resolveBundles","JSON","stringify","MODULE_PREFIX_PLUGIN","bundles","MODULE_PREFIX_ABSTRACT","MODULE_PREFIX_VALIDATOR","MODULE_PREFIX_FUNCTION","main"],"mappings":"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","file":"demand.js","sourcesContent":["/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tMODULE_PREFIX, MODULE_PREFIX_HANDLER, MODULE_PREFIX_VALIDATOR, MODULE_PREFIX_PLUGIN, MODULE_PREFIX_FUNCTION, MODULE_PREFIX_ABSTRACT, STRING_STRING, STRING_FUNCTION, TRUE,\n\tvalidatorIsTypeOf, validatorIsArray, validatorIsObject, validatorIsInstanceOf,\n\tfunctionResolveUrl, functionResolveSourcemaps, functionMerge, functionIterate, functionDefer, functionHash, functionUuid,\n\tAbstractUuid, abstractHandler,\n\tClassDependency, ClassQueue, ClassProcessor, ClassPledge, ClassXhr, ClassFailure, ClassDescriptor,\n\thandlerModule, handlerBundle, handlerComponent,\n \tpluginGenie\n*/\n\n/*eslint no-unused-vars: [2, { \"vars\": \"local\", \"args\": \"none\" }]*/\n(function(global, document, options, setTimeout, clearTimeout) {\n\t'use strict';\n\n\t/* eslint-disable no-unused-vars */\n\tvar settings = { version: '1.0.0', cache: {}, timeout: 8000, pattern: {}, modules: {}, handler: 'module' },\n\t\tstorage  = {},\n\t\tqueue, processor;\n\t/* eslint-enable no-unused-vars */\n\n\t// include inheritance\n\t\t//=require inheritance.js\n\n\t// include main components\n\t\t//=require function/demand.js\n\t\t//=require function/provide.js\n\n\t// process initial configuration\n\t\tdemand.configure({ cache: TRUE, base: '/', pattern: { '/demand': functionResolveUrl(((options && options.url) || location.href) + '/../').slice(0, -1)} });\n\t\toptions && options.settings && demand.configure(options.settings);\n\n\t// include additional components\n\t\t//=require function/hash.js\n\t\t//=require class/queue.js\n\t\t//=require class/processor.js\n\t\t//=require handler/module.js\n\t\t//=require handler/bundle.js\n\t\t//=require handler/component.js\n\t\t//=require plugin/genie.js\n\n\t// initialize\n\t\tqueue     = new ClassQueue();\n\t\tprocessor = new ClassProcessor(queue);\n\n\t\tfunction assignModule(id, module) {\n\t\t\tprovide(id, function() { return module; });\n\t\t}\n\n\t\tassignModule(MODULE_PREFIX_ABSTRACT + 'uuid', AbstractUuid);\n\t\tassignModule(MODULE_PREFIX_ABSTRACT + 'handler', abstractHandler);\n\t\tassignModule(MODULE_PREFIX_HANDLER + 'module', handlerModule);\n\t\tassignModule(MODULE_PREFIX_HANDLER + 'bundle', handlerBundle);\n\t\tassignModule(MODULE_PREFIX_HANDLER + 'component', handlerComponent);\n\t\tassignModule(MODULE_PREFIX_PLUGIN + 'genie', pluginGenie);\n\t\tassignModule(MODULE_PREFIX_VALIDATOR + 'isTypeOf', validatorIsTypeOf);\n\t\tassignModule(MODULE_PREFIX_VALIDATOR + 'isArray', validatorIsArray);\n\t\tassignModule(MODULE_PREFIX_VALIDATOR + 'isObject', validatorIsObject);\n\t\tassignModule(MODULE_PREFIX_VALIDATOR + 'isInstanceOf', validatorIsInstanceOf);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'resolveUrl', functionResolveUrl);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'resolveSourcemaps', functionResolveSourcemaps);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'merge', functionMerge);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'iterate', functionIterate);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'hash', functionHash);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'defer', functionDefer);\n\t\tassignModule(MODULE_PREFIX_FUNCTION + 'uuid', functionUuid);\n\t\tassignModule(MODULE_PREFIX + 'descriptor', ClassDescriptor);\n\t\tassignModule(MODULE_PREFIX + 'pledge', ClassPledge);\n\t\tassignModule(MODULE_PREFIX + 'queue', ClassQueue);\n\t\tassignModule(MODULE_PREFIX + 'xhr', ClassXhr);\n\t\tassignModule(MODULE_PREFIX + 'failure', ClassFailure);\n\n\t\tif(options && options.main) {\n\t\t\tswitch(typeof options.main) {\n\t\t\t\tcase STRING_STRING:\n\t\t\t\t\tdemand(options.main);\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase STRING_FUNCTION:\n\t\t\t\t\tprovide('main', options.main());\n\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n}(this, document, 'demand' in this && demand, setTimeout, clearTimeout));","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tNULL\n*/\n\n//=require constants.js\n\nfunction ClassDescriptor(value, writable, configurable, enumerable) {\n\treturn {\n\t\t__proto__:    NULL,\n\t\tvalue:        value,\n\t\tenumerable:   !!enumerable,\n\t\tconfigurable: !!configurable,\n\t\twritable:     !!writable\n\t};\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage\n*/\n\n/**\n * isTypeOf\n *\n * Check whether a given object is of specified type\n *\n * @param object\n * @param {string} type\n *\n * @return {boolean}\n */\n\nfunction validatorIsTypeOf(object, type) {\n\treturn typeof object === type;\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tSTRING_OBJECT,\n\tvalidatorIsTypeOf\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n\n/**\n * isObject\n *\n * Check whether a given object is of type object\n *\n * @param object\n *\n * @return {boolean}\n */\n\nfunction validatorIsObject(object) {\n\treturn object && validatorIsTypeOf(object, STRING_OBJECT);\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tSTRING_NUMBER,\n\tvalidatorIsTypeOf\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n\n/**\n * isPositive\n *\n * Check whether a given value is a positive integer\n *\n * @param value\n *\n * @return {boolean}\n */\n\nfunction validatorIsPositive(value) {\n\treturn validatorIsTypeOf(value, STRING_NUMBER) && isFinite(value) && Math.floor(value) === value && value >= 0;\n}","/**\n * isInstanceOf\n *\n * Check whether a given object is an instance of specified type\n *\n * @param object\n * @param module\n *\n * @return {boolean}\n */\nfunction validatorIsInstanceOf(object, module) {\n\treturn object instanceof module;\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tUNDEFINED, FALSE,\n\tobject\n*/\n\n//=require constants.js\n//=require shortcuts.js\n\n/**\n * iterate\n *\n * Iterate over enumerable & own properties of a given\n * object and pass current property as well as its value\n * to a callback function\n *\n * @param {object} object\n * @param {function} callback\n * @param context\n *\n * @return mixed\n */\n\nfunction functionIterate(source, callback, context) {\n\tvar properties = object.keys(source),\n\t\ti = 0, property;\n\n\tfor(; (property = properties[i]) !== UNDEFINED; i++) {\n\t\tif(callback.call(context, property, source[property]) === FALSE) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn context;\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tarrayPrototypeSlice\n*/\n\n//=require shortcuts.js\n\nfunction functionToArray(arrayLikeObject, start, end) {\n\treturn arrayPrototypeSlice.call(arrayLikeObject, start, end);\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage\n*/\n\nfunction functionGetTimestamp() {\n\treturn +new Date();\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tlinkElement\n*/\n\n//=require shortcuts.js\n\nfunction functionResolveUrl(url) {\n\tlinkElement.href = url;\n\n\treturn linkElement.href;\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tregexMatchParameter, regexMatchBaseUrl, regexIsAbsolutePath, regexIsAbsoluteUri,\n\tfunctionResolveUrl\n*/\n\n//=require variables.js\n//=require function/resolveUrl.js\n\nfunction functionResolvePath(uri, context) {\n\tvar path = uri.replace(regexMatchParameter, '');\n\n\tif(!regexIsAbsolutePath.test(path) && !regexIsAbsoluteUri.test(path)) {\n\t\tpath = '/' + functionResolveUrl(((context && functionResolveUrl(context + '/../')) || '/') + path).replace(regexMatchBaseUrl, '');\n\t}\n\n\treturn path;\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tregexMatchParameter,\n\tfunctionResolvePath\n*/\n\n//=require variables.js\n//=require function/resolvePath.js\n\nfunction functionResolveId(uri, context) {\n\tvar parameter = uri.match(regexMatchParameter);\n\n\treturn ((parameter && parameter[1]) ? 'mock:' : '') + ((parameter && parameter[3]) || settings.handler) + '!' + functionResolvePath(uri, context);\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tSTRING_UNDEFINED,\n\tobjectDefineProperty,\n\tvalidatorIsTypeOf,\n\tfunctionUuid,\n\tClassDescriptor\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require validator/isTypeOf.js\n//=require function/uuid.js\n//=require class/descriptor.js\n\nfunction AbstractUuid() {\n\tif(validatorIsTypeOf(this.uuid, STRING_UNDEFINED)) {\n\t\tobjectDefineProperty(this, 'uuid', new ClassDescriptor(functionUuid()));\n\t}\n\n\treturn this;\n}\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tAbstractUuid\n*/\n\n//=require abstract/uuid.js\n\nfunction ClassRegistry() {\n\tvar self = AbstractUuid.call(this);\n\n\tstorage[self.uuid] = {};\n\t\n\treturn self;\n}\n\nClassRegistry.prototype = {\n\tget: function(key) {\n\t\treturn key ? storage[this.uuid][key] : storage[this.uuid];\n\t},\n\tset: function(key, value) {\n\t\tstorage[this.uuid][key] = value;\n\t},\n\tremove: function(key) {\n\t\tdelete storage[this.uuid][key];\n\t}\n};\n\nClassRegistry.extends(AbstractUuid);","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tDEMAND_ID,\n\tfunctionToArray\n*/\n\n//=require constants.js\n//=require function/toArray.js\n\nfunction ClassFailure(message, module, stack) {\n\tvar self = this;\n\t\n\tself.message = message;\n\t\t\n\tmodule && (self.module = module);\n\tstack && (self.stack = functionToArray(stack));\n\t\n\treturn self;\n}\n\t\nClassFailure.prototype = {\n\t/* only for reference\n\t message: NULL,\n\t module:  NULL,\n\t stack:   NULL,\n\t */\n\ttoString: function() {\n\t\tvar self   = this,\n\t\t\tresult = DEMAND_ID + ': ' + self.message + ' ' + (self.module ? '\"' + self.module + '\"' : '');\n\n\t\tif(self.stack) {\n\t\t\tresult = ClassFailure.traverse(self.stack, result, 1);\n\t\t}\n\t\t\t\n\t\treturn result;\n\t}\n};\n\t\nClassFailure.traverse = function(stack, value, depth) {\n\tvar indention = new Array(depth + 1).join(' '),\n\t\ti = 0, item;\n\t\t\n\tfor(; item = stack[i]; i++) {\n\t\tvalue += '\\n' + indention + '> ' + item.message + ' ' + (item.module ? '\"' + item.module + '\"' : '');\n\t\t\t\n\t\tif(item.stack) {\n\t\t\tvalue = ClassFailure.traverse(item.stack, value, depth + 1);\n\t\t}\n\t}\n\t\t\n\treturn value;\n};","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tDEMAND_ID, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, ERROR_LOAD,\n\tregexIsAbsoluteUri,\n\tlinkElement,\n\tfunctionIterate, functionResolveUrl,\n\tClassXhr, ClassFailure,\n\tsingletonEvent\n*/\n\n//=require constants.js\n//=require variables.js\n//=require shortcuts.js\n//=require function/resolveUrl.js\n//=require function/iterate.js\n//=require singleton/event.js\n//=require class/xhr.js\n//=require class/failure.js\n\nfunction ClassLoader(dependency) {\n\tvar pattern;\n\n\tfunction resolve(response, type) {\n\t\tif(!type || !dependency.handler.validate || dependency.handler.validate(type)) {\n\t\t\tdependency.source = response;\n\n\t\t\tsingletonEvent.emit(EVENT_POST_REQUEST, dependency.type, dependency);\n\t\t} else {\n\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + ' (content-type)', dependency.id));\n\t\t}\n\t}\n\n\tfunction reject(status) {\n\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + (status ? ' (status)' : ''), dependency.id));\n\t}\n\n\tfunction load(location) {\n\t\tlocation       = location || 0;\n\t\tdependency.url = document.createElement('a');\n\t\t\n\t\tdependency.url.href = pattern ? functionResolveUrl(pattern.process(dependency.path, location)) : dependency.path;\n\n\t\tsingletonEvent.emit(EVENT_PRE_REQUEST, dependency.type, dependency);\n\n\t\tnew ClassXhr(dependency.url).then(\n\t\t\tresolve,\n\t\t\t(\n\t\t\t\tpattern ?\n\t\t\t\tfunction() {\n\t\t\t\t\tlocation++;\n\n\t\t\t\t\tif(pattern.location[location]) {\n\t\t\t\t\t\tload(location);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t:\n\t\t\t\treject\n\t\t\t)\n\t\t);\n\t}\n\n\tif(!regexIsAbsoluteUri.test(dependency.path)) {\n\t\tfunctionIterate(settings.pattern, function(property, value) {\n\t\t\tvalue.matches(dependency.path) && (!pattern || pattern.weight < value.weight) && (pattern = value);\n\t\t});\n\t}\n\n\tload();\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tobjectPrototypeToString\n*/\n\n//=require shortcuts.js\n\n/**\n * isArray\n *\n * Check whether a given value is of type array\n *\n * @param value\n *\n * @return {boolean}\n */\n\nfunction validatorIsArray(value) {\n\treturn objectPrototypeToString.call(value) === '[object Array]';\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage\n*/\n\n/**\n * hash\n *\n * Generate a hash for a given string\n *\n * @param {string} input\n *\n * @return {number}\n */\nfunction functionHash(input){\n\tvar value = 5381,\n\t\ti     = input.length;\n\n\twhile(i) {\n\t\tvalue = (value * 33) ^ input.charCodeAt(--i);\n\t}\n\n\treturn value >>> 0;\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tEVENT_QUEUE_ENQUEUE, EVENT_QUEUE_DEQUEUE,\n\tfunctionToArray,\n\tsingletonEvent,\n\tAbstractUuid\n*/\n\n//=require constants.js\n//=require function/toArray.js\n//=require singleton/event.js\n//=require abstract/uuid.js\n\nfunction ClassQueue() {\n\tvar self = AbstractUuid.call(this);\n\n\tstorage[self.uuid] = [];\n\t\n\treturn self;\n}\n\t\nClassQueue.prototype = {\n\tenqueue: function() {\n\t\tstorage[this.uuid] = storage[this.uuid].concat(functionToArray(arguments));\n\n\t\tsingletonEvent.emit(EVENT_QUEUE_ENQUEUE, this.uuid);\n\t},\n\tdequeue: function() {\n\t\tsingletonEvent.emit(EVENT_QUEUE_DEQUEUE, this.uuid);\n\n\t\treturn storage[this.uuid].shift();\n\t},\n\tget current() {\n\t\treturn storage[this.uuid][0];\n\t},\n\tget length() {\n\t\treturn storage[this.uuid].length;\n\t}\n};\n\t\nClassQueue.extends(AbstractUuid);","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tEVENT_QUEUE_ENQUEUE, NULL,\n\tsingletonEvent,\n\tAbstractUuid\n*/\n\n//=require constants.js\n//=require abstract/uuid.js\n\nfunction ClassProcessor(queue) {\n\tvar self    = AbstractUuid.call(this),\n\t\tpointer = storage[self.uuid] = { queue: queue, current: NULL };\n\n\tdemand\n\t\t.on(EVENT_QUEUE_ENQUEUE + ':' + queue.uuid, function() {\n\t\t\t!pointer.current && self.process();\n\t\t});\n\t\n\treturn self;\n}\n\nClassProcessor.prototype = {\n\tprocess: function() {\n\t\tvar pointer = storage[this.uuid],\n\t\t\tcurrent;\n\n\t\tif(pointer.queue.length) {\n\t\t\tcurrent = pointer.current = pointer.queue.dequeue();\n\n\t\t\tcurrent.handler.process && current.handler.process(current);\n\t\t} else {\n\t\t\tpointer.current = NULL;\n\t\t}\n\t},\n\tget current() {\n\t\treturn storage[this.uuid].current;\n\t}\n};\n\t\nClassProcessor.extends(AbstractUuid);","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tregexMatchSourcemap, regexIsAbsoluteUri\n\tlinkElement\n*/\n\n//=require variables.js\n//=require shortcuts.js\n\nfunction functionResolveSourcemaps(url, source) {\n\tvar match, replacement;\n\t\n\twhile(match = regexMatchSourcemap.exec(source)) {\n\t\tlinkElement.href = url;\n\t\t\n\t\tif(regexIsAbsoluteUri.test(match[2])) {\n\t\t\treplacement = linkElement.protocol + '//' + linkElement.host + match[3];\n\t\t} else {\n\t\t\tlinkElement.pathname += '/../' + match[3];\n\t\t\t\n\t\t\treplacement = linkElement.protocol + '//' + linkElement.host + linkElement.pathname;\n\t\t}\n\t\t\n\t\tsource = source.replace(match[0], match[1] + ' ' + match[2] + '=' + replacement + '.map' + (match[4] ? ' ' + match[4] : ''));\n\t}\n\t\n\treturn source;\n}","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tDEMAND_ID,\n\tfunctionToArray\n*/\n\n//=require constants.js\n//=require function/toArray.js\n\nfunction ClassFailure(message, module, stack) {\n\tvar self = this;\n\t\n\tself.message = message;\n\t\t\n\tmodule && (self.module = module);\n\tstack && (self.stack = functionToArray(stack));\n\t\n\treturn self;\n}\n\t\nClassFailure.prototype = {\n\t/* only for reference\n\t message: NULL,\n\t module:  NULL,\n\t stack:   NULL,\n\t */\n\ttoString: function() {\n\t\tvar self   = this,\n\t\t\tresult = DEMAND_ID + ': ' + self.message + ' ' + (self.module ? '\"' + self.module + '\"' : '');\n\n\t\tif(self.stack) {\n\t\t\tresult = ClassFailure.traverse(self.stack, result, 1);\n\t\t}\n\t\t\t\n\t\treturn result;\n\t}\n};\n\t\nClassFailure.traverse = function(stack, value, depth) {\n\tvar indention = new Array(depth + 1).join(' '),\n\t\ti = 0, item;\n\t\t\n\tfor(; item = stack[i]; i++) {\n\t\tvalue += '\\n' + indention + '> ' + item.message + ' ' + (item.module ? '\"' + item.module + '\"' : '');\n\t\t\t\n\t\tif(item.stack) {\n\t\t\tvalue = ClassFailure.traverse(item.stack, value, depth + 1);\n\t\t}\n\t}\n\t\t\n\treturn value;\n};","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage\n*/\n\nvar arrayPrototype                 = Array.prototype,\n\tarrayPrototypeSlice            = arrayPrototype.slice,\n\tarrayPrototypeConcat           = arrayPrototype.concat,\n\tobject                         = Object,\n\tobjectPrototype                = object.prototype,\n\tobjectPrototypeToString        = objectPrototype.toString,\n\tobjectCreate                   = object.create,\n\tobjectDefineProperty           = object.defineProperty,\n\tobjectGetOwnPropertyNames      = object.getOwnPropertyNames,\n\tobjectGetOwnPropertyDescriptor = object.getOwnPropertyDescriptor,\n\tfunctionPrototype              = Function.prototype,\n\tlinkElement                    = document.createElement('a');","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage\n*/\n\nvar DEMAND_ID               = 'demand',\n\tPROVIDE_ID              = 'provide',\n\tPATH_ID                 = 'path',\n\tMODULE_PREFIX           = '/' + DEMAND_ID + '/',\n\tMODULE_PREFIX_ABSTRACT  = MODULE_PREFIX + 'abstract/',\n\tMODULE_PREFIX_HANDLER   = MODULE_PREFIX + 'handler/',\n\tMODULE_PREFIX_PLUGIN    = MODULE_PREFIX + 'plugin/',\n\tMODULE_PREFIX_FUNCTION  = MODULE_PREFIX + 'function/',\n\tMODULE_PREFIX_VALIDATOR = MODULE_PREFIX + 'validator/',\n\tMOCK_PREFIX             = 'mock:',\n\tNULL                    = null,\n\tUNDEFINED               = undefined,\n\tFALSE                   = false,\n\tTRUE                    = true,\n\tSTRING_UNDEFINED        = 'undefined',\n\tSTRING_STRING           = 'string',\n\tSTRING_BOOLEAN          = 'boolean',\n\tSTRING_OBJECT           = 'object',\n\tSTRING_FUNCTION         = 'function',\n\tSTRING_NUMBER           = 'number',\n\tFUNCTION_EMPTY          = function() {},\n\tEVENT_PREFIX            = 'pre',\n\tEVENT_POSTFIX           = 'post',\n\tEVENT_CONFIGURE         = 'Configure',\n\tEVENT_PRE_CONFIGURE     = EVENT_PREFIX + EVENT_CONFIGURE,\n\tEVENT_POST_CONFIGURE    = EVENT_POSTFIX + EVENT_CONFIGURE,\n\tEVENT_CACHE             = 'cache',\n\tEVENT_CACHE_MISS        = EVENT_CACHE + 'Miss',\n\tEVENT_CACHE_HIT         = EVENT_CACHE + 'Hit',\n\tEVENT_CACHE_CLEAR       = EVENT_CACHE + 'Clear',\n\tEVENT_CACHE_EXCEED      = EVENT_CACHE + 'Exceed',\n\tEVENT_PRE_CACHE         = EVENT_PREFIX + 'Cache',\n\tEVENT_POST_CACHE        = EVENT_POSTFIX + 'Cache',\n\tEVENT_RESOLVE           = 'Resolve',\n\tEVENT_PRE_RESOLVE       = EVENT_PREFIX + EVENT_RESOLVE,\n\tEVENT_POST_RESOLVE      = EVENT_POSTFIX + EVENT_RESOLVE,\n\tEVENT_REQUEST           = 'Request',\n\tEVENT_PRE_REQUEST       = EVENT_PREFIX + EVENT_REQUEST,\n\tEVENT_POST_REQUEST      = EVENT_POSTFIX + EVENT_REQUEST,\n\tEVENT_PROCESS           = 'Process',\n\tEVENT_PRE_PROCESS       = EVENT_PREFIX + EVENT_PROCESS,\n\tEVENT_POST_PROCESS      = EVENT_POSTFIX + EVENT_PROCESS,\n\tEVENT_QUEUE             = 'queue',\n\tEVENT_QUEUE_ENQUEUE     = EVENT_QUEUE + 'Enqueue',\n\tEVENT_QUEUE_DEQUEUE     = EVENT_QUEUE + 'Dequeue',\n\tERROR_LOAD              = 'error loading',\n\tERROR_PROVIDE           = 'error providing',\n\tERROR_RESOLVE           = 'error resolving',\n\tERROR_PROVIDE_ANONYMOUS = 'unspecified anonymous provide';","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tobjectCreate, objectDefineProperty, objectGetOwnPropertyNames, objectGetOwnPropertyDescriptor, functionPrototype,\n\tClassDescriptor\n*/\n\n//=require shortcuts.js\n//=require class/descriptor.js\n\n(function() {\n\tfunction extend(parent) {\n\t\tvar self       = this,\n\t\t\tprototype  = self.prototype,\n\t\t\tproperties = {},\n\t\t\tnames      = objectGetOwnPropertyNames(prototype),\n\t\t\ti = 0, property;\n\n\t\tfor(; (property = names[i]); i++) {\n\t\t\tproperties[property] = objectGetOwnPropertyDescriptor(prototype, property);\n\t\t}\n\n\t\tproperties.constructor = new ClassDescriptor(self);\n\t\tself.prototype         = objectCreate(parent.prototype || parent, properties);\n\n\t\treturn self;\n\t}\n\n\tobjectDefineProperty(functionPrototype, 'extends', new ClassDescriptor(extend));\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tUNDEFINED,\n\tvalidatorIsObject,\n\tfunctionIterate\n*/\n\n//=require constants.js\n//=require validator/isObject.js\n//=require function/iterate.js\n\n/**\n * merge\n *\n * Merge two or more objects into the first one passed in\n *\n * @param {...object} object\n *\n * @return {object}\n */\nvar functionMerge = (function() {\n\tfunction mergeProperties(property, value) {\n\t\tvar targetProperty = this[property],\n\t\t\ttargetPropertyIsObject;\n\n\t\tif(value !== UNDEFINED) {\n\t\t\tif(validatorIsObject(value)) {\n\t\t\t\ttargetPropertyIsObject = validatorIsObject(targetProperty);\n\n\t\t\t\tif(value.length !== UNDEFINED) {\n\t\t\t\t\ttargetProperty = (targetPropertyIsObject && targetProperty.length !== UNDEFINED) ? targetProperty : [];\n\t\t\t\t} else {\n\t\t\t\t\ttargetProperty = (targetPropertyIsObject && targetProperty.length === UNDEFINED) ? targetProperty : {};\n\t\t\t\t}\n\n\t\t\t\tthis[property] = functionMerge(targetProperty, value);\n\t\t\t} else {\n\t\t\t\tthis[property] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn function functionMerge() {\n\t\tvar target = arguments[0],\n\t\t\ti = 1, properties;\n\n\t\tfor(; (properties = arguments[i]) !== UNDEFINED; i++) {\n\t\t\tfunctionIterate(properties, mergeProperties, target);\n\t\t}\n\n\t\treturn target;\n\t};\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage\n*/\n\nvar functionUuid = (function() {\n\tvar regex   = new RegExp('[xy]', 'g'),\n\t\tstorage = {};\n\n\tfunction randomize(character) {\n\t\tvar r = Math.random() * 16 | 0;\n\n\t\treturn ((character === 'x') ? r : (r & 0x3 | 0x8)).toString(16);\n\t}\n\n\treturn function functionUuid() {\n\t\tvar uuid;\n\n\t\tdo {\n\t\t\tuuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(regex, randomize);\n\t\t} while(storage[uuid]);\n\n\t\tstorage[uuid] = 1;\n\n\t\treturn uuid;\n\t};\n}());","/**\n * Based on setAsap:\n *   Repo:    https://github.com/taylorhakes/setAsap\n *   License: https://github.com/taylorhakes/setAsap/blob/master/LICENSE\n */\n\n/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tNULL, TRUE, FALSE,\n\tfunctionUuid\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require function/uuid.js\n\n/**\n * defer\n *\n * delay function execution like setImmediate does\n *\n * @param {function} function\n */\nvar functionDefer = (function() {\n\tvar hasSetImmediate = 'setImmediate' in global,\n\t\telement, fallback;\n\n\tif('MutationObserver' in global) {\n\t\treturn function functionDefer(fn) {\n\t\t\telement = document.createElement('div');\n\n\t\t\tnew MutationObserver(function() { fn(); })\n\t\t\t\t.observe(element, { attributes: TRUE });\n\n\t\t\telement.setAttribute('i', '1');\n\t\t};\n\t}\n\n\tif(!hasSetImmediate && 'postMessage' in global && !('importScripts' in global) && 'addEventListener' in global) {\n\t\treturn (function() {\n\t\t\tfunction onMessage(event) {\n\t\t\t\tif(event.source === global && event.data && storage[event.data]) {\n\t\t\t\t\tstorage[event.data]();\n\n\t\t\t\t\tdelete storage[event.data];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tglobal.addEventListener('message', onMessage, FALSE);\n\n\t\t\treturn function functionDefer(fn) {\n\t\t\t\tvar uuid = functionUuid();\n\n\t\t\t\tstorage[uuid] = fn;\n\n\t\t\t\tglobal.postMessage(uuid, '*');\n\t\t\t};\n\t\t}());\n\t}\n\n\tif(!hasSetImmediate && 'onreadystatechange' in (element = document.createElement('script'))) {\n\t\treturn function functionDefer(fn) {\n\t\t\telement.onreadystatechange = function onreadystatechange() {\n\t\t\t\telement.onreadystatechange = NULL;\n\t\t\t\telement.parentNode.removeChild(element);\n\n\t\t\t\tfn();\n\t\t\t};\n\n\t\t\tdocument.body.appendChild(element);\n\t\t};\n\t}\n\n\t/* eslint-disable no-undef */\n\tfallback = hasSetImmediate ? setImmediate : setTimeout;\n\t/* eslint-enable no-undef */\n\n\treturn function functionDefer(fn) {\n\t\tfallback(fn);\n\t};\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tNULL, STRING_STRING, STRING_FUNCTION, EVENT_POST_CONFIGURE,\n\tvalidatorIsTypeOf,\n\tfunctionToArray\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n//=require function/toArray.js\n\nvar singletonEvent = (function() {\n\tvar TYPE_ON         = 'on',\n\t\tTYPE_AFTER      = 'after',\n\t\tregexMatchEvent = /^cache(Miss|Hit|Clear|Exceed)|queue(En|De)queue|(pre|post)(Resolve|Configure|Request|Process|Cache)$/,\n\t\tlistener        = {};\n\n\tfunction addListener(type, events, callback) {\n\t\tvar event, pointer;\n\n\t\tif(validatorIsTypeOf(events, STRING_STRING) && validatorIsTypeOf(callback, STRING_FUNCTION)) {\n\t\t\tevents = events.split(' ');\n\n\t\t\twhile(event = events.shift()) {\n\t\t\t\tevent = event.split(':');\n\n\t\t\t\tif(regexMatchEvent.test(event[0])) {\n\t\t\t\t\t(listener[event[0]] || (listener[event[0]] = { on: [], after: [] }))[type].push({ callback: callback, filter: event[1] });\n\n\t\t\t\t\tif(type === TYPE_ON && event[0] === EVENT_POST_CONFIGURE && (pointer = settings.modules[event[1]])) {\n\t\t\t\t\t\tcallback(pointer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction Event() {}\n\n\tEvent.prototype = {\n\t\temit: function (event, filter) {\n\t\t\tvar pointer = listener[event],\n\t\t\t\tparameter, i, item;\n\n\t\t\tif(pointer) {\n\t\t\t\tparameter = functionToArray(arguments, 2);\n\n\t\t\t\tfor(i = 0; (item = pointer[TYPE_ON][i]); i++) {\n\t\t\t\t\tif(!item.filter || item.filter === filter) {\n\t\t\t\t\t\titem.callback.apply(NULL, parameter);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor(i = 0; (item = pointer[TYPE_AFTER][i]); i++) {\n\t\t\t\t\tif(!item.filter || item.filter === filter) {\n\t\t\t\t\t\titem.callback.apply(NULL, parameter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\t\ton: function(events, callback) {\n\t\t\taddListener(TYPE_ON, events,callback);\n\n\t\t\treturn this;\n\t\t},\n\t\tafter: function(events, callback) {\n\t\t\taddListener(TYPE_AFTER, events,callback);\n\n\t\t\treturn this;\n\t\t}\n\t};\n\n\treturn new Event();\n}());\n","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage\n*/\n\nvar functionEscapeRegex = (function() {\n\tvar regexMatchRegex = /[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g;\n\n\treturn function functionEscapeRegex(value) {\n\t\treturn value.replace(regexMatchRegex, '\\\\$&');\n\t};\n}());","/* global \n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tDEMAND_ID, PROVIDE_ID, PATH_ID,\n\tfunctionEscapeRegex, functionResolveUrl\n*/\n\n//=require constants.js\n//=require function/escapeRegex.js\n//=require function/resolveUrl.js\n\nvar regexIsAbsoluteUri  = /^(http(s?):)?\\/\\//i,\n\tregexIsAbsolutePath = /^\\//,\n\tregexMatchSourcemap = /((?:\\/\\/|\\/\\*)#)\\s*(sourceMappingURL)\\s*=\\s*(?!(?:http[s]?:)?\\/\\/)(.+?)\\.map(?:\\s+)?(\\*\\/)?/g,\n\tregexMatchBaseUrl   = new RegExp('^' + functionEscapeRegex(functionResolveUrl('/'))),\n\tregexMatchInternal  = new RegExp('^' + DEMAND_ID + '|' + PROVIDE_ID + '|' + PATH_ID + '$'),\n\tregexMatchParameter = /^(mock:)?([+-])?((?:[-\\w]+\\/?)+)?(?:@(.+?))?(?:#(\\d+))?!/;","/* global \n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tDEMAND_ID, FUNCTION_EMPTY, EVENT_POST_REQUEST, EVENT_POST_PROCESS, EVENT_CACHE_HIT, EVENT_CACHE_MISS, EVENT_CACHE_EXCEED, EVENT_CACHE_CLEAR, EVENT_PRE_CACHE, EVENT_PRE_CACHE, EVENT_POST_CACHE, STRING_STRING, NULL, FALSE, TRUE,\n\tvalidatorIsTypeOf,\n\tfunctionGetTimestamp, functionEscapeRegex, functionIterate, functionDefer, functionResolveId, functionToArray,\n\tClassDependency,\n\tsingletonEvent\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n//=require function/getTimestamp.js\n//=require function/escapeRegex.js\n//=require function/iterate.js\n//=require function/defer.js\n//=require function/resolveId.js\n//=require function/toArray.js\n//=require singleton/event.js\n\nvar singletonCache = (function() {\n\tvar STORAGE_PREFIX         = '[' + DEMAND_ID + ']',\n\t\tSTORAGE_SUFFIX_STATE   = '[state]',\n\t\tSTORAGE_SUFFIX_VALUE   = '[value]',\n\t\tregexMatchState        = new RegExp('^' + functionEscapeRegex(STORAGE_PREFIX) + '\\\\[(.+?)\\\\]' + functionEscapeRegex(STORAGE_SUFFIX_STATE) + '$'),\n\t\tregexMatchProperties   = /^(.+?),(\\d+),(\\d*),(.+?),(\\d+)$/,\n\t\tsupportsLocalStorage   = (function() { try { return 'localStorage' in global && global.localStorage; } catch(exception) { return FALSE; } }()),\n\t\tlocalStorage           = supportsLocalStorage ? global.localStorage : NULL,\n\t\tsupportsRemainingSpace = supportsLocalStorage && 'remainingSpace' in localStorage,\n\t\tstorage                = {},\n\t\tcache;\n\n\tsingletonEvent\n\t\t.on(EVENT_CACHE_MISS, function(dependency) {\n\t\t\tfunctionDefer(function() {\n\t\t\t\tcache.clear.path(dependency.id);\n\t\t\t});\n\t\t})\n\t\t.on(EVENT_CACHE_EXCEED, function(dependency) {\n\t\t\tdemand('-!/' + DEMAND_ID + '/cache/dispose').then(function(cacheDispose) {\n\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\tcacheDispose(dependency.source.length);\n\n\t\t\t\t\tcache.set(dependency);\n\t\t\t\t});\n\t\t\t});\n\t\t})\n\t\t.on(EVENT_POST_REQUEST, function(dependency) {\n\t\t\tif(dependency.source && enabled(dependency)) {\n\t\t\t\tstorage[dependency.id] = TRUE;\n\t\t\t}\n\t\t})\n\t\t.after(EVENT_POST_PROCESS, function(dependency) {\n\t\t\tif(storage[dependency.id]) {\n\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\tcache.set(dependency);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\tfunction enabled(dependency) {\n\t\tvar match;\n\n\t\tif(dependency.cache !== NULL) {\n\t\t\treturn dependency.cache;\n\t\t}\n\n\t\tfunctionIterate(settings.cache, function(property, value) {\n\t\t\tif(dependency.path.indexOf(property) === 0 && (!match || value.weight > match.weight)) {\n\t\t\t\tmatch = value;\n\t\t\t}\n\t\t});\n\n\t\treturn match ? match.state : FALSE;\n\t}\n\t\n\tfunction getKey(key) {\n\t\treturn localStorage.getItem(key);\n\t}\n\t\n\tfunction setKey(key, value) {\n\t\tlocalStorage[value ? 'setItem' : 'removeItem'](key, value);\n\t}\n\t\n\tfunction getState(key) {\n\t\tvar state = getKey(key),\n\t\t\tmatches;\n\n\t\tif(state && (matches = state.match(regexMatchProperties))) {\n\t\t\treturn functionToArray(matches, 1);\n\t\t}\n\t}\n\t\n\tfunction setState(key, state) {\n\t\tstate[4] = functionGetTimestamp();\n\n\t\tsetKey(key, state.join(','));\n\t}\n\n\tfunction emit(event, dependency, state) {\n\t\tsingletonEvent.emit(event, dependency.id, dependency, state);\n\t}\n\n\tfunction Cache() {\n\t\tfunctionDefer(this.clear.expired.bind(this.clear));\n\t}\n\n\tCache.prototype = {\n\t\tget:     supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\tvar id, state;\n\n\t\t\t\t\t\t\t\t\t\t\tif(enabled(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\tid    = STORAGE_PREFIX + '[' + dependency.id + ']';\n\t\t\t\t\t\t\t\t\t\t\t\tstate = getState(id + STORAGE_SUFFIX_STATE);\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(state && state[0] === dependency.version && ((!state[2] && !dependency.lifetime) || state[2] > functionGetTimestamp())) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tdependency.source = getKey(id + STORAGE_SUFFIX_VALUE);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tfunctionDefer(function() {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetState(id + STORAGE_SUFFIX_STATE, state);\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn TRUE;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\tresolve: supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\tvar self = this;\n\n\t\t\t\t\t\t\t\t\t\t\tif(self.get(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_HIT, dependency);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_MISS, dependency);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} : function(dependency) { emit(EVENT_CACHE_MISS, dependency); },\n\t\tset:     supportsLocalStorage ? function(dependency) {\n\t\t\t\t\t\t\t\t\t\t\tvar state, id, spaceBefore;\n\n\t\t\t\t\t\t\t\t\t\t\tif(enabled(dependency)) {\n\t\t\t\t\t\t\t\t\t\t\t\tstate = [ dependency.version, dependency.source.length, dependency.lifetime ? functionGetTimestamp() + dependency.lifetime : NULL, demand.version ];\n\t\t\t\t\t\t\t\t\t\t\t\tid    = STORAGE_PREFIX + '[' + dependency.id + ']';\n\n\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_PRE_CACHE, dependency, state);\n\n\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\tspaceBefore = supportsRemainingSpace ? localStorage.remainingSpace : NULL;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(id + STORAGE_SUFFIX_VALUE, dependency.source);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetState(id + STORAGE_SUFFIX_STATE, state);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t// strict equality check with \"===\" is required due to spaceBefore might be \"0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(spaceBefore !== NULL && localStorage.remainingSpace === spaceBefore) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error();\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_POST_CACHE, dependency, state);\n\t\t\t\t\t\t\t\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_EXCEED, dependency);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\tclear: {\n\t\t\tpath:    supportsLocalStorage ? function(path) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar id  = functionResolveId(path),\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey = STORAGE_PREFIX + '[' + id + ']';\n\n\t\t\t\t\t\t\t\t\t\t\t\tif(getKey(key + STORAGE_SUFFIX_STATE)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(key + STORAGE_SUFFIX_STATE);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetKey(key + STORAGE_SUFFIX_VALUE);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\temit(EVENT_CACHE_CLEAR, ClassDependency.get(id) || new ClassDependency(id, NULL, FALSE));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\t\tall:     supportsLocalStorage ? function() {\n\t\t\t\t\t\t\t\t\t\t\t\tvar match;\n\n\t\t\t\t\t\t\t\t\t\t\t\tfunctionIterate(localStorage, function(property) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatch = property.match(regexMatchState);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatch && this.path(match[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY,\n\t\t\texpired: supportsLocalStorage ? function() {\n\t\t\t\t\t\t\t\t\t\t\t\tvar self = this,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatch, state;\n\n\t\t\t\t\t\t\t\t\t\t\t\tfunctionIterate(localStorage, function(property) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tmatch = property.match(regexMatchState);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\tif(match) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstate = getState(STORAGE_PREFIX + '[' + match[1] + ']' + STORAGE_SUFFIX_STATE);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(state && state[2] > 0 && state[2] <= functionGetTimestamp()) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tself.path(match[1]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t\t\t\t\t\t\t} : FUNCTION_EMPTY\n\t\t}\n\t};\n\n\treturn (cache = new Cache());\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n \tFUNCTION_EMPTY, NULL,\n\tarrayPrototypeConcat,\n\tfunctionDefer, functionUuid, functionToArray,\n\tAbstractUuid\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require function/defer.js\n//=require function/uuid.js\n//=require function/toArray.js\n//=require abstract/uuid.js\n\nvar ClassPledge = (function() {\n\tvar PLEDGE_PENDING  = 'pending',\n\t\tPLEDGE_RESOLVED = 'resolved',\n\t\tPLEDGE_REJECTED = 'rejected',\n\t\tstorage         = {};\n\n\tfunction resolve() {\n\t\tstorage[this.uuid].handle(PLEDGE_RESOLVED, arguments);\n\t}\n\n\tfunction reject() {\n\t\tstorage[this.uuid].handle(PLEDGE_REJECTED, arguments);\n\t}\n\n\tfunction handle(state, parameter) {\n\t\tvar properties = storage[this.uuid],\n\t\t\tpointer, result;\n\n\t\tif(properties.state === PLEDGE_PENDING) {\n\t\t\tproperties.state = state;\n\t\t\tproperties.value = parameter;\n\t\t}\n\n\t\twhile(pointer = properties[properties.state].shift()) {\n\t\t\tresult = pointer.handler.apply(NULL, properties.value);\n\n\t\t\tif(result && typeof result.then === 'function') {\n\t\t\t\tresult.then(pointer.dfd.resolve, pointer.dfd.reject);\n\t\t\t} else {\n\t\t\t\tpointer.dfd[properties.state === PLEDGE_RESOLVED ? 'resolve' : 'reject'].apply(NULL, properties.value);\n\t\t\t}\n\t\t}\n\n\t\tproperties[PLEDGE_RESOLVED].length = 0;\n\t\tproperties[PLEDGE_REJECTED].length = 0;\n\t}\n\n\tfunction observe(pledge, index, properties) {\n\t\tpledge.then(\n\t\t\tfunction() {\n\t\t\t\tproperties.resolved[index] = functionToArray(arguments);\n\n\t\t\t\tproperties.count++;\n\n\t\t\t\tcheck(properties);\n\t\t\t},\n\t\t\tfunction() {\n\t\t\t\tproperties.rejected.push(functionToArray(arguments));\n\n\t\t\t\tcheck(properties);\n\t\t\t}\n\t\t);\n\t}\n\n\tfunction check(properties) {\n\t\tif(properties.count === properties.total) {\n\t\t\tproperties.dfd.resolve.apply(NULL, arrayPrototypeConcat.apply([], properties.resolved));\n\t\t} else if(properties.rejected.length + properties.count === properties.total) {\n\t\t\tproperties.dfd.reject.apply(NULL, arrayPrototypeConcat.apply([], properties.rejected));\n\t\t}\n\t}\n\n\tfunction ClassPledge(executor) {\n\t\tvar self = AbstractUuid.call(this);\n\n\t\tstorage[self.uuid] = { state: PLEDGE_PENDING, handle: handle.bind(self), value: NULL, resolved: [], rejected: [], count: 0 };\n\n\t\texecutor(resolve.bind(self), reject.bind(self));\n\t\t\n\t\treturn self;\n\t}\n\n\tClassPledge.prototype = {\n\t\t'catch': function(listener) {\n\t\t\treturn this.then(FUNCTION_EMPTY, listener);\n\t\t},\n\t\talways: function(alwaysListener) {\n\t\t\treturn this.then(alwaysListener, alwaysListener);\n\t\t},\n\t\tthen: function(resolveListener, rejectListener) {\n\t\t\tvar properties = storage[this.uuid],\n\t\t\t\tdfd        = ClassPledge.defer();\n\n\t\t\tresolveListener && properties[PLEDGE_RESOLVED].push({ handler: resolveListener, dfd: dfd });\n\t\t\trejectListener && properties[PLEDGE_REJECTED].push({ handler: rejectListener, dfd: dfd });\n\n\t\t\tif(properties.state !== PLEDGE_PENDING) {\n\t\t\t\tfunctionDefer(properties.handle);\n\t\t\t}\n\n\t\t\treturn dfd.pledge;\n\t\t},\n\t\tisPending: function() {\n\t\t\treturn storage[this.uuid].state === PLEDGE_PENDING;\n\t\t},\n\t\tisResolved: function() {\n\t\t\treturn storage[this.uuid].state === PLEDGE_RESOLVED;\n\t\t},\n\t\tisRejected: function() {\n\t\t\treturn storage[this.uuid].state === PLEDGE_REJECTED;\n\t\t}\n\t};\n\n\tClassPledge.defer = function() {\n\t\tvar self = {};\n\n\t\tself.pledge = new ClassPledge(function(resolveListener, rejectListener) {\n\t\t\tself.resolve = resolveListener;\n\t\t\tself.reject  = rejectListener;\n\t\t});\n\n\t\treturn self;\n\t};\n\n\tClassPledge.all = function(pledges) {\n\t\tvar dfd = ClassPledge.defer(),\n\t\t\tproperties, i = 0, pledge;\n\t\t\n\t\tif(pledges.length) {\n\t\t\tproperties = (storage[functionUuid()] = { dfd: dfd, resolved: [], rejected: [], total: pledges.length, count: 0 })\n\t\t\t\n\t\t\tfor(; pledge = pledges[i]; i++) {\n\t\t\t\tobserve(pledge, i, properties)\n\t\t\t}\n\t\t} else {\n\t\t\tdfd.resolve();\n\t\t}\n\n\t\treturn dfd.pledge;\n\t};\n\n\tClassPledge.race = function(pledges) {\n\t\tvar dfd = ClassPledge.defer(),\n\t\t\ti = 0, pledge;\n\n\t\tfor(; pledge = pledges[i]; i++) {\n\t\t\tpledge.then(dfd.resolve, dfd.reject);\n\t\t}\n\t\t\n\t\tif(!pledges.length) {\n\t\t\tdfd.resolve();\n\t\t}\n\n\t\treturn dfd.pledge;\n\t};\n\n\treturn ClassPledge.extends(AbstractUuid);\n}());","/* global \n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tDEMAND_ID, MODULE_PREFIX_HANDLER, ERROR_LOAD, DEMAND_ID, PROVIDE_ID, PATH_ID, MOCK_PREFIX, NULL, TRUE, FALSE,\n\tobject,\n\tregexMatchInternal, regexMatchParameter,\n\tvalidatorIsPositive,\n\tfunctionResolvePath, functionResolveId, functionResolveUrl, functionIterate, functionToArray,\n\tClassRegistry, ClassPledge, ClassFailure,\n\tsingletonCache\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require variables.js\n//=require validator/isPositive.js\n//=require function/resolvePath.js\n//=require function/resolveId.js\n//=require function/resolveUrl.js\n//=require function/iterate.js\n//=require function/toArray.js\n//=require class/registry.js\n//=require class/pledge.js\n//=require class/failure.js\n//=require singleton/cache.js\n\nvar ClassDependency = (function() {\n\tvar PREFIX_INTERNAL = 'internal!',\n\t\tregistry        = new ClassRegistry(),\n\t\tplaceholder     = [];\n\n\tfunction setProperty(property, value) {\n\t\tthis[property] = value;\n\t}\n\n\tfunction addPending(id, dependency) {\n\t\tif(dependency.pledge.isPending()) {\n\t\t\tthis.push(id);\n\t\t}\n\t}\n\n\tfunction addResolved(id, dependency) {\n\t\tif(dependency.pledge.isResolved()) {\n\t\t\tthis.push(id);\n\t\t}\n\t}\n\n\tfunction addRejected(id, dependency) {\n\t\tif(dependency.pledge.isRejected()) {\n\t\t\tthis.push(id);\n\t\t}\n\t}\n\n\tfunction ClassDependency(uri, context, register) {\n\t\tvar self      = this,\n\t\t\tparameter = uri.match(regexMatchParameter) || placeholder;\n\n\t\tself.path     = functionResolvePath(uri, context);\n\t\tself.mock     = parameter[1] ? TRUE : FALSE;\n\t\tself.cache    = parameter[2] ? parameter[1] === '+' : NULL;\n\t\tself.type     = parameter[3] || settings.handler;\n\t\tself.version  = parameter[4] || settings.version;\n\t\tself.lifetime = (parameter[5] && parameter[5] * 1000) || settings.lifetime;\n\t\tself.id       = (self.mock ? MOCK_PREFIX : '' ) + self.type + '!' + self.path;\n\t\tself.uri      = (self.mock ? MOCK_PREFIX : '' ) + self.type + '@' + self.version + (validatorIsPositive(self.lifetime) && self.lifetime > 0 ? '#' + self.lifetime : '' ) + '!' + self.path;\n\t\tself.dfd      = ClassPledge.defer();\n\t\tself.pledge   = self.dfd.pledge;\n\t\t\n\t\tself.pledge.then(function() {\n\t\t\tself.value = functionToArray(arguments);\n\t\t});\n\n\t\t(register !== FALSE) && registry.set(self.id, self);\n\n\t\treturn self;\n\t}\n\n\tClassDependency.prototype = {\n\t\tenqueue: true // handled by handler\n\t\t/* only for reference\n\t \tpath:     NULL,\n\t \tmock:     NULL,\n\t\tcache:    NULL,\n\t\ttype:     NULL,\n\t\tversion:  NULL,\n\t\tlifetime: NULL,\n\t \tid:       NULL,\n\t \turi:      NULL,\n\t\tdfd:      NULL,\n\t\tpledge:   NULL,\n\t\tvalue:    NULL,\n\t\thandler:  NULL, // set by Dependency.resolve\n\t \tsource:   NULL, // set by Cache or Loader\n\t \turl:      NULL // optional, set by Loader\n\t\t*/\n\t};\n\n\tClassDependency.get = function(uri, context) {\n\t\treturn registry.get(functionResolveId(uri, context));\n\t};\n\n\tClassDependency.resolve = function(uri, context) {\n\t\tvar isInternal = context && regexMatchInternal.test(uri),\n\t\t\tdependency = isInternal ? this.get(PREFIX_INTERNAL + context + '/' + uri) : this.get(uri, context),\n\t\t\tvalue;\n\n\t\tif(!dependency) {\n\t\t\tif(isInternal) {\n\t\t\t\tdependency = new ClassDependency(PREFIX_INTERNAL + context + '/' + uri);\n\n\t\t\t\tswitch(uri) {\n\t\t\t\t\tcase DEMAND_ID:\n\t\t\t\t\t\tvalue = (function() {\n\t\t\t\t\t\t\treturn functionIterate(demand, setProperty, demand.bind(context));\n\t\t\t\t\t\t}());\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase PROVIDE_ID:\n\t\t\t\t\t\tvalue = provide.bind(context);\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase PATH_ID:\n\t\t\t\t\t\tvalue = context;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tdependency.dfd.resolve(value);\n\t\t\t} else {\n\t\t\t\tdependency = new ClassDependency(uri, context);\n\n\t\t\t\tdemand(MODULE_PREFIX_HANDLER + dependency.type)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tfunction(handler) {\n\t\t\t\t\t\t\tdependency.handler = handler;\n\n\t\t\t\t\t\t\tif(dependency.mock) {\n\t\t\t\t\t\t\t\tdependency.dfd.resolve(handler);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsingletonCache.resolve(dependency);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_LOAD + ' (handler)', self.id));\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t}\n\t\t}\n\n\t\treturn dependency;\n\t};\n\n\tClassDependency.remove = function(uri, context, cache) {\n\t\tvar id   = functionResolveId(uri, context),\n\t\t\tnode = document.querySelector('[' + DEMAND_ID + '-id=\"' + id + '\"]');\n\n\t\tregistry.remove(id);\n\t\tregistry.remove(MOCK_PREFIX + id);\n\n\t\tnode && node.parentNode.removeChild(node);\n\n\t\t(cache !== FALSE) && singletonCache.clear.path(id);\n\t};\n\n\tClassDependency.list = {\n\t\tall: function() {\n\t\t\treturn object.keys(registry.get());\n\t\t},\n\t\tpending:  function() {\n\t\t\treturn functionIterate(registry.get(), addPending, []);\n\t\t},\n\t\tresolved: function() {\n\t\t\treturn functionIterate(registry.get(), addResolved, []);\n\t\t},\n\t\trejected: function() {\n\t\t\treturn functionIterate(registry.get(), addRejected, []);\n\t\t}\n\t};\n\n\treturn ClassDependency;\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tfunctionResolveUrl, functionEscapeRegex, functionIterate\n*/\n\n//=require function/resolveUrl.js\n//=require function/escapeRegex.js\n//=require function/iterate.js\n\nvar ClassPattern = (function() {\n\tvar regexMatchTrailingSlash = /(.+)\\/$/;\n\n\tfunction setProperty(property, value) {\n\t\tthis[property] = {\n\t\t\turl:   functionResolveUrl(value).replace(regexMatchTrailingSlash, '$1'),\n\t\t\tmatch: new RegExp('^' + functionEscapeRegex(value))\n\t\t};\n\t}\n\n\tfunction ClassPattern(pattern, url) {\n\t\tvar self = this;\n\n\t\tself.weight   = pattern.length;\n\t\tself.match    = new RegExp('^' + functionEscapeRegex(pattern));\n\t\tself.location = [].concat(url);\n\n\t\tfunctionIterate(self.location, setProperty, self.location);\n\t}\n\n\tClassPattern.prototype = {\n\t\t/* only for reference\n\t\t weight:   0,\n\t\t match:    NULL,\n\t\t location: NULL,\n\t\t */\n\t\tmatches: function(path) {\n\t\t\treturn this.match.test(path);\n\t\t},\n\t\tprocess: function(path, index) {\n\t\t\tvar current = this.location[index];\n\n\t\t\tif(current) {\n\t\t\t\treturn path.replace(this.match, current.url);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn ClassPattern;\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tTRUE,\n\tregexMatchBaseUrl,\n\tClassPledge\n*/\n\n//=require constants.js\n//=require shortcuts.js\n//=require variables.js\n//=require class/pledge.js\n\nvar ClassXhr = (function(XMLHttpRequest) {\n\tvar XDomainRequest = 'XDomainRequest' in global && global.XDomainRequest || XMLHttpRequest;\n\t\n\tfunction checkState() {\n\t\tif(this.readyState < 4) {\n\t\t\tthis.abort();\n\t\t}\n\t}\n\t\n\treturn function ClassXhr(url) {\n\t\tvar dfd             = ClassPledge.defer(),\n\t\t\txhr             = regexMatchBaseUrl.test(url) ? new XMLHttpRequest() : new XDomainRequest(),\n\t\t\tboundCheckState = checkState.bind(xhr),\n\t\t\ttimeout         = settings.timeout,\n\t\t\tpointer;\n\n\t\txhr.ontimeout = xhr.onerror = xhr.onabort = function() {\n\t\t\tdfd.reject(xhr.status);\n\t\t};\n\t\txhr.onprogress = xhr.onreadystatechange = function() {\n\t\t\tclearTimeout(pointer);\n\n\t\t\tpointer = setTimeout(boundCheckState, timeout);\n\t\t};\n\t\txhr.onload = function() {\n\t\t\tpointer = clearTimeout(pointer);\n\n\t\t\tif(!('status' in xhr) || xhr.status === 200) {\n\t\t\t\tdfd.resolve(xhr.responseText, xhr.getResponseHeader && xhr.getResponseHeader('content-type'));\n\t\t\t} else {\n\t\t\t\tdfd.reject(xhr.status);\n\t\t\t}\n\t\t};\n\n\t\txhr.open('GET', url, TRUE);\n\t\txhr.send();\n\t\t\n\t\tpointer = setTimeout(boundCheckState, timeout);\n\t\t\n\t\treturn dfd.pledge;\n\t};\n}(XMLHttpRequest));","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tSTRING_BOOLEAN, STRING_STRING, EVENT_PRE_RESOLVE, EVENT_POST_RESOLVE, EVENT_PRE_CONFIGURE, EVENT_POST_CONFIGURE, EVENT_CACHE_MISS, EVENT_CACHE_HIT, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, EVENT_PRE_PROCESS, EVENT_POST_PROCESS, NULL, FALSE,\n\tvalidatorIsTypeOf, validatorIsObject, validatorIsPositive, validatorIsInstanceOf,\n\tfunctionIterate, functionMerge, functionDefer, functionToArray,\n\tClassPledge, ClassDependency, ClassPattern, ClassLoader, \n\tsingletonEvent, singletonCache\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n//=require validator/isObject.js\n//=require validator/isPositive.js\n//=require validator/isInstanceOf.js\n//=require function/iterate.js\n//=require function/merge.js\n//=require function/defer.js\n//=require function/toArray.js\n//=require singleton/event.js\n//=require singleton/cache.js\n//=require class/pledge.js\n//=require class/dependency.js\n//=require class/pattern.js\n//=require class/loader.js\n\nglobal.demand = (function() {\n\tfunction updateCacheSettings(property, value) {\n\t\tthis[property] = { weight: property.length, state: value };\n\t}\n\n\tfunction updatePatternSettings(property, value) {\n\t\tproperty !== 'base' && (this[property] = new ClassPattern(property, value));\n\t}\n\n\tfunction updateModuleSettings(property, value) {\n\t\tvar temp = this[property] = this[property] || {};\n\n\t\tsingletonEvent.emit(EVENT_PRE_CONFIGURE, property, temp);\n\n\t\tfunctionMerge(temp, value);\n\n\t\tsingletonEvent.emit(EVENT_POST_CONFIGURE, property, temp);\n\t}\n\n\tfunction demand() {\n\t\tvar dependencies = functionToArray(arguments),\n\t\t\tcontext      = this !== global ? this : NULL,\n\t\t\ti = 0, uri, dfd, result;\n\t\t\n\t\tsingletonEvent.emit(EVENT_PRE_RESOLVE, NULL, dependencies, context);\n\t\t\n\t\tfor(; (uri = dependencies[i]); i++) {\n\t\t\tif(validatorIsTypeOf(uri, STRING_STRING)) {\n\t\t\t\tdependencies[i] = ClassDependency.resolve(uri, context).pledge;\n\t\t\t} else {\n\t\t\t\tdependencies[i] = (dfd = ClassPledge.defer()).pledge;\n\n\t\t\t\tdfd.resolve(uri);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(dependencies.length > 1) {\n\t\t\tresult = ClassPledge.all(dependencies);\n\t\t} else {\n\t\t\tresult = dependencies[0];\n\t\t}\n\t\t\n\t\treturn result.always(function() {\n\t\t\tsingletonEvent.emit(EVENT_POST_RESOLVE, NULL, dependencies, context);\n\t\t});\n\t}\n\n\tdemand.configure = function(options) {\n\t\tvar cache    = options.cache,\n\t\t\tversion  = options.version,\n\t\t\ttimeout  = options.timeout,\n\t\t\tlifetime = options.lifetime,\n\t\t\tbase     = options.base,\n\t\t\tpattern  = options.pattern,\n\t\t\tmodules  = options.modules,\n\t\t\tpointer  = settings.modules;\n\n\t\tif(validatorIsTypeOf(cache, STRING_BOOLEAN)) {\n\t\t\tsettings.cache[''] = { weight: 0, state: cache };\n\t\t} else if(validatorIsObject(cache)) {\n\t\t\tfunctionIterate(cache, updateCacheSettings, settings.cache);\n\t\t}\n\n\t\tif(validatorIsTypeOf(version, STRING_STRING)) {\n\t\t\tsettings.version = version;\n\t\t}\n\n\t\tif(validatorIsPositive(timeout)) {\n\t\t\tsettings.timeout = Math.min(Math.max(timeout, 2), 12) * 1000;\n\t\t}\n\n\t\tif(validatorIsPositive(lifetime) && lifetime > 0) {\n\t\t\tsettings.lifetime = lifetime * 1000;\n\t\t}\n\n\t\tif(validatorIsTypeOf(base, STRING_STRING) && base !== '') {\n\t\t\tsettings.pattern.base = new ClassPattern('', base);\n\t\t}\n\n\t\tif(validatorIsObject(pattern)) {\n\t\t\tfunctionIterate(pattern, updatePatternSettings, settings.pattern);\n\t\t}\n\n\t\tif(validatorIsObject(modules)) {\n\t\t\tfunctionIterate(modules, updateModuleSettings, pointer);\n\t\t}\n\n\t\treturn demand;\n\t};\n\n\tdemand.version = '{{gulp:package.version}}';\n\tdemand.on      = singletonEvent.on.bind(demand);\n\tdemand.get     = function(uri, context) { var dependency = ClassDependency.get(uri, context); return dependency && dependency.value; };\n\tdemand.remove  = ClassDependency.remove;\n\tdemand.list    = ClassDependency.list;\n\tdemand.clear   = singletonCache.clear;\n\n\tsingletonEvent\n\t\t.after(EVENT_CACHE_MISS, function(dependency) {\n\t\t\tnew ClassLoader(dependency);\n\t\t})\n\t\t.after(EVENT_POST_REQUEST, function(dependency) {\n\t\t\tvar pointer = dependency.handler.onPostRequest;\n\n\t\t\tpointer && pointer(dependency);\n\t\t})\n\t\t.after(EVENT_CACHE_HIT + ' ' + EVENT_POST_REQUEST, function(dependency) {\n\t\t\tsingletonEvent.emit(EVENT_PRE_PROCESS, dependency.id, dependency);\n\t\t})\n\t\t.after(EVENT_PRE_REQUEST, function(dependency) {\n\t\t\tvar pointer = dependency.handler.onPreRequest;\n\t\n\t\t\tpointer && pointer(dependency);\n\t\t})\n\t\t.after(EVENT_PRE_PROCESS, function(dependency) {\n\t\t\tvar pointer = dependency.handler.onPreProcess;\n\t\t\t\n\t\t\tpointer && pointer(dependency);\n\t\t\t\n\t\t\tdependency.pledge.then(function() {\n\t\t\t\tsingletonEvent.emit(EVENT_POST_PROCESS, dependency.id, dependency);\n\t\t\t});\n\n\t\t\tif(dependency.enqueue === true) {\n\t\t\t\tqueue.enqueue(dependency);\n\t\t\t} else if(validatorIsInstanceOf(dependency.enqueue, ClassPledge)) {\n\t\t\t\tdependency.enqueue.then(function() { queue.enqueue(dependency); });\n\t\t\t}\n\t\t});\n\n\treturn demand;\n}());","/* global \n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tSTRING_STRING, STRING_UNDEFINED, STRING_FUNCTION, ERROR_PROVIDE, ERROR_PROVIDE_ANONYMOUS, NULL,\n\tvalidatorIsTypeOf, validatorIsArray,\n\tClassDependency, ClassFailure\n*/\n\n//=require constants.js\n//=require validator/isTypeOf.js\n//=require validator/isArray.js\n//=require class/dependency.js\n//=require class/failure.js\n\nglobal.provide = function provide() {\n\tvar uri          = validatorIsTypeOf(arguments[0], STRING_STRING) ? arguments[0] : NULL,\n\t\tcontext      = this !== global ? this : NULL,\n\t\tdependencies = validatorIsArray(arguments[uri ? 1 : 0]) ? arguments[uri ? 1 : 0] : NULL,\n\t\tdefinition   = dependencies ? arguments[uri ? 2 : 1] : arguments[uri ? 1 : 0],\n\t\tmodule, isFunction;\n\n\tif(!uri && processor.current) {\n\t\tmodule = processor.current;\n\t\turi    = module.uri;\n\n\t\tprocessor.process();\n\t}\n\t\n\tif(uri) {\n\t\tmodule     = module || new ClassDependency(uri, context);\n\t\tisFunction = validatorIsTypeOf(definition, STRING_FUNCTION);\n\n\t\tif(dependencies) {\n\t\t\tdemand\n\t\t\t\t.apply(module.path, dependencies)\n\t\t\t\t.then(\n\t\t\t\t\tfunction() { module.dfd.resolve(isFunction ? definition.apply(NULL, arguments) : definition); },\n\t\t\t\t\tfunction() { module.dfd.reject(new ClassFailure(ERROR_PROVIDE, module.id, arguments)); }\n\t\t\t\t);\n\t\t} else {\n\t\t\tmodule.dfd.resolve(isFunction ? definition() : definition);\n\t\t}\n\t} else {\n\t\t/* eslint-disable no-console */\n\t\t!validatorIsTypeOf(console, STRING_UNDEFINED) && console.error(new ClassFailure(ERROR_PROVIDE_ANONYMOUS));\n\t\t/* eslint-enable no-console */\n\t}\n};","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tNULL\n*/\n\n//=require constants.js\n\nvar abstractHandler = (function() {\n\tfunction AbstractHandler() {\n\n\t}\n\n\tAbstractHandler.prototype = {\n\t\tvalidate: NULL,\n\t\tonPreRequest: NULL,\n\t\tonPostRequest: NULL,\n\t\tonPreProcess: NULL,\n\t\tprocess: NULL\n\t};\n\n\treturn AbstractHandler;\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tDEMAND_ID, EVENT_PRE_REQUEST, EVENT_POST_REQUEST, TRUE,\n\tfunctionResolveSourcemaps,\n\tabstractHandler\n*/\n\n//=require constants.js\n//=require function/resolveSourcemaps.js\n//=require abstract/handler.js\n\nvar handlerModule = (function() {\n\tvar suffix         = '.js',\n\t\ttarget         = document.getElementsByTagName('head')[0],\n\t\tregexMatchType = /^(application|text)\\/(x-)?javascript/;\n\n\tfunction HandlerModule() {}\n\n\tHandlerModule.prototype = {\n\t\tvalidate: function(type) {\n\t\t\treturn regexMatchType.test(type);\n\t\t},\n\t\tonPreRequest: function(dependency) {\n\t\t\tvar pathname = dependency.url.pathname;\n\t\t\t\n\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname;\n\t\t},\n\t\tonPostRequest: function(dependency) {\n\t\t\tdependency.source = functionResolveSourcemaps(dependency.url, dependency.source);\n\t\t},\n\t\tprocess: function(dependency) {\n\t\t\tvar script;\n\n\t\t\tif(dependency.source) {\n\t\t\t\tscript       = document.createElement('script');\n\t\t\t\tscript.async = TRUE;\n\t\t\t\tscript.text  = dependency.source;\n\n\t\t\t\tscript.setAttribute(DEMAND_ID + '-id', dependency.id);\n\n\t\t\t\ttarget.appendChild(script);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn new (HandlerModule.extends(abstractHandler));\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tMODULE_PREFIX_HANDLER, EVENT_POST_CONFIGURE, ERROR_RESOLVE, MOCK_PREFIX, STRING_STRING, FALSE, TRUE,\n\tregexMatchParameter, regexMatchSourcemap,\n\tvalidatorIsTypeOf, validatorIsObject,\n\tfunctionIterate, functionResolveId,\n\tabstractHandler,\n\tClassDependency, ClassPledge, ClassFailure,\n\thandlerModule\n*/\n\n//=require constants.js\n//=require variables.js\n//=require validator/isTypeOf.js\n//=require validator/isObject.js\n//=require function/iterate.js\n//=require function/resolveId.js\n//=require abstract/handler.js\n//=require class/dependency.js\n//=require class/pledge.js\n//=require class/Failure.js\n//=require handler/module.js\n\nvar handlerBundle = (function() {\n\tvar path     = MODULE_PREFIX_HANDLER + 'bundle',\n\t\tsettings = {};\n\n\tdemand\n\t\t.on(EVENT_POST_CONFIGURE + ':' + path, function(options) {\n\t\t\tif(validatorIsObject(options)) {\n\t\t\t\tsettings = options;\n\n\t\t\t\tfunctionIterate(settings, updateDependencies);\n\t\t\t}\n\t\t});\n\n\tfunction updateDependencies(uri, dependencies) {\n\t\tvar i, dependency;\n\n\t\tfor(i = 0; (dependency = dependencies[i]); i++) {\n\t\t\tif(validatorIsTypeOf(dependency, STRING_STRING)) {\n\t\t\t\tdependencies[i] = functionResolveId(dependency);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getType(dependencies) {\n\t\tvar type, i = 0, temp;\n\n\t\tfor(; (temp = dependencies[i]); i++) {\n\t\t\ttemp = temp.match(regexMatchParameter);\n\t\t\ttemp = (temp && temp[3]) || settings.handler;\n\n\t\t\tif(type) {\n\t\t\t\tif(temp !== type) {\n\t\t\t\t\treturn FALSE;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttype = temp;\n\t\t\t}\n\t\t}\n\n\t\treturn type;\n\t}\n\n\tfunction HandlerBundle() {}\n\n\tHandlerBundle.prototype = {\n\t\tvalidate: handlerModule.validate,\n\t\tonPreProcess: function(dependency) {\n\t\t\tvar source       = dependency.source,\n\t\t\t\tdfd          = dependency.dfd,\n\t\t\t\tdependencies = settings[dependency.path],\n\t\t\t\ttype, match, pledges, temp, i;\n\n\t\t\tdependency.enqueue = FALSE;\n\n\t\t\tfunction reject() {\n\t\t\t\tdfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id, arguments));\n\t\t\t}\n\n\t\t\tif(dependencies && (type = getType(dependencies))) {\n\t\t\t\twhile(match = regexMatchSourcemap.exec(source)) {\n\t\t\t\t\tsource = source.replace(match[0], '');\n\t\t\t\t}\n\n\t\t\t\tdependency.source = source;\n\t\t\t\tpledges           = [];\n\n\t\t\t\tfor(i = 0; (temp = dependencies[i]); i++) {\n\t\t\t\t\tpledges.push(ClassDependency.resolve(MOCK_PREFIX + temp).pledge);\n\t\t\t\t}\n\n\t\t\t\tClassPledge.all(pledges).then(\n\t\t\t\t\tfunction() {\n\t\t\t\t\t\tpledges.length = 0;\n\n\t\t\t\t\t\tfor(i = 0; (temp = dependencies[i]); i++) {\n\t\t\t\t\t\t\ttemp         = dependencies[i] = ClassDependency.get(temp) || new ClassDependency(temp);\n\t\t\t\t\t\t\ttemp.handler = arguments[i];\n\n\t\t\t\t\t\t\tpledges.push(temp.pledge);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(type === 'module') {\n\t\t\t\t\t\t\tqueue.enqueue.apply(queue, dependencies);\n\t\t\t\t\t\t\thandlerModule.process(dependency);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thandlerModule.process(dependency);\n\t\t\t\t\t\t\tqueue.enqueue.apply(queue, dependencies);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tClassPledge.all(pledges).then(dfd.resolve, reject);\n\t\t\t\t\t},\n\t\t\t\t\treject\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treject();\n\t\t\t}\n\t\t}\n\t};\n\n\treturn new (HandlerBundle.extends(abstractHandler));\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tFALSE, EVENT_POST_REQUEST, ERROR_RESOLVE,\n\tfunctionResolveSourcemaps,\n\tabstractHandler,\n\tClassDependency, ClassPledge, ClassFailure\n*/\n\n//=require constants.js\n//=require function/resolveSourcemaps.js\n//=require abstract/handler.js\n//=require class/dependency.js\n//=require class/pledge.js\n//=require class/Failure.js\n\nvar handlerComponent = (function() {\n\tvar suffix         = '.html',\n\t\tregexMatchType = /^text\\/.+$/;\n\n\tfunction HandlerComponent() {}\n\n\tHandlerComponent.prototype = {\n\t\tvalidate: function(type) {\n\t\t\treturn regexMatchType.test(type);\n\t\t},\n\t\tonPreRequest: function(dependency) {\n\t\t\tvar pathname = dependency.url.pathname;\n\t\t\t\n\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname;\n\t\t},\n\t\tonPostRequest: function(dependency) {\n\t\t\tdependency.source = functionResolveSourcemaps(dependency.url, dependency.source);\n\t\t},\n\t\tonPreProcess: function(dependency) {\n\t\t\tvar context   = dependency.path,\n\t\t\t\tdfd       = dependency.dfd,\n\t\t\t\tcontainer = document.createElement('body'),\n\t\t\t\tmodules   = [],\n\t\t\t\tpledges   = [],\n\t\t\t\tnode, handler, path, uri;\n\n\t\t\tdependency.enqueue  = FALSE;\n\t\t\tcontainer.innerHTML = dependency.source;\n\n\t\t\tfunction reject() {\n\t\t\t\tdfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id, arguments));\n\t\t\t}\n\n\t\t\twhile(node = container.firstElementChild) {\n\t\t\t\tif(handler = node.getAttribute('type')) {\n\t\t\t\t\tpath = node.getAttribute('path');\n\t\t\t\t\turi  = handler + '!' + context + (path ? '/' + path : '');\n\n\t\t\t\t\tnode.parentNode.removeChild(node);\n\t\t\t\t\tmodules.push({ source: node.textContent, uri:  uri });\n\t\t\t\t\tpledges.push(ClassDependency.resolve('mock:' + uri).pledge);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tClassPledge.all(pledges).then(\n\t\t\t\tfunction() {\n\t\t\t\t\tvar i = 0, module, dependency;\n\n\t\t\t\t\tpledges.length = 0;\n\n\t\t\t\t\tfor(; (module = modules[i]); i++) {\n\t\t\t\t\t\tdependency         = ClassDependency.get(module.uri) || new ClassDependency(module.uri);\n\t\t\t\t\t\tdependency.source  = functionResolveSourcemaps(dependency.url, module.source);\n\t\t\t\t\t\tdependency.handler = arguments[i];\n\n\t\t\t\t\t\tpledges.push(dependency.pledge);\n\n\t\t\t\t\t\tqueue.enqueue(dependency);\n\t\t\t\t\t}\n\n\t\t\t\t\tClassPledge.all(pledges).then(dfd.resolve, reject);\n\t\t\t\t},\n\t\t\t\treject\n\t\t\t);\n\t\t}\n\t};\n\n\treturn new (HandlerComponent.extends(abstractHandler));\n}());","/* global\n\tglobal, document, demand, provide, queue, processor, settings, setTimeout, clearTimeout, storage,\n\tMODULE_PREFIX_PLUGIN, MODULE_PREFIX_HANDLER, EVENT_POST_CONFIGURE, EVENT_PRE_RESOLVE, STRING_STRING, ERROR_RESOLVE, FALSE, TRUE,\n\tregexMatchInternal,\n\tvalidatorIsObject, validatorIsTypeOf,\n\tfunctionIterate, functionHash,\n\tClassDependency, ClassFailure,\n\tsingletonCache\n*/\n\n//=require constants.js\n//=require variables.js\n//=require validator/isTypeOf.js\n//=require validator/isObject.js\n//=require function/iterate.js\n//=require function/hash.js\n//=require class/dependency.js\n//=require class/failure.js\n//=require singleton/cache.js\n\nvar pluginGenie = (function() {\n\tvar path    = MODULE_PREFIX_PLUGIN + 'genie',\n\t\tpattern = [];\n\n\tfunction matchPattern(path) {\n\t\tvar i = 0, pointer, match;\n\n\t\tfor(; (pointer = pattern[i]); i++) {\n\t\t\tif(path.indexOf(pointer.prefix) === 0 && (!match || pointer.weight > match.weight)) {\n\t\t\t\tmatch = pointer;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfunction generateConfiguration(bundle) {\n\t\tvar matches       = bundle.matches,\n\t\t\tconfiguration = { pattern: {}, modules: { '/demand/handler/bundle': {} } },\n\t\t\ti = 0, pointer, dependency;\n\n\t\tconfiguration.pattern[bundle.id] = bundle.fn(matches);\n\t\tconfiguration.modules[MODULE_PREFIX_HANDLER + 'bundle'][bundle.id] = pointer = [];\n\n\t\tfor(; (dependency = matches[i]); i++) {\n\t\t\tpointer.push(dependency.path);\n\t\t}\n\n\t\treturn configuration;\n\t}\n\n\tfunction resolveDependencies() {\n\t\tvar i = 0, dependency;\n\n\t\tfor(; (dependency = this[i]); i++) {\n\t\t\tdependency.dfd.resolve(arguments[i]);\n\t\t}\n\t}\n\n\tfunction rejectDependencies() {\n\t\tvar i = 0, dependency;\n\n\t\tfor(; (dependency = this[i]); i++) {\n\t\t\tdependency.dfd.reject(new ClassFailure(ERROR_RESOLVE, dependency.id));\n\t\t}\n\t}\n\n\tfunction addPattern(property, value) {\n\t\tpattern.push({ prefix: property, weight: property.length, fn: value });\n\t}\n\n\tfunction resolveBundles(property, value) {\n\t\tvar matches = value.matches,\n\t\t\ti = 0, dependency;\n\n\t\tif(matches.length > 1) {\n\t\t\tvalue.id = path + '/' + functionHash(JSON.stringify(value.matches));\n\n\t\t\tfor(; (dependency = matches[i]); i++) {\n\t\t\t\tmatches[i] = new ClassDependency(dependency.uri);\n\t\t\t}\n\n\t\t\tdemand.configure(generateConfiguration(value));\n\t\t\tdemand('bundle!' + value.id)\n\t\t\t\t.then(\n\t\t\t\t\tresolveDependencies.bind(matches),\n\t\t\t\t\trejectDependencies.bind(matches)\n\t\t\t\t);\n\t\t}\n\t}\n\n\tdemand\n\t\t.on(EVENT_POST_CONFIGURE + ':' + path, function(options) {\n\t\t\tif(validatorIsObject(options)) {\n\t\t\t\tpattern.length = 0;\n\n\t\t\t\tfunctionIterate(options, addPattern);\n\t\t\t}\n\t\t})\n\t\t.on(EVENT_PRE_RESOLVE, function(dependencies, context) {\n\t\t\tvar bundles = {},\n\t\t\t\ti = 0, dependency, pattern;\n\n\t\t\tfor(; (dependency = dependencies[i]); i++) {\n\t\t\t\tif(validatorIsTypeOf(dependency, STRING_STRING) && !regexMatchInternal.test(dependency) && !ClassDependency.get(dependency, context)) {\n\t\t\t\t\tdependency = new ClassDependency(dependency, context, FALSE);\n\n\t\t\t\t\tif(dependency.type === 'module' && (pattern = matchPattern(dependency.path)) && !singletonCache.get(dependency)) {\n\t\t\t\t\t\t(bundles[pattern.prefix] || (bundles[pattern.prefix] = { fn: pattern.fn, matches: [] })).matches.push(dependency);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunctionIterate(bundles, resolveBundles);\n\t\t});\n\n\treturn TRUE;\n}());"]}