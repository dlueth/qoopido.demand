{"version":3,"sources":["handler/html.js"],"names":["provide","abstractHandler","HandlerHtml","suffix","regexMatchType","container","document","createElement","prototype","validate","type","test","onPreRequest","dependency","pathname","url","slice","length","process","source","node","fragment","createDocumentFragment","innerHTML","firstElementChild","appendChild","parseHtml","extends"],"mappings":";CAAA,WACA,aA8BAA,QAAA,CAAA,4BA5BA,SAAAC,GAQA,SAAAC,KACA,IAAAC,EAAA,QACAC,EAAA,cACAC,EAAAC,SAAAC,cAAA,QAeA,OAdAL,EAAAM,UAAA,CACAC,SAAA,SAAAC,GACA,OAAAN,EAAAO,KAAAD,IAEAE,aAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAE,IAAAD,SACAD,EAAAE,IAAAD,SAAAA,EAAAE,OAAAb,EAAAc,UAAAd,EAAAW,EAAAX,EAAAW,GAEAI,QAAA,SAAAL,GACAb,QAAA,WACA,OArBA,SAAAmB,GACA,IAAAC,EAAAC,EAAAf,SAAAgB,yBAEA,IADAjB,EAAAkB,UAAAJ,EACAC,EAAAf,EAAAmB,mBAAAH,EAAAI,YAAAL,GACA,OAAAC,EAiBAK,CAAAb,EAAAM,YAIA,IAAAjB,EAAAyB,QAAA1B,MA7BA","file":"html.js","sourcesContent":["/**! Qoopido.demand 5.2.0 | https://github.com/dlueth/qoopido.demand | (c) 2018 Dirk Lueth */\n(function () {\n\t\"use strict\";\n\n\tfunction definition(abstractHandler) {\n\t\tfunction parseHtml(source) {\n\t\t\tvar node, fragment = document.createDocumentFragment();\n\t\t\tcontainer.innerHTML = source;\n\t\t\twhile (node = container.firstElementChild) fragment.appendChild(node);\n\t\t\treturn fragment\n\t\t}\n\n\t\tfunction HandlerHtml() {}\n\t\tvar suffix = \".html\",\n\t\t\tregexMatchType = /^text\\/html/,\n\t\t\tcontainer = document.createElement(\"body\");\n\t\tHandlerHtml.prototype = {\n\t\t\tvalidate: function (type) {\n\t\t\t\treturn regexMatchType.test(type)\n\t\t\t},\n\t\t\tonPreRequest: function (dependency) {\n\t\t\t\tvar pathname = dependency.url.pathname;\n\t\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname\n\t\t\t},\n\t\t\tprocess: function (dependency) {\n\t\t\t\tprovide(function () {\n\t\t\t\t\treturn parseHtml(dependency.source)\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\t\treturn new(HandlerHtml.extends(abstractHandler))\n\t}\n\tprovide([\"/demand/abstract/handler\"], definition)\n})();\n"]}