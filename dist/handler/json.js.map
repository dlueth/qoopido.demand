{"version":3,"sources":["handler/json.js"],"names":["provide","abstractHandler","regexMatchType","HandlerJson","prototype","validate","type","test","onPreRequest","dependency","pathname","url","slice","length","process","data","JSON","parse","source","extends"],"mappings":";CAAA,WACI,aAwBAA,SAAS,4BAtBT,SAAoBC,GAChB,IACIC,EAAiB,qBAErB,SAASC,KAgBT,OAfAA,EAAYC,WACRC,SAAU,SAASC,GACf,OAAOJ,EAAeK,KAAKD,IAE/BE,aAAc,SAASC,GACnB,IAAIC,EAAWD,EAAWE,IAAID,SAC9BD,EAAWE,IAAID,SAVV,UAUqBA,EAASE,OAV9B,QAU4CC,QAAqBH,EAVjE,QAUqFA,GAE9FI,QAAS,SAASL,GACd,IAAIM,EAAOC,KAAKC,MAAMR,EAAWS,QACjClB,QAAQ,WACJ,OAAOe,MAIZ,IAAIZ,EAAYgB,QAAQlB,MAvBvC","file":"json.js","sourcesContent":["(function() {\n    \"use strict\";\n\n    function definition(abstractHandler) {\n        var suffix = \".json\",\n            regexMatchType = /^application\\/json/;\n\n        function HandlerJson() {}\n        HandlerJson.prototype = {\n            validate: function(type) {\n                return regexMatchType.test(type)\n            },\n            onPreRequest: function(dependency) {\n                var pathname = dependency.url.pathname;\n                dependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname\n            },\n            process: function(dependency) {\n                var data = JSON.parse(dependency.source);\n                provide(function() {\n                    return data\n                })\n            }\n        };\n        return new(HandlerJson.extends(abstractHandler))\n    }\n    provide([\"/demand/abstract/handler\"], definition)\n})();"]}