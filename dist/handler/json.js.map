{"version":3,"sources":["handler/json.js"],"names":["provide","abstractHandler","HandlerJson","suffix","regexMatchType","prototype","validate","type","test","onPreRequest","dependency","pathname","url","slice","length","process","data","JSON","parse","source","extends"],"mappings":";CAAA,WACA,aAuBAA,SAAA,4BArBA,SAAAC,GACA,SAAAC,KACA,IAAAC,EAAA,QACAC,EAAA,qBAgBA,OAfAF,EAAAG,WACAC,SAAA,SAAAC,GACA,OAAAH,EAAAI,KAAAD,IAEAE,aAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAE,IAAAD,SACAD,EAAAE,IAAAD,SAAAA,EAAAE,OAAAV,EAAAW,UAAAX,EAAAQ,EAAAR,EAAAQ,GAEAI,QAAA,SAAAL,GACA,IAAAM,EAAAC,KAAAC,MAAAR,EAAAS,QACAnB,QAAA,WACA,OAAAgB,MAIA,IAAAd,EAAAkB,QAAAnB,MAtBA","file":"json.js","sourcesContent":["/**! Qoopido.demand 5.0.2 | https://github.com/dlueth/qoopido.demand | (c) 2018 Dirk Lueth */\n(function () {\n\t\"use strict\";\n\n\tfunction definition(abstractHandler) {\n\t\tfunction HandlerJson() {}\n\t\tvar suffix = \".json\",\n\t\t\tregexMatchType = /^application\\/json/;\n\t\tHandlerJson.prototype = {\n\t\t\tvalidate: function (type) {\n\t\t\t\treturn regexMatchType.test(type)\n\t\t\t},\n\t\t\tonPreRequest: function (dependency) {\n\t\t\t\tvar pathname = dependency.url.pathname;\n\t\t\t\tdependency.url.pathname = pathname.slice(-suffix.length) !== suffix ? pathname + suffix : pathname\n\t\t\t},\n\t\t\tprocess: function (dependency) {\n\t\t\t\tvar data = JSON.parse(dependency.source);\n\t\t\t\tprovide(function () {\n\t\t\t\t\treturn data\n\t\t\t\t})\n\t\t\t}\n\t\t};\n\t\treturn new(HandlerJson.extends(abstractHandler))\n\t}\n\tprovide([\"/demand/abstract/handler\"], definition)\n})();\n"]}