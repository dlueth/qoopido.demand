{"version":3,"sources":["cache/states.js"],"names":["localStorage","provide","functionIterate","filterStates","property","state","id","match","regexMatchState","key","matches","getItem","regexMatchProperties","Array","prototype","slice","call","getState","PREFIX","SUFFIX","this","push","version","size","parseInt","expires","Date","demand","accessed","RegExp"],"mappings":";CAAA,SAAAA,GACA,aAkCAC,QAAA,CAAA,4BAhCA,SAAAC,GAUA,SAAAC,EAAAC,GACA,IAAAC,EALAC,EAKAC,EAAAH,EAAAG,MAAAC,GACAD,IACAF,EAZA,SAAAI,GACA,IAAAC,EAAAL,EAAAL,EAAAW,QAAAF,GACA,GAAAJ,IAAAK,EAAAL,EAAAE,MAAAK,IAAA,OAAAC,MAAAC,UAAAC,MAAAC,KAAAN,EAAA,GAUAO,EAPAX,EAOAC,EAAA,GANA,IAAAW,EAAA,KAAAZ,EAAA,KAAAa,EAAA,MAOAC,KAAAC,KAAA,CACAf,GAAAC,EAAA,GACAe,QAAAjB,EAAA,GACAkB,KAAAC,SAAAnB,EAAA,GAAA,IACAoB,QAAApB,EAAA,GAAA,IAAAqB,KAAAF,SAAAnB,EAAA,GAAA,KAAA,KACAsB,OAAAtB,EAAA,GACAuB,SAAA,IAAAF,KAAAF,SAAAnB,EAAA,GAAA,QAIA,IAAAa,EAAA,SACAC,EAAA,QACAX,EAAA,IAAAqB,OAAA,OAAAX,EAAA,oBAAAC,EAAA,QACAP,EAAA,kCACA,OAAA,WACA,OAAAV,EAAAF,EAAAG,EAAA,OAhCA,CAoCAH","file":"states.js","sourcesContent":["/**! Qoopido.demand 5.1.1 | https://github.com/dlueth/qoopido.demand | (c) 2018 Dirk Lueth */\n(function (localStorage) {\n\t\"use strict\";\n\n\tfunction definition(functionIterate) {\n\t\tfunction getState(key) {\n\t\t\tvar matches, state = localStorage.getItem(key);\n\t\t\tif (state && (matches = state.match(regexMatchProperties))) return Array.prototype.slice.call(matches, 1)\n\t\t}\n\n\t\tfunction getKey(id) {\n\t\t\treturn \"[\" + PREFIX + \"][\" + id + \"][\" + SUFFIX + \"]\"\n\t\t}\n\n\t\tfunction filterStates(property) {\n\t\t\tvar state, match = property.match(regexMatchState);\n\t\t\tif (match) {\n\t\t\t\tstate = getState(getKey(match[1]));\n\t\t\t\tthis.push({\n\t\t\t\t\tid: match[1],\n\t\t\t\t\tversion: state[0],\n\t\t\t\t\tsize: parseInt(state[1], 10),\n\t\t\t\t\texpires: state[2] ? new Date(parseInt(state[2], 10)) : null,\n\t\t\t\t\tdemand: state[3],\n\t\t\t\t\taccessed: new Date(parseInt(state[4], 10))\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\tvar PREFIX = \"demand\",\n\t\t\tSUFFIX = \"state\",\n\t\t\tregexMatchState = new RegExp(\"^\\\\[\" + PREFIX + \"\\\\]\\\\[(.+?)\\\\]\\\\[\" + SUFFIX + \"\\\\]$\"),\n\t\t\tregexMatchProperties = /^(.+?),(\\d+),(\\d*),(.+?),(\\d+)$/;\n\t\treturn function () {\n\t\t\treturn functionIterate(localStorage, filterStates, [])\n\t\t}\n\t}\n\tprovide([\"/demand/function/iterate\"], definition)\n})(localStorage);\n"]}